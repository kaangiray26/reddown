var r;!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.FFmpeg=e():t.FFmpeg=e()}(self,(function(){return(()=>{var t={725:(t,e,r)=>{"use strict";t.exports=r.p+"046d0074eee1d99a674a.js"},839:(t,e,r)=>{"use strict";r.r(e),r.d(e,{defaultOptions:()=>i,fetchFile:()=>p,getCreateFFmpegCore:()=>l});var n=r(306);const i={corePath:"https://unpkg.com/@ffmpeg/core@".concat(n.devDependencies["@ffmpeg/core"].substring(1),"/dist/ffmpeg-core.js")};var o=r(185),s=r(835);function a(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,i)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){a(o,n,i,s,u,"next",t)}function u(t){a(o,n,i,s,u,"throw",t)}s(void 0)}))}}var c=function(){var t=u(regeneratorRuntime.mark((function t(e,r){var n,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,o.log)("info","fetch ".concat(e)),t.next=3,fetch(e);case 3:return t.next=5,t.sent.arrayBuffer();case 5:return n=t.sent,(0,o.log)("info","".concat(e," file size = ").concat(n.byteLength," bytes")),i=new Blob([n],{type:r}),s=URL.createObjectURL(i),(0,o.log)("info","".concat(e," blob URL = ").concat(s)),t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),l=function(){var t=u(regeneratorRuntime.mark((function t(e){var r,n,i,a,u,l,f,h,p,d,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.corePath,n=e.workerPath,i=e.wasmPath,!("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope)){t.next=18;break}if("string"==typeof r){t.next=4;break}throw Error("corePath should be a string!");case 4:return a=new URL(r,"file:///home/jeromewu/repos/ffmpeg.wasm/src/browser/getCreateFFmpegCore.js").href,t.next=7,c(a,"application/javascript");case 7:return u=t.sent,t.next=10,c(void 0!==i?i:a.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm");case 10:return l=t.sent,t.next=13,c(void 0!==n?n:a.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");case 13:if(f=t.sent,"undefined"!=typeof createFFmpegCore){t.next=16;break}return t.abrupt("return",new Promise((function(t){if(globalThis.importScripts(u),"undefined"==typeof createFFmpegCore)throw Error((0,s.CREATE_FFMPEG_CORE_IS_NOT_DEFINED)(a));(0,o.log)("info","ffmpeg-core.js script loaded"),t({createFFmpegCore:createFFmpegCore,corePath:u,wasmPath:l,workerPath:f})})));case 16:return(0,o.log)("info","ffmpeg-core.js script is loaded already"),t.abrupt("return",Promise.resolve({createFFmpegCore:createFFmpegCore,corePath:u,wasmPath:l,workerPath:f}));case 18:if("string"==typeof r){t.next=20;break}throw Error("corePath should be a string!");case 20:return h=new URL(r,"file:///home/jeromewu/repos/ffmpeg.wasm/src/browser/getCreateFFmpegCore.js").href,t.next=23,c(h,"application/javascript");case 23:return p=t.sent,t.next=26,c(h.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm");case 26:return d=t.sent,t.next=29,c(h.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");case 29:if(_=t.sent,"undefined"!=typeof createFFmpegCore){t.next=32;break}return t.abrupt("return",new Promise((function(t){var e=document.createElement("script");e.src=p,e.type="text/javascript",e.addEventListener("load",(function r(){if(e.removeEventListener("load",r),"undefined"==typeof createFFmpegCore)throw Error((0,s.CREATE_FFMPEG_CORE_IS_NOT_DEFINED)(h));(0,o.log)("info","ffmpeg-core.js script loaded"),t({createFFmpegCore:createFFmpegCore,corePath:p,wasmPath:d,workerPath:_})})),document.getElementsByTagName("head")[0].appendChild(e)})));case 32:return(0,o.log)("info","ffmpeg-core.js script is loaded already"),t.abrupt("return",Promise.resolve({createFFmpegCore:createFFmpegCore,corePath:p,wasmPath:d,workerPath:_}));case 34:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function f(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,i)}var h=function(t){return new Promise((function(e,r){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(t){var e=t.target.error.code;r(Error("File could not be read! Code=".concat(e)))},n.readAsArrayBuffer(t)}))},p=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,void 0!==e){t.next=3;break}return t.abrupt("return",new Uint8Array);case 3:if("string"!=typeof e){t.next=16;break}if(!/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e)){t.next=8;break}r=atob(e.split(",")[1]).split("").map((function(t){return t.charCodeAt(0)})),t.next=14;break;case 8:return t.next=10,fetch(new URL(e,"file:///home/jeromewu/repos/ffmpeg.wasm/src/browser/fetchFile.js").href);case 10:return n=t.sent,t.next=13,n.arrayBuffer();case 13:r=t.sent;case 14:t.next=20;break;case 16:if(!(e instanceof File||e instanceof Blob)){t.next=20;break}return t.next=19,h(e);case 19:r=t.sent;case 20:return t.abrupt("return",new Uint8Array(r));case 21:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(t){f(o,n,i,s,a,"next",t)}function a(t){f(o,n,i,s,a,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}()},500:t=>{t.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:function(){},progress:function(){},corePath:""}}},906:(t,e,r)=>{function n(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,i)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var s=t.apply(e,r);function a(t){i(s,n,o,a,u,"next",t)}function u(t){i(s,n,o,a,u,"throw",t)}a(void 0)}))}}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var p=r(500),d=p.defaultArgs,_=p.baseOptions,m=r(319),v=r(839),g=v.defaultOptions,y=v.getCreateFFmpegCore,b=r(306).version,w=Error("ffmpeg.wasm is not ready, make sure you have completed load().");t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l(l(l({},_),g),t),r=e.log,i=(e.logger,e.progress),a=h(e,["log","logger","progress"]),u=null,c=null,f=null,p=null,v=!1,j=function(){},E=r,k=i,x=0,O=0,S=!1,C=0,R=function(t){"FFMPEG_END"===t&&null!==f&&(f(),f=null,p=null,v=!1)},P=function(t,e){j({type:t,message:e}),E&&console.log("[".concat(t,"] ").concat(e))},T=function(t){var e=s(t.split(":"),3),r=e[0],n=e[1],i=e[2];return 60*parseFloat(r)*60+60*parseFloat(n)+parseFloat(i)},A=function(t,e){if("string"==typeof t)if(t.startsWith("  Duration")){var r=t.split(", ")[0].split(": ")[1],n=T(r);e({duration:n,ratio:C}),(0===x||x>n)&&(x=n,S=!0)}else if(S&&t.startsWith("    Stream")){var i=t.match(/([\d.]+) fps/);if(i){var o=parseFloat(i[1]);O=x*o}else O=0;S=!1}else if(t.startsWith("frame")||t.startsWith("size")){var s=t.split("time=")[1].split(" ")[0],a=T(s),u=parseFloat(t.match(/frame=\s*(\d+)/)[1]);e({ratio:C=O?Math.min(u/O,1):a/x,time:a})}else t.startsWith("video:")&&(e({ratio:1}),x=0)},F=function(t){var e=t.type,r=t.message;P(e,r),A(r,k),R(r)},L=function(){var t=o(regeneratorRuntime.mark((function t(){var e,r,n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(P("info","load ffmpeg-core"),null!==u){t.next=17;break}return P("info","loading ffmpeg-core"),t.next=5,y(a);case 5:return e=t.sent,r=e.createFFmpegCore,n=e.corePath,i=e.workerPath,o=e.wasmPath,t.next=12,r({mainScriptUrlOrBlob:n,printErr:function(t){return F({type:"fferr",message:t})},print:function(t){return F({type:"ffout",message:t})},locateFile:function(t,e){if("undefined"!=typeof window||"undefined"!=typeof WorkerGlobalScope){if(void 0!==o&&t.endsWith("ffmpeg-core.wasm"))return o;if(void 0!==i&&t.endsWith("ffmpeg-core.worker.js"))return i}return e+t}});case 12:u=t.sent,c=u.cwrap(a.mainName||"proxy_main","number",["number","number"]),P("info","ffmpeg-core loaded"),t.next=18;break;case 17:throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){return null!==u},I=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(P("info","run ffmpeg command: ".concat(e.join(" "))),null===u)throw w;if(v)throw Error("ffmpeg.wasm can only run one command at a time");return v=!0,new Promise((function(t,r){var i=[].concat(n(d),e).filter((function(t){return 0!==t.length}));f=t,p=r,c.apply(void 0,n(m(u,i)))}))},U=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(P("info","run FS.".concat(t," ").concat(r.map((function(t){return"string"==typeof t?t:"<".concat(t.length," bytes binary file>")})).join(" "))),null===u)throw w;var i=null;try{var o;i=(o=u.FS)[t].apply(o,r)}catch(e){throw"readdir"===t?Error("ffmpeg.FS('readdir', '".concat(r[0],"') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')")):"readFile"===t?Error("ffmpeg.FS('readFile', '".concat(r[0],"') error. Check if the path exists")):Error("Oops, something went wrong in FS operation.")}return i},N=function(){if(null===u)throw w;p&&p("ffmpeg has exited"),v=!1;try{u.exit(1)}catch(t){P(t.message),p&&p(t)}finally{u=null,c=null,f=null,p=null}},D=function(t){k=t},q=function(t){j=t},B=function(t){E=t};return P("info","use ffmpeg.wasm v".concat(b)),{setProgress:D,setLogger:q,setLogging:B,load:L,isLoaded:M,run:I,exit:N,FS:U}}},352:(t,e,r)=>{r(666);var n=r(906),i=r(839).fetchFile;t.exports={createFFmpeg:n,fetchFile:i}},835:t=>{t.exports={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:function(t){return"\ncreateFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ".concat(t,". Use another URL when calling createFFmpeg():\n\nconst ffmpeg = createFFmpeg({\n  corePath: 'http://localhost:3000/ffmpeg-core.js',\n});\n")}}},185:t=>{var e=!1,r=function(){};t.exports={logging:e,setLogging:function(t){e=t},setCustomLogger:function(t){r=t},log:function(t,n){r({type:t,message:n}),e&&console.log("[".concat(t,"] ").concat(n))}}},319:t=>{t.exports=function(t,e){var r=t._malloc(e.length*Uint32Array.BYTES_PER_ELEMENT);return e.forEach((function(e,n){var i=t.lengthBytesUTF8(e)+1,o=t._malloc(i);t.stringToUTF8(e,o,i),t.setValue(r+Uint32Array.BYTES_PER_ELEMENT*n,o,"i32")})),[e.length,r]}},666:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),s=new C(n||[]);return o._invoke=function(t,e,r){var n=f;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw o;return P()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=x(s,r);if(a){if(a===_)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=l(t,e,r);if("normal"===u.type){if(n=r.done?d:h,u.arg===_)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,s),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",_={};function m(){}function v(){}function g(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(R([])));w&&w!==r&&n.call(w,o)&&(y=w);var j=g.prototype=m.prototype=Object.create(y);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(i,o,s,a){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(f).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,a)}))}a(u.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function x(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,x(t,r),"throw"===r.method))return _;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var i=l(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,_;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,_):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function R(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}return{next:P}}function P(){return{value:e,done:!0}}return v.prototype=j.constructor=g,g.constructor=v,v.displayName=u(g,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,a,"GeneratorFunction")),t.prototype=Object.create(j),t},t.awrap=function(t){return{__await:t}},E(k.prototype),k.prototype[s]=function(){return this},t.AsyncIterator=k,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new k(c(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},E(j),u(j,a,"Generator"),j[o]=function(){return this},j.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=R,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return a.type="throw",a.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),_}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},306:t=>{"use strict";t.exports=JSON.parse('{"name":"@ffmpeg/ffmpeg","version":"0.11.3","description":"FFmpeg WebAssembly version","main":"src/index.js","types":"src/index.d.ts","directories":{"example":"examples"},"scripts":{"start":"node scripts/server.js","start:worker":"node scripts/worker-server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","build:worker":"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js","prepublishOnly":"npm run build","lint":"eslint src","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"keywords":["ffmpeg","WebAssembly","video"],"author":"Jerome Wu <jeromewus@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","dependencies":{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},"devDependencies":{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.11.0","@types/emscripten":"^1.39.4","babel-eslint":"^10.1.0","babel-loader":"^8.1.0","chai":"^4.2.0","cors":"^2.8.5","eslint":"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1","express":"^4.17.1","mocha":"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0","webpack":"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"}}')}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}return r.m=t,r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),r.b=document.baseURI||self.location.href,r(352)})()})),function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};e[s][0].call(l.exports,(function(t){return i(e[s][1][t]||t)}),l,l.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("bluebird")).default.getNewLibraryCopy();n.config({cancellation:!0,warnings:!1});var i=n;r.default=i},{bluebird:26}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_LISTING_ITEMS=r.MAX_API_MORECHILDREN_AMOUNT=r.MAX_API_INFO_AMOUNT=r.MAX_TOKEN_LATENCY=r.IDEMPOTENT_HTTP_VERBS=r.HTTP_VERBS=r.LIVETHREAD_PERMISSIONS=r.MODERATOR_PERMISSIONS=r.USERNAME_REGEX=r.KINDS=r.SUBREDDIT_KEYS=r.USER_KEYS=r.API_RULES_LINK=r.DOCS_LINK=r.VERSION=r.MODULE_NAME=void 0;r.MODULE_NAME="snoowrap";r.VERSION="1.23.0";r.DOCS_LINK="https://not-an-aardvark.github.io/snoowrap/";r.API_RULES_LINK="https://github.com/reddit/reddit/wiki/API";var n=new Set(["author","approved_by","banned_by","user"]);r.USER_KEYS=n;var i=new Set(["subreddit","sr"]);r.SUBREDDIT_KEYS=i;r.KINDS={t1:"Comment",t2:"RedditUser",t3:"Submission",t4:"PrivateMessage",t5:"Subreddit",t6:"Trophy",t8:"PromoCampaign",Listing:"Listing",more:"More",UserList:"UserList",KarmaList:"KarmaList",TrophyList:"TrophyList",subreddit_settings:"SubredditSettings",modaction:"ModAction",wikipage:"WikiPage",wikipagesettings:"WikiPageSettings",wikipagelisting:"WikiPageListing",LiveUpdateEvent:"LiveThread",LiveUpdate:"LiveUpdate",LabeledMulti:"MultiReddit",ModmailConversation:"ModmailConversation",ModmailConversationAuthor:"ModmailConversationAuthor"};r.USERNAME_REGEX=/^[\w-]{1,20}$/;r.MODERATOR_PERMISSIONS=["wiki","posts","access","mail","config","flair"];r.LIVETHREAD_PERMISSIONS=["update","edit","manage"];r.HTTP_VERBS=["delete","get","head","patch","post","put"];r.IDEMPOTENT_HTTP_VERBS=["delete","get","head","put"];r.MAX_TOKEN_LATENCY=1e4;r.MAX_API_INFO_AMOUNT=100;r.MAX_API_MORECHILDREN_AMOUNT=20;r.MAX_LISTING_ITEMS=100},{}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){var t=Object.create(null);return t.endpointDomain="reddit.com",t.requestDelay=0,t.requestTimeout=3e4,t.continueAfterRatelimitError=!1,t.retryErrorCodes=[502,503,504,522],t.maxRetryAttempts=3,t.warnings=!0,t.debug=!1,t.logger=i,t.proxies=!0,(0,n.addSnakeCaseShadowProps)(t)},r.consoleLogger=void 0;var n=t("./helpers.js"),i=Object.freeze({warn(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).warn.apply(t,["[warning]"].concat(r))},info(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).info.apply(t,["[info]"].concat(r))},debug(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).debug.apply(t,["[debug]"].concat(r))},trace(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).trace.apply(t,["[trace]"].concat(r))}});r.consoleLogger=i},{"./helpers.js":5}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rateLimitWarning=function(t){return"Warning: ".concat(n.MODULE_NAME," temporarily stopped sending requests because reddit's ratelimit was exceeded. The request you attempted to send was queued, and will be sent to reddit when the current ratelimit period expires in ").concat(t/1e3," seconds.")},r.StatusCodeError=r.RequestError=r.InvalidMethodCallError=r.NoCredentialsError=r.InvalidUserError=r.RateLimitError=void 0;var n=t("./constants.js");class i extends Error{constructor(){super("".concat(n.MODULE_NAME," refused to continue because reddit's ratelimit was exceeded. For more information about reddit's ratelimit, please consult reddit's API rules at ").concat(n.API_RULES_LINK,"."))}}r.RateLimitError=i;class o extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Cannot fetch information on the given user. Please be sure you have the right username.")}}r.InvalidUserError=o;class s extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Missing credentials passed to ".concat(n.MODULE_NAME," constructor. You must pass an object containing either (a) userAgent, clientId, clientSecret, and refreshToken properties, (b) userAgent and accessToken properties, or (c) userAgent, clientId, clientSecret, username, and password properties. For information, please read the docs at ").concat(n.DOCS_LINK,"."))}}r.NoCredentialsError=s;class a extends Error{}r.InvalidMethodCallError=a;class u extends Error{}r.RequestError=u;class c extends Error{}r.StatusCodeError=c},{"./constants.js":2}],5:[function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t){return"Comment"===t.constructor._name?t._r._newObject("Listing",{_uri:"comments/".concat((t.link_id||t.parent_id).slice(3)),_query:{comment:t.name.slice(3)},_transform:(0,l.property)("comments[0].replies"),_link_id:t.link_id,_isCommentList:!0}):"Submission"===t.constructor._name?t._r._newObject("Listing",{_uri:"comments/".concat(t.id),_transform:(0,l.property)("comments"),_isCommentList:!0}):t._r._newObject("Listing")}function s(t){return t.replies=o(t),t}function a(t,e){return e?t.map((function(t){return((0,l.includes)(e,t)?"+":"-")+t})).join(","):"+all"}function u(t){return/^(t\d|LiveUpdateEvent)_/.test(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.getEmptyRepliesListing=o,r.addEmptyRepliesListing=s,r.handleJsonErrors=function(t){return function(e){if((0,l.isEmpty)(e)||(0,l.isEmpty)(e.json.errors))return t;throw new Error(e.json.errors[0])}},r.findMessageInTree=function t(e,r){return r.name===e?r:(0,l.find)(r.replies.map((0,l.partial)(t,e)))},r.formatPermissions=a,r.renameKey=function(t,e,r){return t&&(0,l.omit)(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(r,!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t,{[r]:t[e]}),e)},r.buildRepliesTree=function(t){var e=(0,l.keyBy)(t,"name");return t.forEach(s),t.filter((function(t){return"Comment"===t.constructor._name})).forEach((function(t){return t.replies._more=h.emptyChildren})),(0,l.remove)(t,(function(t){return e[t.parent_id]})).forEach((function(t){"More"===t.constructor._name?(e[t.parent_id].replies._setMore(t),t.link_id=e[t.parent_id].link_id):e[t.parent_id].replies.push(t)})),t},r.addFullnamePrefix=function(t,e){return"string"==typeof t?u(t)?t:e+t:t.name},r.hasFullnamePrefix=u,r.addSnakeCaseShadowProps=function(t){return Object.keys(t).filter((function(t){return!t.startsWith("_")&&t!==(0,l.snakeCase)(t)})).forEach((function(e){Object.defineProperty(t,(0,l.snakeCase)(e),{get:function(){return t[e]},set:function(r){return t[e]=r}})})),t},r.defineInspectFunc=function(t,e){if(!_){var r=c.default.inspect&&"symbol"==typeof c.default.inspect.custom?c.default.inspect.custom:"inspect";Object.defineProperty(t,r,{writable:!0,enumerable:!1,value:e})}},r.requiredArg=function(t){throw new TypeError("Missing required argument ".concat(t))},r.isBrowser=r.formatLivethreadPermissions=r.formatModPermissions=void 0;var c=function(t){return t&&t.__esModule?t:{default:t}}(t("util")),l=t("lodash"),f=t("./constants.js"),h=t("./objects/More.js"),p=(0,l.partial)(a,f.MODERATOR_PERMISSIONS);r.formatModPermissions=p;var d=(0,l.partial)(a,f.LIVETHREAD_PERMISSIONS);r.formatLivethreadPermissions=d;var _="object"==typeof self;r.isBrowser=_},{"./constants.js":2,"./objects/More.js":10,lodash:36,util:27}],6:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=t("../helpers.js"),o=n(t("./Listing.js")),s=t("./More.js"),a=n(t("./VoteableContent.js")),u=class extends a.default{constructor(t,e,r){super(t,e,r),r&&(this.replies instanceof o.default&&!this.replies.length&&this.replies._more&&"t1__"===this.replies._more.name?this.replies=(0,i.getEmptyRepliesListing)(this):""===this.replies?this.replies=this._r._newObject("Listing",{children:[],_more:s.emptyChildren,_isCommentList:!0}):this.replies._more&&!this.replies._more.link_id&&(this.replies._more.link_id=this.link_id))}_transformApiResponse(t){return(0,i.addEmptyRepliesListing)(t[0])}get _uri(){return"api/info?id=".concat(this.name)}lock(){return this._post({uri:"api/lock",form:{id:this.name}}).return(this)}unlock(){return this._post({uri:"api/unlock",form:{id:this.name}}).return(this)}},c=u;r.default=c},{"../helpers.js":5,"./Listing.js":7,"./More.js":10,"./VoteableContent.js":19}],7:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(r,!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=t("lodash"),c=n(t("../Promise.js")),l=n(t("util")),f=t("url"),h=t("../helpers.js"),p=t("../errors.js"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}(t("./More.js")),_={_query:{},_transform:function(t){return t},_method:"get",_isCommentList:!1,_link_id:null,_uri:null,_more:null,_cachedLookahead:null},m=class t extends Array{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;super(),this instanceof t||(this.constructor=t,Object.setPrototypeOf(this,t.prototype)),this.push.apply(this,a(e.children||[])),this._r=r,this._cachedLookahead=e._cachedLookahead,(0,u.defaultsDeep)(this,(0,u.pick)(e,Object.keys(_)),_),Object.assign(this._query,(0,u.pick)(e,["before","after"])),e.children&&e.children[e.children.length-1]instanceof d.default&&this._setMore(this.pop())}_setUri(t){var e=(0,f.parse)(t,!0);this._uri=e.pathname,(0,u.defaultsDeep)(this._query,e.query),e.query.before?this._query.after=null:this._query.before=null}get isFinished(){return this._isCommentList?(0,u.isEmpty)(this._cachedLookahead)&&!!this._more&&(0,u.isEmpty)(this._more.children):!this._uri||null===this._query.after&&null===this._query.before}get is_finished(){return this.isFinished}fetchMore(t){var e=(0,u.defaults)("number"==typeof t?{amount:t}:(0,u.clone)(t),{append:!0,skipReplies:t.skip_replies});if("number"!=typeof e.amount||Number.isNaN(e.amount))throw new p.InvalidMethodCallError("Failed to fetch Listing. (`amount` parameter was missing or invalid)");if(e.amount<=0||this.isFinished)return this._r._promiseWrap(c.default.resolve(e.append?this._clone():this._clone()._empty()));if(this._cachedLookahead){var r=this._clone();return r.push.apply(r,a(r._cachedLookahead.splice(0,e.amount))),r.fetchMore(e.amount-r.length+this.length)}return this._r._promiseWrap(this._more?this._fetchMoreComments(e):this._fetchMoreRegular(e))}_fetchMoreRegular(t){var e=this,r=(0,u.omitBy)((0,u.clone)(this._query),(function(t){return null==t}));return this._isCommentList||(r.limit=Math.min(t.amount,Number.MAX_SAFE_INTEGER)),this._r.oauthRequest({uri:this._uri,qs:r,method:this._method}).then(this._transform).then((function(r){var n=e._clone();return t.append||n._empty(),n._query.before?(n.unshift.apply(n,a(r)),n._query.before=r._query.before,n._query.after=null):(n.push.apply(n,a(r)),n._query.before=null,n._query.after=r._query.after),e._isCommentList&&(n._more=n._more||r._more||d.emptyChildren,r.length>t.amount&&(n._cachedLookahead=Array.from(n.splice(t.amount)))),n.fetchMore(o({},t,{append:!0,amount:t.amount-r.length}))}))}_fetchMoreComments(t){var e=this;return this._more.fetchMore(t).then((function(r){var n=e._clone();return t.append||n._empty(),n.push.apply(n,a(r)),n._more.children=n._more.children.slice(t.amount),n}))}fetchAll(t){return this.fetchMore(o({},t,{amount:1/0}))}fetchUntil(t){return this._r._warn("Listing#fetchUntil is deprecated -- use Listing#fetchMore instead."),this.fetchMore(o({},t,{append:!0,amount:t.length-this.length}))}_clone(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).deep,r=void 0!==e&&e,n=(0,u.pick)(this,Object.keys(_));n._query=(0,u.clone)(n._query),n._cachedLookahead=(0,u.clone)(n._cachedLookahead),n._more=this._more&&this._more._clone();var i=Array.from(this);return n.children=r?i.map((function(t){return"_clone"in t&&"function"==typeof t._clone?t._clone({deep:r}):t})):i,new t(n,this._r)}_setMore(t){this._more=t,this._isCommentList=!0}_empty(){return this.splice(0,this.length),this}toJSON(){return Array.from(this).map((function(t){return t&&t.toJSON?t.toJSON():t}))}};(0,h.defineInspectFunc)(m.prototype,(function(){return"Listing ".concat(l.default.inspect(Array.from(this)))}));var v=m;r.default=v},{"../Promise.js":1,"../errors.js":4,"../helpers.js":5,"./More.js":10,lodash:36,url:60,util:27}],8:[function(t,e,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=t("events"),i=t("../helpers.js"),o=function(t){return t&&t.__esModule?t:{default:t}}(t("./RedditContent.js")),s=i.isBrowser?e.WebSocket:t("ws"),a="json",u=class extends o.default{constructor(t,e,r){var n;super(t,e,r),n=this,this._rawStream=null,this._populatedStream=null,r&&Object.defineProperty(this,"stream",{get:function(){return!n._populatedStream&&n.websocket_url&&n._setupWebSocket(),n._populatedStream}})}get _uri(){return"live/".concat(this.id,"/about")}_setupWebSocket(){var t=this;this._rawStream=new s(this.websocket_url),this._populatedStream=new n.EventEmitter;var e=function(e){var r=t._r._populate(JSON.parse(e));t._populatedStream.emit(r.type,r.payload)};"function"==typeof this._rawStream.on?this._rawStream.on("message",e):this._rawStream.onmessage=function(t){return e(t.data)}}addUpdate(t){return this._post({uri:"api/live/".concat(this.id,"/update"),form:{api_type:a,body:t}}).then((0,i.handleJsonErrors)(this))}strikeUpdate(t){var e=t.id;return this._post({uri:"api/live/".concat(this.id,"/strike_update"),form:{api_type:a,id:"".concat(e.startsWith("LiveUpdate_")?"":"LiveUpdate_").concat(e)}}).then((0,i.handleJsonErrors)(this))}deleteUpdate(t){var e=t.id;return this._post({uri:"api/live/".concat(this.id,"/delete_update"),form:{api_type:a,id:"".concat(e.startsWith("LiveUpdate_")?"":"LiveUpdate_").concat(e)}}).then((0,i.handleJsonErrors)(this))}getContributors(){return this._get({uri:"live/".concat(this.id,"/contributors")}).then((function(t){return Array.isArray(t[0])?t[0]:t}))}inviteContributor(t){var e=t.name,r=t.permissions;return this._post({uri:"api/live/".concat(this.id,"/invite_contributor"),form:{api_type:a,name:e,permissions:(0,i.formatLivethreadPermissions)(r),type:"liveupdate_contributor_invite"}}).then((0,i.handleJsonErrors)(this))}revokeContributorInvite(t){var e=this,r=t.name;return this._r.getUser(r).fetch().get("id").then((function(t){return e._post({uri:"api/live/".concat(e.id,"/rm_contributor_invite"),form:{api_type:a,id:"t2_".concat(t)}})})).then((0,i.handleJsonErrors)(this))}acceptContributorInvite(){return this._post({uri:"api/live/".concat(this.id,"/accept_contributor_invite"),form:{api_type:a}}).return(this)}leaveContributor(){return this._post({uri:"api/live/".concat(this.id,"/leave_contributor"),form:{api_type:a}}).return(this)}removeContributor(t){var e=this,r=t.name;return this._r.getUser(r).fetch().get("id").then((function(t){return e._post({uri:"api/live/".concat(e.id,"/rm_contributor"),form:{api_type:a,id:"t2_".concat(t)}})})).then((0,i.handleJsonErrors)(this))}setContributorPermissions(t){var e=t.name,r=t.permissions;return this._post({uri:"api/live/".concat(this.id,"/set_contributor_permissions"),form:{api_type:a,name:e,permissions:(0,i.formatLivethreadPermissions)(r),type:"liveupdate_contributor"}}).then((0,i.handleJsonErrors)(this))}editSettings(t){var e=t.title,r=t.description,n=t.resources,o=t.nsfw;return this._post({uri:"api/live/".concat(this.id,"/edit"),form:{api_type:a,description:r,nsfw:o,resources:n,title:e}}).then((0,i.handleJsonErrors)(this))}closeThread(){return this._post({uri:"api/live/".concat(this.id,"/close_thread"),form:{api_type:a}}).return(this)}report(t){var e=t.reason;return this._post({uri:"api/live/".concat(this.id,"/report"),form:{api_type:a,type:e}}).then((0,i.handleJsonErrors)(this))}getRecentUpdates(t){return this._getListing({uri:"live/".concat(this.id),qs:t})}getDiscussions(t){return this._getListing({uri:"live/".concat(this.id,"/discussions"),qs:t})}closeStream(){this._rawStream&&this._rawStream.close()}},c=u;r.default=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../helpers.js":5,"./RedditContent.js":13,events:31,ws:27}],9:[function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.modActionStates=r.conversationStates=void 0;var o=function(t){return t&&t.__esModule?t:{default:t}}(t("./RedditContent.js")),s=Object.freeze({New:0,InProgress:1,Archived:2});r.conversationStates=s;var a=Object.freeze({Highlight:0,UnHighlight:1,Archive:2,UnArchive:3,ReportedToAdmins:4,Mute:5,Unmute:6});r.modActionStates=a;var u=class t extends o.default{static get conversationStates(){return s}static get modActionStates(){return a}get _uri(){return"api/mod/conversations/".concat(this.id,"?markRead=false")}_transformApiResponse(e){for(var r of(e.conversation.owner=this._r._newObject("Subreddit",{id:e.conversation.owner.id,display_name:e.conversation.owner.displayName}),e.conversation.participant=this._r._newObject("ModmailConversationAuthor",e.user.name,!0),e.conversation.authors))r=this._r._newObject("ModmailConversationAuthor",r,!0);var o=t._getConversationObjects(e.conversation,e);return this._r._newObject("ModmailConversation",function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(r,!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},o,{},e.conversation),!0)}static _getConversationObjects(t,e){var r={};for(var n of t.objIds)r[n.key]||(r[n.key]=[]),r[n.key].push(e[n.key][n.id]);return r}reply(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._post({uri:"api/mod/conversations/".concat(this.id),form:{body:t,isAuthorHidden:e,isInternal:r}})}archive(){return this._post({uri:"api/mod/conversations/".concat(this.id,"/archive")})}unarchive(){return this._post({uri:"api/mod/conversations/".concat(this.id,"/unarchive")})}highlight(){return this._post({uri:"api/mod/conversations/".concat(this.id,"/highlight")})}unhighlight(){return this._delete({uri:"api/mod/conversations/".concat(this.id,"/highlight")})}mute(){return this._post({uri:"api/mod/conversations/".concat(this.id,"/mute")})}unmute(){return this._post({uri:"api/mod/conversations/".concat(this.id,"/unmute")})}read(){return this._r.markNewModmailConversationsAsRead([this.id])}unread(){return this._r.markNewModmailConversationsAsUnread([this.id])}getParticipant(){var t=this;return this._get({uri:"api/mod/conversations/".concat(this.id,"/user")}).then((function(e){return t._r._newObject("ModmailConversationAuthor",e,!0)}))}isRead(){return null===this.lastUnread}get name(){return this.id}},c=u;r.default=c},{"./RedditContent.js":13}],10:[function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(r,!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e,r,n){return t.slice(e,e+Math.min(r,n))}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.emptyChildren=void 0;var a=t("lodash"),u=function(t){return t&&t.__esModule?t:{default:t}}(t("../Promise.js")),c=t("../helpers.js"),l=t("../constants.js"),f=class t{constructor(t,e){Object.assign(this,t),this._r=e}fetchMore(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t.amount<=0||e>=this.children.length)return u.default.resolve([]);if(!t.skipReplies)return this.fetchTree(t,e);var r=s(this.children,e,t.amount,l.MAX_API_INFO_AMOUNT).map((function(t){return"t1_".concat(t)})),n=this._r._getListing({uri:"api/info",qs:{id:r.join(",")}}),o=i({},t,{amount:t.amount-r.length}),c=this.fetchMore(o,e+r.length);return u.default.all([n,c]).then(a.flatten)}fetchTree(e,r){var n=this;if(e.amount<=0||r>=this.children.length)return u.default.resolve([]);var o=s(this.children,r,e.amount,l.MAX_API_MORECHILDREN_AMOUNT);return this._r._get({uri:"api/morechildren",qs:{api_type:"json",children:o.join(","),link_id:this.link_id||this.parent_id}}).tap(c.handleJsonErrors).then((function(t){return t.json.data.things})).map(c.addEmptyRepliesListing).then(c.buildRepliesTree).then((function(s){var c=(0,a.remove)(s,(function(e){return e instanceof t}));return(0,a.forEach)(c,(function(t){t.link_id=n.link_id||n.parent_id})),u.default.mapSeries(c,(function(t){return t.fetchTree(i({},e,{amount:1/0}),0)})).then((function(t){return n.fetchMore(i({},e,{amount:e.amount-o.length}),r+o.length).then((function(e){return(0,a.concat)(s,(0,a.flatten)(t),e)}))}))}))}_clone(){return new t((0,a.pick)(this,Object.getOwnPropertyNames(this)),this._r)}},h=new f({children:[]});r.emptyChildren=h;var p=f;r.default=p},{"../Promise.js":1,"../constants.js":2,"../helpers.js":5,lodash:36}],11:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./RedditContent.js")),i=class extends n.default{constructor(t,e,r){var n;super(t,e,r),n=this,r&&(this.curator=e.getUser(this.path.split("/")[2]),this.subreddits=this.subreddits.map((function(t){return n._r._newObject("Subreddit",t.data||{display_name:t.name})})))}get _uri(){return"api/multi".concat(this._path,"?expand_srs=true")}get _path(){return"/user/".concat(this.curator.name,"/m/").concat(this.name)}copy(t){var e=this,r=t.new_name,n=t.newName,i=void 0===n?r:n;return this._r._getMyName().then((function(t){return e._post({uri:"api/multi/copy",form:{from:e._path,to:"/user/".concat(t,"/m/").concat(i),display_name:i}})}))}rename(t){var e=this,r=t.new_name,n=t.newName,i=void 0===n?r:n;return this._r._getMyName().then((function(t){return e._post({uri:"api/multi/rename",form:{from:e._path,to:"/user/".concat(t,"/m/").concat(i),display_name:i}})})).then((function(t){e.name=t.name})).return(this)}edit(t){var e=t.name,r=void 0===e?"":e,n=t.description,i=t.icon_name,o=t.key_color,s=t.visibility,a=t.weighting_scheme,u=r.length?r:this.name;return this._put({uri:"api/multi".concat(this._path),form:{model:JSON.stringify({description_md:n,display_name:u,icon_name:i,key_color:o,visibility:s,weighting_scheme:a})}})}addSubreddit(t){return t="string"==typeof t?t:t.display_name,this._put({uri:"api/multi".concat(this._path,"/r/").concat(t),form:{model:JSON.stringify({name:t})}}).return(this)}removeSubreddit(t){return this._delete({uri:"api/multi".concat(this._path,"/r/").concat("string"==typeof t?t:t.display_name)}).return(this)}};Object.defineProperty(i.prototype,"delete",{value(){return this._delete({uri:"api/multi".concat(this._path)})},configurable:!0,writable:!0});var o=i;r.default=o},{"./RedditContent.js":13}],12:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=t("../helpers.js"),i=function(t){return t&&t.__esModule?t:{default:t}}(t("./ReplyableContent.js")),o=class extends i.default{get _uri(){return"message/messages/".concat(this.name.slice(3))}_transformApiResponse(t){return t[0].replies=(0,n.buildRepliesTree)(t[0].replies||[]),(0,n.findMessageInTree)(this.name,t[0])}markAsRead(){return this._r.markMessagesAsRead([this]).return(this)}markAsUnread(){return this._r.markMessagesAsUnread([this]).return(this)}muteAuthor(){return this._post({uri:"api/mute_message_author",form:{id:this.name}}).return(this)}unmuteAuthor(){return this._post({uri:"api/unmute_message_author",form:{id:this.name}}).return(this)}deleteFromInbox(){return this._post({uri:"api/del_msg",form:{id:this.name}}).return(this)}},s=o;r.default=s},{"../helpers.js":5,"./ReplyableContent.js":15}],13:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=t("lodash"),o=n(t("../Promise.js")),s=n(t("util")),a=t("../helpers.js"),u=t("../constants.js"),c=n(t("./Listing.js")),l=class t{constructor(t,e,r){if(this._r=e,this._fetch=null,this._hasFetched=!!r,Object.assign(this,t),"undefined"!=typeof Proxy&&!this._hasFetched&&e._config.proxies)return new Proxy(this,{get:(t,e)=>e in t||"length"===e||e in o.default.prototype?t[e]:t.fetch()[e]})}fetch(){var t=this;return this._fetch||(this._fetch=this._r._promiseWrap(this._r._get({uri:this._uri}).then((function(e){return t._transformApiResponse(e)})))),this._fetch}refresh(){return this._fetch=null,this.fetch()}toJSON(){return(0,i.mapValues)(this._stripPrivateProps(),(function(e,r){if(e instanceof t&&!e._hasFetched){if("RedditUser"===e.constructor._name&&u.USER_KEYS.has(r))return e.name;if("Subreddit"===e.constructor._name&&u.SUBREDDIT_KEYS.has(r))return e.display_name}return e&&e.toJSON?e.toJSON():e}))}_stripPrivateProps(){return(0,i.pick)(this,Object.keys(this).filter((function(t){return!t.startsWith("_")})))}_transformApiResponse(t){return t}_clone(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).deep,r=void 0!==e&&e,n=(0,i.mapValues)(this,(function(e){return r?e instanceof t||e instanceof c.default?e._clone({deep:r}):(0,i.cloneDeep)(e):e}));return this._r._newObject(this.constructor._name,n,this._hasFetched)}_getListing(){var t;return(t=this._r)._getListing.apply(t,arguments)}};(0,a.defineInspectFunc)(l.prototype,(function(){return"".concat(this.constructor._name," ").concat(s.default.inspect(this._stripPrivateProps()))})),u.HTTP_VERBS.forEach((function(t){Object.defineProperty(l.prototype,"_".concat(t),{value(){var e;return(e=this._r)["_".concat(t)].apply(e,arguments)},configurable:!0,writable:!0})}));var f=l;r.default=f},{"../Promise.js":1,"../constants.js":2,"../helpers.js":5,"./Listing.js":7,lodash:36,util:27}],14:[function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=t("../constants.js"),s=t("../errors.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(t("./RedditContent.js")),u=class extends a.default{get _uri(){if("string"!=typeof this.name||!o.USERNAME_REGEX.test(this.name))throw new s.InvalidUserError(this.name);return"user/".concat(this.name,"/about")}giveGold(t){if("number"!=typeof t||t<1||t>36)throw new s.InvalidMethodCallError("Invalid argument to RedditUser#giveGold; `months` must be between 1 and 36.");return this._post({uri:"api/v1/gold/give/".concat(this.name),form:{months:t}})}assignFlair(t){return this._r._assignFlair(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(r,!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t,{name:this.name})).return(this)}friend(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).note;return this._put({uri:"api/v1/me/friends/".concat(this.name),body:{user:this.name,note:t}}).return(this)}unfriend(){return this._delete({uri:"api/v1/me/friends/".concat(this.name)})}getFriendInformation(){return this._get({uri:"api/v1/me/friends/".concat(this.name)})}getTrophies(){return this._get({uri:"api/v1/user/".concat(this.name,"/trophies")})}getOverview(t){return this._getListing({uri:"user/".concat(this.name,"/overview"),qs:t})}getSubmissions(t){return this._getListing({uri:"user/".concat(this.name,"/submitted"),qs:t})}getComments(t){return this._getListing({uri:"user/".concat(this.name,"/comments"),qs:t})}getUpvotedContent(t){return this._getListing({uri:"user/".concat(this.name,"/upvoted"),qs:t})}getDownvotedContent(t){return this._getListing({uri:"user/".concat(this.name,"/downvoted"),qs:t})}getHiddenContent(t){return this._getListing({uri:"user/".concat(this.name,"/hidden"),qs:t})}getSavedContent(t){return this._getListing({uri:"user/".concat(this.name,"/saved"),qs:t})}getGildedContent(t){return this._getListing({uri:"user/".concat(this.name,"/gilded"),qs:t})}getMultireddit(t){return this._r._newObject("MultiReddit",{name:t,curator:this})}getMultireddits(){return this._get({uri:"api/multi/user/".concat(this.name),qs:{expand_srs:!0}})}},c=u;r.default=c},{"../constants.js":2,"../errors.js":4,"./RedditContent.js":13}],15:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=t("../helpers.js"),i=function(t){return t&&t.__esModule?t:{default:t}}(t("./RedditContent.js")),o="json",s=class extends i.default{remove(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).spam,e=void 0!==t&&t;return this._post({uri:"api/remove",form:{spam:e,id:this.name}}).return(this)}approve(){return this._post({uri:"api/approve",form:{id:this.name}}).return(this)}report(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).reason;return this._post({uri:"api/report",form:{api_type:o,reason:"other",other_reason:t,thing_id:this.name}}).return(this)}ignoreReports(){return this._post({uri:"api/ignore_reports",form:{id:this.name}}).return(this)}unignoreReports(){return this._post({uri:"api/unignore_reports",form:{id:this.name}}).return(this)}reply(t){return this._post({uri:"api/comment",form:{api_type:o,text:t,thing_id:this.name}}).tap((0,n.handleJsonErrors)(this)).then((function(t){return t.json.data.things[0]}))}blockAuthor(){return this._post({uri:"api/block",form:{id:this.name}}).return(this)}},a=s;r.default=a},{"../helpers.js":5,"./RedditContent.js":13}],16:[function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(r,!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=t("../helpers.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(t("./VoteableContent.js")),u="json",c=class extends a.default{constructor(t,e,r){super(t,e,r),r&&(this.comments=this.comments||(0,s.getEmptyRepliesListing)(this))}get _uri(){return"comments/".concat(this.name.slice(3))}hide(){return this._post({uri:"api/hide",form:{id:this.name}}).return(this)}unhide(){return this._post({uri:"api/unhide",form:{id:this.name}}).return(this)}lock(){return this._post({uri:"api/lock",form:{id:this.name}}).return(this)}unlock(){return this._post({uri:"api/unlock",form:{id:this.name}}).return(this)}markNsfw(){return this._post({uri:"api/marknsfw",form:{id:this.name}}).return(this)}unmarkNsfw(){return this._post({uri:"api/unmarknsfw",form:{id:this.name}}).return(this)}markSpoiler(){return this._post({uri:"api/spoiler",form:{id:this.name}}).return(this)}unmarkSpoiler(){return this._post({uri:"api/unspoiler",form:{id:this.name}}).return(this)}_setContestModeEnabled(t){return this._post({uri:"api/set_contest_mode",form:{api_type:u,state:t,id:this.name}}).return(this)}enableContestMode(){return this._setContestModeEnabled(!0)}disableContestMode(){return this._setContestModeEnabled(!1)}_setStickied(t){var e=t.state,r=t.num;return this._post({uri:"api/set_subreddit_sticky",form:{api_type:u,state:e,num:r,id:this.name}}).return(this)}sticky(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).num,e=void 0===t?1:t;return this._setStickied({state:!0,num:e})}unsticky(){return this._setStickied({state:!1})}setSuggestedSort(t){return this._post({uri:"api/set_suggested_sort",form:{api_type:u,id:this.name,sort:t}}).return(this)}markAsRead(){return this._post({uri:"api/store_visits",form:{links:this.name}}).return(this)}getDuplicates(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"duplicates/".concat(this.name.slice(3)),qs:t})}getRelated(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"related/".concat(this.name.slice(3)),qs:e}).tap((function(e){"Submission"===e.constructor._name&&t._r._warn("Submission#getRelated has been deprecated upstream, and will not work as expected.")}))}getLinkFlairTemplates(){var t=this;return this.fetch().get("subreddit").then((function(e){return e.getLinkFlairTemplates(t.name)}))}assignFlair(t){return this._r._assignFlair(i({},t,{link:this.name,subredditName:this.subreddit.display_name})).return(this)}selectFlair(t){return this._r._selectFlair(i({},t,{link:this.name,subredditName:this.subreddit.display_name})).return(this)}submitCrosspost(t){return this._r.submitCrosspost(i({},t,{originalPost:this}))}},l=c;r.default=l},{"../helpers.js":5,"./VoteableContent.js":19}],17:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(r,!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=t("lodash"),u=n(t("../Promise.js")),c=t("stream"),l=t("fs"),f=t("../helpers.js"),h=t("../errors.js"),p=n(t("./RedditContent.js")),d="json",_=class t extends p.default{get _uri(){return"r/".concat(this.display_name,"/about")}_transformApiResponse(e){if(!(e instanceof t))throw new TypeError("The subreddit /r/".concat(this.display_name," does not exist."));return e}_deleteFlairTemplates(t){var e=t.flair_type;return this._post({uri:"r/".concat(this.display_name,"/api/clearflairtemplates"),form:{api_type:d,flair_type:e}}).return(this)}deleteAllUserFlairTemplates(){return this._deleteFlairTemplates({flair_type:"USER_FLAIR"})}deleteAllLinkFlairTemplates(){return this._deleteFlairTemplates({flair_type:"LINK_FLAIR"})}deleteFlairTemplate(t){var e=t.flair_template_id;return this._post({uri:"r/".concat(this.display_name,"/api/deleteflairtemplate"),form:{api_type:d,flair_template_id:e}}).return(this)}_createFlairTemplate(t){var e=t.text,r=t.css_class,n=t.cssClass,i=void 0===n?r:n,o=t.flair_type,s=t.text_editable,a=void 0!==s&&s,u=t.textEditable,c=void 0===u?a:u;return this._post({uri:"r/".concat(this.display_name,"/api/flairtemplate"),form:{api_type:d,text:e,css_class:i,flair_type:o,text_editable:c}}).return(this)}createUserFlairTemplate(t){return this._createFlairTemplate(o({},t,{flair_type:"USER_FLAIR"}))}createLinkFlairTemplate(t){return this._createFlairTemplate(o({},t,{flair_type:"LINK_FLAIR"}))}_getFlairOptions(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,r=t.link,n=t.is_newlink;return this._post({uri:"r/".concat(this.display_name,"/api/flairselector"),form:{name:e,link:r,is_newlink:n}})}getLinkFlairTemplates(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=t?{link:t}:{is_newlink:!0};return this._getFlairOptions(e).get("choices")}getUserFlairTemplates(){return this._getFlairOptions().get("choices")}deleteUserFlair(t){return this._post({uri:"r/".concat(this.display_name,"/api/deleteflair"),form:{api_type:d,name:t}}).return(this)}getUserFlair(t){return this._getFlairOptions({name:t}).get("current")}setMultipleUserFlairs(t){var e=this,r=t.map((function(t){return[t.name,t.text||t.flairText||t.flair_text||"",t.cssClass||t.css_class||t.flairCssClass||t.flair_css_class||""].map((function(t){return'"'.concat(t.replace(/"/g,'""'),'"')})).join(",")}));return u.default.map((0,a.chunk)(r,100),(function(t){return e._post({uri:"r/".concat(e.display_name,"/api/flaircsv"),form:{flair_csv:t.join("\n")}})})).then(a.flatten).tap((function(t){var e=t.filter((function(t){return!t.ok}));if(e.length)throw e})).return(this)}getUserFlairList(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"r/".concat(this.display_name,"/api/flairlist"),qs:e,_transform:function(e){return e.after=e.next||null,e.before=e.prev||null,e.children=e.users,t._r._newObject("Listing",e)}})}configureFlair(t){var e=t.user_flair_enabled,r=t.userFlairEnabled,n=void 0===r?e:r,i=t.user_flair_position,o=t.userFlairPosition,s=void 0===o?i:o,a=t.user_flair_self_assign_enabled,u=t.userFlairSelfAssignEnabled,c=void 0===u?a:u,l=t.link_flair_position,f=t.linkFlairPosition,h=void 0===f?l:f,p=t.link_flair_self_assign_enabled,_=t.linkFlairSelfAssignEnabled,m=void 0===_?p:_;return this._post({uri:"r/".concat(this.display_name,"/api/flairconfig"),form:{api_type:d,flair_enabled:n,flair_position:s,flair_self_assign_enabled:c,link_flair_position:h,link_flair_self_assign_enabled:m}}).return(this)}getMyFlair(){return this._getFlairOptions().get("current")}selectMyFlair(t){var e=this;return this._r._getMyName().then((function(r){return e._r._selectFlair(o({},t,{subredditName:e.display_name,name:r}))})).return(this)}_setMyFlairVisibility(t){return this._post({uri:"r/".concat(this.display_name,"/api/setflairenabled"),form:{api_type:d,flair_enabled:t}}).return(this)}showMyFlair(){return this._setMyFlairVisibility(!0)}hideMyFlair(){return this._setMyFlairVisibility(!1)}submitSelfpost(t){return this._r.submitSelfpost(o({},t,{subredditName:this.display_name}))}submitLink(t){return this._r.submitLink(o({},t,{subredditName:this.display_name}))}submitCrosspost(t){return this._r.submitCrosspost(o({},t,{subredditName:this.display_name}))}getHot(t){return this._r.getHot(this.display_name,t)}getNew(t){return this._r.getNew(this.display_name,t)}getNewComments(t){return this._r.getNewComments(this.display_name,t)}getRandomSubmission(){return this._r.getRandomSubmission(this.display_name)}getTop(t){return this._r.getTop(this.display_name,t)}getControversial(t){return this._r.getControversial(this.display_name,t)}getRising(t){return this._r.getRising(this.display_name,t)}getModmail(t){return this._getListing({uri:"r/".concat(this.display_name,"/about/message/moderator"),qs:t})}getNewModmailConversations(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._r.getNewModmailConversations(o({},t,{entity:this.display_name}))}getModerationLog(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,a.omit)(o({},t,{mod:t.mods&&t.mods.join(",")}),"mods");return this._getListing({uri:"r/".concat(this.display_name,"/about/log"),qs:e})}getReports(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"r/".concat(this.display_name,"/about/reports"),qs:t})}getSpam(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"r/".concat(this.display_name,"/about/spam"),qs:t})}getModqueue(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"r/".concat(this.display_name,"/about/modqueue"),qs:t})}getUnmoderated(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"r/".concat(this.display_name,"/about/unmoderated"),qs:t})}getEdited(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"r/".concat(this.display_name,"/about/edited"),qs:t})}acceptModeratorInvite(){return this._post({uri:"r/".concat(this.display_name,"/api/accept_moderator_invite"),form:{api_type:d}}).then((0,f.handleJsonErrors)(this))}leaveModerator(){var t=this;return this.fetch().get("name").then((function(e){return t._post({uri:"api/leavemoderator",form:{id:e}}).then((0,f.handleJsonErrors)(t))}))}leaveContributor(){var t=this;return this.fetch().get("name").then((function(e){return t._post({uri:"api/leavecontributor",form:{id:e}}).return(t)}))}getStylesheet(){return this._get({uri:"r/".concat(this.display_name,"/stylesheet"),json:!1})}search(t){return this._r.search(o({},t,{subreddit:this,restrictSr:!0}))}getBannedUsers(t){return this._getListing({uri:"r/".concat(this.display_name,"/about/banned"),qs:(0,f.renameKey)(t,"name","user")})}getMutedUsers(t){return this._getListing({uri:"r/".concat(this.display_name,"/about/muted"),qs:(0,f.renameKey)(t,"name","user")})}getWikibannedUsers(t){return this._getListing({uri:"r/".concat(this.display_name,"/about/wikibanned"),qs:(0,f.renameKey)(t,"name","user")})}getContributors(t){return this._getListing({uri:"r/".concat(this.display_name,"/about/contributors"),qs:(0,f.renameKey)(t,"name","user")})}getWikiContributors(t){return this._getListing({uri:"r/".concat(this.display_name,"/about/wikicontributors"),qs:(0,f.renameKey)(t,"name","user")})}getModerators(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).name;return this._get({uri:"r/".concat(this.display_name,"/about/moderators"),qs:{user:t}})}deleteBanner(){return this._post({uri:"r/".concat(this.display_name,"/api/delete_sr_banner"),form:{api_type:d}}).then((0,f.handleJsonErrors)(this))}deleteHeader(){return this._post({uri:"r/".concat(this.display_name,"/api/delete_sr_header"),form:{api_type:d}}).then((0,f.handleJsonErrors)(this))}deleteIcon(){return this._post({uri:"r/".concat(this.display_name,"/api/delete_sr_icon"),form:{api_type:d}}).then((0,f.handleJsonErrors)(this))}deleteImage(t){var e=t.image_name,r=t.imageName,n=void 0===r?e:r;return this._post({uri:"r/".concat(this.display_name,"/api/delete_sr_img"),form:{api_type:d,img_name:n}}).then((0,f.handleJsonErrors)(this))}getSettings(){return this._get({uri:"r/".concat(this.display_name,"/about/edit")})}editSettings(t){var e=this;return u.default.join(this.getSettings(),this.fetch().get("name"),(function(r,n){return e._r._createOrEditSubreddit(o({},(0,f.renameKey)(r,"subreddit_type","type"),{},t,{sr:n}))})).return(this)}getRecommendedSubreddits(t){var e=t.omit&&t.omit.join(",");return this._get({uri:"api/recommend/sr/".concat(this.display_name),qs:{omit:e}}).then((function(t){return(0,a.map)(t,"sr_name")}))}getSubmitText(){return this._get({uri:"r/".concat(this.display_name,"/api/submit_text")}).get("submit_text")}updateStylesheet(t){var e=t.css,r=t.reason;return this._post({uri:"r/".concat(this.display_name,"/api/subreddit_stylesheet"),form:{api_type:d,op:"save",reason:r,stylesheet_contents:e}}).then((0,f.handleJsonErrors)(this))}_setSubscribed(t){return this._post({uri:"api/subscribe",form:{action:t?"sub":"unsub",sr_name:this.display_name}}).return(this)}subscribe(){return this._setSubscribed(!0)}unsubscribe(){var t=this;return this._setSubscribed(!1).catch({statusCode:404},(function(e){return t.fetch().return(t).catchThrow(e)}))}_uploadSrImg(t){var e=this,r=t.name,n=t.file,i=t.uploadType,o=t.imageType;if("string"!=typeof n&&!(n instanceof c.Readable))throw new h.InvalidMethodCallError("Uploaded image filepath must be a string or a ReadableStream.");var s="string"==typeof n?(0,l.createReadStream)(n):n;return this._post({uri:"r/".concat(this.display_name,"/api/upload_sr_img"),formData:{name:r,upload_type:i,img_type:o,file:s}}).then((function(t){if(t.errors.length)throw t.errors[0];return e}))}uploadStylesheetImage(t){var e=t.name,r=t.file,n=t.image_type,i=void 0===n?"png":n,o=t.imageType,s=void 0===o?i:o;return this._uploadSrImg({name:e,file:r,imageType:s,uploadType:"img"})}uploadHeaderImage(t){var e=t.file,r=t.image_type,n=void 0===r?"png":r,i=t.imageType,o=void 0===i?n:i;return this._uploadSrImg({file:e,imageType:o,uploadType:"header"})}uploadIcon(t){var e=t.file,r=t.image_type,n=void 0===r?"png":r,i=t.imageType,o=void 0===i?n:i;return this._uploadSrImg({file:e,imageType:o,uploadType:"icon"})}uploadBannerImage(t){var e=t.file,r=t.image_type,n=void 0===r?"png":r,i=t.imageType,o=void 0===i?n:i;return this._uploadSrImg({file:e,imageType:o,upload_type:"banner"})}getRules(){return this._get({uri:"r/".concat(this.display_name,"/about/rules")})}getSticky(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).num,e=void 0===t?1:t;return this._get({uri:"r/".concat(this.display_name,"/about/sticky"),qs:{num:e}})}_friend(t){return this._post({uri:"r/".concat(this.display_name,"/api/friend"),form:o({},t,{api_type:d})}).then((0,f.handleJsonErrors)(this))}_unfriend(t){return this._post({uri:"r/".concat(this.display_name,"/api/unfriend"),form:o({},t,{api_type:d})}).then((0,f.handleJsonErrors)(this))}inviteModerator(t){var e=t.name,r=t.permissions;return this._friend({name:e,permissions:(0,f.formatModPermissions)(r),type:"moderator_invite"})}revokeModeratorInvite(t){var e=t.name;return this._unfriend({name:e,type:"moderator_invite"})}removeModerator(t){var e=t.name;return this._unfriend({name:e,type:"moderator"})}addContributor(t){var e=t.name;return this._friend({name:e,type:"contributor"})}removeContributor(t){var e=t.name;return this._unfriend({name:e,type:"contributor"})}banUser(t){var e=t.name,r=t.ban_message,n=t.banMessage,i=void 0===n?r:n,o=t.ban_reason,s=t.banReason,a=void 0===s?o:s,u=t.duration,c=t.ban_note,l=t.banNote,f=void 0===l?c:l;return this._friend({name:e,ban_message:i,ban_reason:a,duration:u,note:f,type:"banned"})}unbanUser(t){var e=t.name;return this._unfriend({name:e,type:"banned"})}muteUser(t){var e=t.name;return this._friend({name:e,type:"muted"})}unmuteUser(t){var e=t.name;return this._unfriend({name:e,type:"muted"})}wikibanUser(t){var e=t.name;return this._friend({name:e,type:"wikibanned"})}unwikibanUser(t){var e=t.name;return this._unfriend({name:e,type:"wikibanned"})}addWikiContributor(t){var e=t.name;return this._friend({name:e,type:"wikicontributor"})}removeWikiContributor(t){var e=t.name;return this._unfriend({name:e,type:"wikicontributor"})}setModeratorPermissions(t){var e=t.name,r=t.permissions;return this._post({uri:"r/".concat(this.display_name,"/api/setpermissions"),form:{api_type:d,name:e,permissions:(0,f.formatModPermissions)(r),type:"moderator"}}).then((0,f.handleJsonErrors)(this))}getWikiPage(t){return this._r._newObject("WikiPage",{subreddit:this,title:t})}getWikiPages(){var t=this;return this._get({uri:"r/".concat(this.display_name,"/wiki/pages")}).map((function(e){return t.getWikiPage(e)}))}getWikiRevisions(t){return this._getListing({uri:"r/".concat(this.display_name,"/wiki/revisions"),qs:t})}},m=_;r.default=m},{"../Promise.js":1,"../errors.js":4,"../helpers.js":5,"./RedditContent.js":13,fs:27,lodash:36,stream:57}],18:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=class{constructor(t,e){return t.children.map((function(t){return e._newObject("RedditUser",t)}))}}},{}],19:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(t("../Promise.js")),o=t("../helpers.js"),s=n(t("./ReplyableContent.js")),a="json",u=class extends s.default{_vote(t){return this._post({uri:"api/vote",form:{dir:t,id:this.name}}).return(this)}upvote(){return this._vote(1)}downvote(){return this._vote(-1)}unvote(){return this._vote(0)}save(){return this._post({uri:"api/save",form:{id:this.name}}).return(this)}unsave(){return this._post({uri:"api/unsave",form:{id:this.name}}).return(this)}distinguish(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.status,r=void 0===e||e,n=t.sticky,i=void 0!==n&&n;return this._post({uri:"api/distinguish",form:{api_type:a,how:!0===r?"yes":!1===r?"no":r,sticky:i,id:this.name}}).return(this)}undistinguish(){return this.distinguish({status:!1,sticky:!1}).return(this)}edit(t){return this._post({uri:"api/editusertext",form:{api_type:a,text:t,thing_id:this.name}}).tap((0,o.handleJsonErrors)(this))}gild(){return this._post({uri:"api/v1/gold/gild/".concat(this.name)}).return(this)}_setInboxRepliesEnabled(t){return this._post({uri:"api/sendreplies",form:{state:t,id:this.name}})}enableInboxReplies(){return this._setInboxRepliesEnabled(!0).return(this)}disableInboxReplies(){return this._setInboxRepliesEnabled(!1).return(this)}_mutateAndExpandReplies(t){var e=this,r=t.limit,n=t.depth;if(n<=0)return i.default.resolve(this);var o="Submission"===this.constructor._name?"comments":"replies";return this[o].fetchMore({amount:r-this[o].length}).tap((function(t){e[o]=t})).then((function(t){return t.slice(0,r)})).map((function(t){return t._mutateAndExpandReplies({limit:r,depth:n-1})})).return(this)}expandReplies(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,r=void 0===e?1/0:e,n=t.depth,i=void 0===n?1/0:n;return this._r._promiseWrap(this.fetch().then((function(t){return t._clone({deep:!0})._mutateAndExpandReplies({limit:r,depth:i})})))}};Object.defineProperty(u.prototype,"delete",{value(){return this._post({uri:"api/del",form:{id:this.name}}).return(this)},configurable:!0,writable:!0});var c=u;r.default=c},{"../Promise.js":1,"../helpers.js":5,"./ReplyableContent.js":15}],20:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./RedditContent.js")),i=class extends n.default{get _uri(){return"r/".concat(this.subreddit.display_name,"/wiki/").concat(this.title)}getSettings(){return this._get({uri:"r/".concat(this.subreddit.display_name,"/wiki/settings/").concat(this.title)})}editSettings(t){var e=t.listed,r=t.permission_level,n=t.permissionLevel,i=void 0===n?r:n;return this._post({uri:"r/".concat(this.subreddit.display_name,"/wiki/settings/").concat(this.title),form:{listed:e,permlevel:i}}).return(this)}_modifyEditor(t){var e=t.name,r=t.action;return this._post({uri:"r/".concat(this.subreddit.display_name,"/api/wiki/alloweditor/").concat(r),form:{page:this.title,username:e}})}addEditor(t){var e=t.name;return this._modifyEditor({name:e,action:"add"}).return(this)}removeEditor(t){var e=t.name;return this._modifyEditor({name:e,action:"del"}).return(this)}edit(t){var e=t.text,r=t.reason,n=t.previous_revision,i=t.previousRevision,o=void 0===i?n:i;return this._post({uri:"r/".concat(this.subreddit.display_name,"/api/wiki/edit"),form:{content:e,page:this.title,previous:o,reason:r}}).return(this)}getRevisions(t){return this._getListing({uri:"r/".concat(this.subreddit.display_name,"/wiki/revisions/").concat(this.title),qs:t})}hideRevision(t){var e=t.id;return this._post({uri:"r/".concat(this.subreddit.display_name,"/api/wiki/hide"),qs:{page:this.title,revision:e}}).return(this)}revert(t){var e=t.id;return this._post({uri:"r/".concat(this.subreddit.display_name,"/api/wiki/revert"),qs:{page:this.title,revision:e}}).return(this)}getDiscussions(t){return this._getListing({uri:"r/".concat(this.subreddit.display_name,"/wiki/discussions/").concat(this.title),qs:t})}},o=i;r.default=o},{"./RedditContent.js":13}],21:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedditContent",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"ReplyableContent",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"VoteableContent",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"Comment",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"RedditUser",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"Submission",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"LiveThread",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"PrivateMessage",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"Subreddit",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(r,"MultiReddit",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(r,"WikiPage",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"Listing",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(r,"More",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(r,"UserList",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(r,"ModmailConversation",{enumerable:!0,get:function(){return g.default}});var i=n(t("./RedditContent.js")),o=n(t("./ReplyableContent.js")),s=n(t("./VoteableContent.js")),a=n(t("./Comment.js")),u=n(t("./RedditUser.js")),c=n(t("./Submission.js")),l=n(t("./LiveThread.js")),f=n(t("./PrivateMessage.js")),h=n(t("./Subreddit.js")),p=n(t("./MultiReddit.js")),d=n(t("./WikiPage.js")),_=n(t("./Listing.js")),m=n(t("./More.js")),v=n(t("./UserList.js")),g=n(t("./ModmailConversation.js"))},{"./Comment.js":6,"./Listing.js":7,"./LiveThread.js":8,"./ModmailConversation.js":9,"./More.js":10,"./MultiReddit.js":11,"./PrivateMessage.js":12,"./RedditContent.js":13,"./RedditUser.js":14,"./ReplyableContent.js":15,"./Submission.js":16,"./Subreddit.js":17,"./UserList.js":18,"./VoteableContent.js":19,"./WikiPage.js":20}],22:[function(t,e,r){"use strict";function n(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t){return 1===t?s.default.resolve():s.default.delay(1e3*(Math.pow(2,t-1)+(Math.random()-.3)))}Object.defineProperty(r,"__esModule",{value:!0}),r.oauthRequest=function(t){var e,r=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(e=s.default.resolve().then((function(){return r._awaitRatelimit()})).then((function(){return r._awaitRequestDelay()})).then((function(){return i(u)})).then((function(){return r.updateAccessToken()})).then((function(e){return r.rawRequest((0,o.merge)({json:!0,headers:{"user-agent":r.userAgent},baseUrl:"https://oauth.".concat(r._config.endpointDomain),qs:{raw_json:1},auth:{bearer:e},resolveWithFullResponse:!0,timeout:r._config.requestTimeout,transform:function(t,e){return Object.prototype.hasOwnProperty.call(e.headers,"x-ratelimit-remaining")&&(r.ratelimitRemaining=+e.headers["x-ratelimit-remaining"],r.ratelimitExpiration=Date.now()+1e3*e.headers["x-ratelimit-reset"]),r._debug("Received a ".concat(e.statusCode," status code from a `").concat(e.request.method,"` request"),"sent to ".concat(e.request.uri.href,". ratelimitRemaining: ").concat(r.ratelimitRemaining)),e}},t))})).then((function(t){var e=r._populate(t.body);return e&&"Listing"===e.constructor._name&&e._setUri(t.request.uri.href),e}))).catch.apply(e,n(this._config.retryErrorCodes.map((function(t){return{statusCode:t}}))).concat([function(e){if(!(0,o.includes)(a.IDEMPOTENT_HTTP_VERBS,e.response.request.method)||u>=r._config.maxRetryAttempts)throw e;return r._warn("Received status code ".concat(e.statusCode," from reddit."),"Retrying request (attempt ".concat(u+1,"/").concat(r._config.maxRetryAttempts,")...")),r.oauthRequest(t,u+1)}])).catch({statusCode:401},(function(e){if(r.accessToken&&r.tokenExpiration-Date.now()<a.MAX_TOKEN_LATENCY)return r.accessToken=null,r.tokenExpiration=null,r.oauthRequest(t,u);throw e}))},r._awaitExponentialBackoff=i,r._awaitRatelimit=function(){if(this.ratelimitRemaining<1&&Date.now()<this.ratelimitExpiration){var t=this.ratelimitExpiration-Date.now();if(this._config.continueAfterRatelimitError)return this._warn((0,u.rateLimitWarning)(t)),s.default.delay(t);throw new u.RateLimitError(t)}return s.default.resolve()},r._awaitRequestDelay=function(){var t=Date.now(),e=this._nextRequestTimestamp-t;return this._nextRequestTimestamp=Math.max(t,this._nextRequestTimestamp)+this._config.requestDelay,s.default.delay(e)},r.credentialedClientRequest=function(t){var e=this.rawRequest||c;return s.default.resolve(e.call(this,(0,o.merge)({json:!0,auth:{user:this.clientId||this.client_id||"",pass:this.clientSecret||this.client_secret||""},headers:{"user-agent":this.userAgent},baseUrl:this._config?"https://www.".concat(this._config.endpointDomain):void 0},t)))},r.unauthenticatedRequest=function(t){return s.default.resolve(this.rawRequest((0,o.merge)({json:!0,headers:{"user-agent":this.userAgent},baseUrl:"https://www.".concat(this._config.endpointDomain)},t)))},r.updateAccessToken=function(){var t=this;return(!this.accessToken||Date.now()>this.tokenExpiration)&&(this.refreshToken||this.username&&this.password)?this.credentialedClientRequest({method:"post",uri:"api/v1/access_token",form:this.refreshToken?{grant_type:"refresh_token",refresh_token:this.refreshToken}:{grant_type:"password",username:this.username,password:this.password}}).then((function(e){if(t.accessToken=e.access_token,t.tokenExpiration=Date.now()+1e3*e.expires_in,"invalid_grant"===e.error)throw new Error('"Invalid grant" error returned from reddit. (You might have incorrect credentials.)');if(void 0!==e.error_description)throw new Error("Reddit returned an error: ".concat(e.error,": ").concat(e.error_description));if(void 0!==e.error)throw new Error("Reddit returned an error: ".concat(e.error));return t.scope=e.scope.split(" "),t.accessToken})):s.default.resolve(this.accessToken)},r.rawRequest=void 0;var o=t("lodash"),s=function(t){return t&&t.__esModule?t:{default:t}}(t("./Promise.js")),a=t("./constants.js"),u=t("./errors.js"),c="undefined"!=typeof XMLHttpRequest?t("./xhr"):t("request-promise").defaults({gzip:!0});r.rawRequest=c},{"./Promise.js":1,"./constants.js":2,"./errors.js":4,"./xhr":24,lodash:36,"request-promise":27}],23:[function(t,e,r){(function(r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(r,!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){return t}var l=t("lodash"),f=i(t("./Promise.js")),h=i(t("promise-chains")),p=i(t("util")),d=n(t("./request_handler.js")),_=t("./constants.js"),m=n(t("./errors.js")),v=t("./helpers.js"),g=i(t("./create_config.js")),y=n(t("./objects/index.js")),b="json",w=class t{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.user_agent,n=t.userAgent,i=void 0===n?e:n,o=t.client_id,s=t.clientId,a=void 0===s?o:s,u=t.client_secret,c=t.clientSecret,f=void 0===c?u:c,h=t.refresh_token,p=t.refreshToken,d=void 0===p?h:p,_=t.access_token,y=t.accessToken,b=void 0===y?_:y,w=t.username,j=t.password;if(!i&&!v.isBrowser)return(0,v.requiredArg)("userAgent");if(!(b&&"string"==typeof b||void 0!==a&&void 0!==f&&"string"==typeof d||void 0!==a&&void 0!==f&&void 0!==w&&void 0!==j))throw new m.NoCredentialsError;v.isBrowser&&(this.userAgent=r.navigator.userAgent),(0,l.defaults)(this,{userAgent:i,clientId:a,clientSecret:f,refreshToken:d,accessToken:b,username:w,password:j},{clientId:null,clientSecret:null,refreshToken:null,accessToken:null,username:null,password:null,ratelimitRemaining:null,ratelimitExpiration:null,tokenExpiration:null,scope:null,_config:(0,g.default)(),_nextRequestTimestamp:-1/0}),(0,v.addSnakeCaseShadowProps)(this)}static getAuthUrl(t){var e=t.clientId,r=void 0===e?(0,v.requiredArg)("clientId"):e,n=t.scope,i=void 0===n?(0,v.requiredArg)("scope"):n,o=t.redirectUri,s=void 0===o?(0,v.requiredArg)("redirectUri"):o,a=t.permanent,u=void 0===a||a,c=t.state,l=void 0===c?"_":c,f=t.endpointDomain,h=void 0===f?"reddit.com":f;if(!(Array.isArray(i)&&i.length&&i.every((function(t){return t&&"string"==typeof t}))))throw new TypeError("Missing `scope` argument; a non-empty list of OAuth scopes must be provided");return"\n      https://www.".concat(h,"/api/v1/authorize?\n      client_id=").concat(encodeURIComponent(r),"\n      &response_type=code\n      &state=").concat(encodeURIComponent(l),"\n      &redirect_uri=").concat(encodeURIComponent(s),"\n      &duration=").concat(u?"permanent":"temporary","\n      &scope=").concat(encodeURIComponent(i.join(" ")),"\n    ").replace(/\s/g,"")}static fromAuthCode(t){var e=this,n=t.code,i=void 0===n?(0,v.requiredArg)("code"):n,o=t.userAgent,s=void 0===o?v.isBrowser?r.navigator.userAgent:(0,v.requiredArg)("userAgent"):o,u=t.clientId,c=void 0===u?(0,v.requiredArg)("clientId"):u,l=t.clientSecret,f=t.redirectUri,h=void 0===f?(0,v.requiredArg)("redirectUri"):f,p=t.endpointDomain,d=void 0===p?"reddit.com":p;return this.prototype.credentialedClientRequest.call({userAgent:s,clientId:c,clientSecret:l,rawRequest:this.prototype.rawRequest},{method:"post",baseUrl:"https://www.".concat(d,"/"),uri:"api/v1/access_token",form:{grant_type:"authorization_code",code:i,redirect_uri:h}}).then((function(t){if(t.error)throw new m.RequestError("API Error: ".concat(t.error," - ").concat(t.error_description));var r=new e(a({userAgent:s,clientId:c,clientSecret:l},t));return r.config({endpointDomain:d}),r}))}static get grantType(){return{CLIENT_CREDENTIALS:"client_credentials",INSTALLED_CLIENT:"https://oauth.reddit.com/grants/installed_client"}}static fromApplicationOnlyAuth(e){var n=this,i=e.userAgent,o=void 0===i?v.isBrowser?r.navigator.userAgent:(0,v.requiredArg)("userAgent"):i,s=e.clientId,u=void 0===s?(0,v.requiredArg)("clientId"):s,c=e.clientSecret,l=e.deviceId,f=e.grantType,h=void 0===f?t.grantType.INSTALLED_CLIENT:f,p=e.permanent,d=void 0===p||p,_=e.endpointDomain,g=void 0===_?"reddit.com":_;return this.prototype.credentialedClientRequest.call({clientId:u,clientSecret:c,rawRequest:this.prototype.rawRequest},{method:"post",baseUrl:"https://www.".concat(g,"/"),uri:"api/v1/access_token",form:{grant_type:h,device_id:l,duration:d?"permanent":"temporary"}}).then((function(t){if(t.error)throw new m.RequestError("API Error: ".concat(t.error," - ").concat(t.error_description));var e=new n(a({userAgent:o,clientId:u,clientSecret:c},t));return e.config({endpointDomain:g}),e}))}_newObject(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(r)?r:new t.objects[e](r,this,n)}config(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object.keys(e).find((function(e){return!(e in t._config)}));if(r)throw new TypeError("Invalid config option '".concat(r,"'"));return Object.assign(this._config,e)}_warn(){var t;this._config.warnings&&(t=this._config.logger).warn.apply(t,arguments)}_debug(){var t;this._config.debug&&(t=this._config.logger).debug.apply(t,arguments)}get _promiseWrap(){return this._config.proxies?h.default:c}getUser(t){return this._newObject("RedditUser",{name:(t+"").replace(/^\/?u\//,"")})}getComment(t){return this._newObject("Comment",{name:(0,v.addFullnamePrefix)(t,"t1_")})}getSubreddit(t){return this._newObject("Subreddit",{display_name:t.replace(/^\/?r\//,"")})}getSubmission(t){return this._newObject("Submission",{name:(0,v.addFullnamePrefix)(t,"t3_")})}getMessage(t){return this._newObject("PrivateMessage",{name:(0,v.addFullnamePrefix)(t,"t4_")})}getLivethread(t){return this._newObject("LiveThread",{id:(0,v.addFullnamePrefix)(t,"LiveUpdateEvent_").slice(16)})}getMe(){var t=this;return this._get({uri:"api/v1/me"}).then((function(e){return t._ownUserInfo=t._newObject("RedditUser",e,!0),t._ownUserInfo}))}_getMyName(){return f.default.resolve(this._ownUserInfo?this._ownUserInfo.name:this.getMe().get("name"))}getKarma(){return this._get({uri:"api/v1/me/karma"})}getPreferences(){return this._get({uri:"api/v1/me/prefs"})}updatePreferences(t){return this._patch({uri:"api/v1/me/prefs",body:t})}getMyTrophies(){return this._get({uri:"api/v1/me/trophies"})}getFriends(){return this._get({uri:"prefs/friends"})}getBlockedUsers(){return this._get({uri:"prefs/blocked"})}checkCaptchaRequirement(){return this._get({uri:"api/needs_captcha"})}getNewCaptchaIdentifier(){return this._post({uri:"api/new_captcha",form:{api_type:b}}).then((function(t){return t.json.data.iden}))}getCaptchaImage(t){return this._get({uri:"captcha/".concat(t)})}getSavedCategories(){return this._get({uri:"api/saved_categories"}).get("categories")}markAsVisited(t){return this._post({uri:"api/store_visits",links:(0,l.map)(t,"name").join(",")})}_submit(t){var e=this,r=t.captcha_response,n=t.captchaResponse,i=void 0===n?r:n,s=t.captcha_iden,u=t.captchaIden,c=void 0===u?s:u,l=t.kind,f=t.resubmit,h=void 0===f||f,p=t.send_replies,d=void 0===p||p,_=t.sendReplies,m=void 0===_?d:_,g=t.crosspost_fullname,y=t.text,w=t.title,j=t.url,E=t.subreddit_name,k=t.subredditName,x=void 0===k?E:k,O=t.nsfw,S=t.spoiler,C=t.flairId,R=t.flairText,P=o(t,["captcha_response","captchaResponse","captcha_iden","captchaIden","kind","resubmit","send_replies","sendReplies","crosspost_fullname","text","title","url","subreddit_name","subredditName","nsfw","spoiler","flairId","flairText"]);return this._post({uri:"api/submit",form:a({api_type:b,captcha:i,iden:c,sendreplies:m,sr:x,kind:l,resubmit:h,crosspost_fullname:g,text:y,title:w,url:j,spoiler:S,nsfw:O,flair_id:C,flair_text:R},P)}).tap((0,v.handleJsonErrors)(this)).then((function(t){return e.getSubmission(t.json.data.id)}))}submitSelfpost(t){return this._submit(a({},t,{kind:"self"}))}submitLink(t){return this._submit(a({},t,{kind:"link"}))}submitCrosspost(e){return this._submit(a({},e,{kind:"crosspost",crosspost_fullname:e.originalPost instanceof t.objects.Submission?e.originalPost.name:(0,v.addFullnamePrefix)(e.originalPost,"t3_")}))}_getSortedFrontpage(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e;"object"==typeof e&&(0,l.isEmpty)((0,l.omitBy)(r,(function(t){return void 0===t})))&&(r=e,n=void 0);var i=(0,l.omit)(a({},r,{t:r.time||r.t}),"time");return this._getListing({uri:(n?"r/".concat(n,"/"):"")+t,qs:i})}getHot(t,e){return this._getSortedFrontpage("hot",t,e)}getBest(t){return this._getSortedFrontpage("best",void 0,t)}getNew(t,e){return this._getSortedFrontpage("new",t,e)}getNewComments(t,e){return this._getSortedFrontpage("comments",t,e)}getContentByIds(e){if(!Array.isArray(e))throw new TypeError("Invalid argument: Argument needs to be an array.");var r=e.map((function(r){if(r instanceof t.objects.Submission||r instanceof t.objects.Comment)return r.name;if("string"==typeof r){if(!/t(1|3)_/g.test(e))throw new TypeError("Invalid argument: Ids need to include Submission or Comment prefix, e.g. t1_, t3_.");return r}throw new TypeError("Id must be either a string, Submission, or Comment.")}));return this._get({uri:"/api/info",method:"get",qs:{id:r.join(",")}})}getRandomSubmission(t){return this._get({uri:"".concat(t?"r/".concat(t,"/"):"","random")})}getTop(t,e){return this._getSortedFrontpage("top",t,e)}getControversial(t,e){return this._getSortedFrontpage("controversial",t,e)}getRising(t,e){return this._getSortedFrontpage("rising",t,e)}getUnreadMessages(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"message/unread",qs:t})}getInbox(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=o(t,["filter"]);return this._getListing({uri:"message/".concat(e||"inbox"),qs:r})}getModmail(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"message/moderator",qs:t})}getNewModmailConversations(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"api/mod/conversations",qs:e,_name:"ModmailConversation",_transform:function(e){for(var r of(e.after=null,e.before=null,e.children=[],e.conversationIds)){e.conversations[r].participant=t._newObject("ModmailConversationAuthor",a({},e.conversations[r].participant));var n=a({},y.ModmailConversation._getConversationObjects(e.conversations[r],e),{},e.conversations[r]);e.children.push(t._newObject("ModmailConversation",n))}return t._newObject("Listing",e)}})}createModmailDiscussion(t){var e=this,r=t.body,n=t.subject,i=t.srName.replace(/^\/?r\//,"");return this._post({uri:"api/mod/conversations",form:{body:r,subject:n,srName:i}}).then((function(t){return e._newObject("ModmailConversation",{id:t.conversation.id})}))}getNewModmailConversation(t){return this._newObject("ModmailConversation",{id:t})}markNewModmailConversationsAsRead(t){var e=t.map((function(t){return(0,v.addFullnamePrefix)(t,"")}));return this._post({uri:"api/mod/conversations/read",form:{conversationIds:e.join(",")}})}markNewModmailConversationsAsUnread(t){var e=t.map((function(t){return(0,v.addFullnamePrefix)(t,"")}));return this._post({uri:"api/mod/conversations/unread",form:{conversationIds:e.join(",")}})}getNewModmailSubreddits(){var t=this;return this._get({uri:"api/mod/conversations/subreddits"}).then((function(e){return Object.values(e.subreddits).map((function(e){return t._newObject("Subreddit",e)}))}))}getUnreadNewModmailConversationsCount(){return this._get({uri:"api/mod/conversations/unread/count"})}bulkReadNewModmail(t,e){var r=this,n=t.map((function(t){return"string"==typeof t?t.replace(/^\/?r\//,""):t.display_name}));return this._post({uri:"api/mod/conversations/bulk/read",form:{entity:n.join(","),state:e}}).then((function(t){return r._newObject("Listing",{after:null,before:null,children:t.conversation_ids.map((function(t){return r._newObject("ModmailConversation",{id:t})}))})}))}getSentMessages(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._getListing({uri:"message/sent",qs:t})}markMessagesAsRead(t){var e=t.map((function(t){return(0,v.addFullnamePrefix)(t,"t4_")}));return this._post({uri:"api/read_message",form:{id:e.join(",")}})}markMessagesAsUnread(t){var e=t.map((function(t){return(0,v.addFullnamePrefix)(t,"t4_")}));return this._post({uri:"api/unread_message",form:{id:e.join(",")}})}readAllMessages(){return this._post({uri:"api/read_all_messages"})}composeMessage(e){var r=e.captcha,n=e.from_subreddit,i=e.fromSubreddit,o=void 0===i?n:i,s=e.captcha_iden,a=e.captchaIden,u=void 0===a?s:a,c=e.subject,l=e.text,f=e.to,h=f,p=o;return f instanceof t.objects.RedditUser?h=f.name:f instanceof t.objects.Subreddit&&(h="/r/".concat(f.display_name)),o instanceof t.objects.Subreddit?p=o.display_name:"string"==typeof o&&(p=o.replace(/^\/?r\//,"")),this._post({uri:"api/compose",form:{api_type:b,captcha:r,iden:u,from_sr:p,subject:c,text:l,to:h}}).tap((0,v.handleJsonErrors)(this)).return({})}getOauthScopeList(){return this._get({uri:"api/v1/scopes"})}search(e){e.subreddit instanceof t.objects.Subreddit&&(e.subreddit=e.subreddit.display_name),(0,l.defaults)(e,{restrictSr:!0,syntax:"plain"});var r=(0,l.omit)(a({},e,{t:e.time,q:e.query,restrict_sr:e.restrictSr}),["time","query"]);return this._getListing({uri:"".concat(e.subreddit?"r/".concat(e.subreddit,"/"):"","search"),qs:r})}searchSubredditNames(t){var e=t.exact,r=void 0!==e&&e,n=t.include_nsfw,i=void 0===n||n,o=t.includeNsfw,s=void 0===o?i:o,a=t.query;return this._post({uri:"api/search_reddit_names",qs:{exact:r,include_over_18:s,query:a}}).get("names")}_createOrEditSubreddit(t){var e=t.allow_images,r=void 0===e||e,n=t.allow_top,i=void 0===n||n,s=t.captcha,u=t.captcha_iden,c=t.collapse_deleted_comments,l=void 0!==c&&c,f=t.comment_score_hide_mins,h=void 0===f?0:f,p=t.description,d=t.exclude_banned_modqueue,_=void 0!==d&&d,m=t["header-title"],g=t.hide_ads,y=void 0!==g&&g,w=t.lang,j=void 0===w?"en":w,E=t.link_type,k=void 0===E?"any":E,x=t.name,O=t.over_18,S=void 0!==O&&O,C=t.public_description,R=t.public_traffic,P=void 0!==R&&R,T=t.show_media,A=void 0!==T&&T,F=t.show_media_preview,L=void 0===F||F,M=t.spam_comments,I=void 0===M?"high":M,U=t.spam_links,N=void 0===U?"high":U,D=t.spam_selfposts,q=void 0===D?"high":D,B=t.spoilers_enabled,W=void 0!==B&&B,V=t.sr,H=t.submit_link_label,z=void 0===H?"":H,$=t.submit_text_label,Y=void 0===$?"":$,G=t.submit_text,J=void 0===G?"":G,K=t.suggested_comment_sort,X=void 0===K?"confidence":K,Q=t.title,Z=t.type,tt=void 0===Z?"public":Z,et=t.wiki_edit_age,rt=t.wiki_edit_karma,nt=t.wikimode,it=void 0===nt?"modonly":nt,ot=o(t,["allow_images","allow_top","captcha","captcha_iden","collapse_deleted_comments","comment_score_hide_mins","description","exclude_banned_modqueue","header-title","hide_ads","lang","link_type","name","over_18","public_description","public_traffic","show_media","show_media_preview","spam_comments","spam_links","spam_selfposts","spoilers_enabled","sr","submit_link_label","submit_text_label","submit_text","suggested_comment_sort","title","type","wiki_edit_age","wiki_edit_karma","wikimode"]);return this._post({uri:"api/site_admin",form:a({allow_images:r,allow_top:i,api_type:b,captcha:s,collapse_deleted_comments:l,comment_score_hide_mins:h,description:p,exclude_banned_modqueue:_,"header-title":m,hide_ads:y,iden:u,lang:j,link_type:k,name:x,over_18:S,public_description:C,public_traffic:P,show_media:A,show_media_preview:L,spam_comments:I,spam_links:N,spam_selfposts:q,spoilers_enabled:W,sr:V,submit_link_label:z,submit_text:J,submit_text_label:Y,suggested_comment_sort:X,title:Q,type:tt,wiki_edit_age:et,wiki_edit_karma:rt,wikimode:it},ot)}).then((0,v.handleJsonErrors)(this.getSubreddit(x||V)))}createSubreddit(t){return this._createOrEditSubreddit(t)}searchSubredditTopics(t){var e=this,r=t.query;return this._get({uri:"api/subreddits_by_topic",qs:{query:r}}).map((function(t){return e.getSubreddit(t.name)}))}getSubscriptions(t){return this._getListing({uri:"subreddits/mine/subscriber",qs:t})}getContributorSubreddits(t){return this._getListing({uri:"subreddits/mine/contributor",qs:t})}getModeratedSubreddits(t){return this._getListing({uri:"subreddits/mine/moderator",qs:t})}searchSubreddits(t){return t.q=t.query,this._getListing({uri:"subreddits/search",qs:(0,l.omit)(t,"query")})}getPopularSubreddits(t){return this._getListing({uri:"subreddits/popular",qs:t})}getNewSubreddits(t){return this._getListing({uri:"subreddits/new",qs:t})}getGoldSubreddits(t){return this._getListing({uri:"subreddits/gold",qs:t})}getDefaultSubreddits(t){return this._getListing({uri:"subreddits/default",qs:t})}checkUsernameAvailability(t){return this.unauthenticatedRequest({uri:"api/username_available.json",qs:{user:t}})}createLivethread(t){var e=this,r=t.title,n=t.description,i=t.resources,o=t.nsfw,s=void 0!==o&&o;return this._post({uri:"api/live/create",form:{api_type:b,description:n,nsfw:s,resources:i,title:r}}).tap((0,v.handleJsonErrors)(this)).then((function(t){return e.getLivethread(t.json.data.id)}))}getStickiedLivethread(){return this._get({uri:"api/live/happening_now"})}getMyMultireddits(){return this._get({uri:"api/multi/mine",qs:{expand_srs:!0}})}createMultireddit(t){var e=t.name,r=t.description,n=t.subreddits,i=t.visibility,o=void 0===i?"private":i,s=t.icon_name,a=void 0===s?"":s,u=t.key_color,c=void 0===u?"#000000":u,l=t.weighting_scheme,f=void 0===l?"classic":l;return this._post({uri:"api/multi",form:{model:JSON.stringify({display_name:e,description_md:r,icon_name:a,key_color:c,subreddits:n.map((function(t){return{name:"string"==typeof t?t:t.display_name}})),visibility:o,weighting_scheme:f})}})}_revokeToken(t){return this.credentialedClientRequest({uri:"api/v1/revoke_token",form:{token:t},method:"post"})}revokeAccessToken(){var t=this;return this._revokeToken(this.accessToken).then((function(){t.accessToken=null,t.tokenExpiration=null}))}revokeRefreshToken(){var t=this;return this._revokeToken(this.refreshToken).then((function(){t.refreshToken=null,t.accessToken=null,t.tokenExpiration=null}))}_selectFlair(t){var e=this,r=t.flair_template_id,n=t.link,i=t.name,o=t.text,s=t.subredditName;if(!r)throw new m.InvalidMethodCallError("No flair template ID provided");return f.default.resolve(s).then((function(t){return e._post({uri:"r/".concat(t,"/api/selectflair"),form:{api_type:b,flair_template_id:r,link:n,name:i,text:o}})}))}_assignFlair(t){var e=this,r=t.css_class,n=t.cssClass,i=void 0===n?r:n,o=t.link,s=t.name,a=t.text,u=t.subreddit_name,c=t.subredditName,l=void 0===c?u:c;return this._promiseWrap(f.default.resolve(l).then((function(t){return e._post({uri:"r/".concat(t,"/api/flair"),form:{api_type:b,name:s,text:a,link:o,css_class:i}})})))}_populate(e){var r=this;if("object"==typeof e&&null!==e){if(2===Object.keys(e).length&&e.kind&&e.data)return this._newObject(_.KINDS[e.kind]||"RedditContent",this._populate(e.data),!0);var n=(Array.isArray(e)?l.map:l.mapValues)(e,(function(t,e){return null!==t&&_.USER_KEYS.has(e)?r._newObject("RedditUser",{name:t}):null!==t&&_.SUBREDDIT_KEYS.has(e)?r._newObject("Subreddit",{display_name:t}):r._populate(t)}));return 2===n.length&&n[0]instanceof t.objects.Listing&&n[0][0]instanceof t.objects.Submission&&n[1]instanceof t.objects.Listing?(n[1]._more&&!n[1]._more.link_id&&(n[1]._more.link_id=n[0][0].name),n[0][0].comments=n[1],n[0][0]):n}return e}_getListing(t){var e=t.uri,r=t.qs,n=void 0===r?{}:r,i=o(t,["uri","qs"]),s=a({count:9999},n);return n.limit||!(0,l.isEmpty)(i)?this._newObject("Listing",a({_query:s,_uri:e},i)).fetchMore(n.limit||_.MAX_LISTING_ITEMS):this._get({uri:e,qs:s}).then((function(t){return Array.isArray(t)&&t.filter((function(t){return"Comment"===t.constructor._name})).forEach(v.addEmptyRepliesListing),t}))}static noConflict(){return v.isBrowser&&(r[_.MODULE_NAME]=this._previousSnoowrap),this}};(0,v.defineInspectFunc)(w.prototype,(function(){var t=["clientSecret","refreshToken","accessToken","password"],e=(0,l.mapValues)((0,l.omitBy)(this,(function(t,e){return"string"==typeof e&&e.startsWith("_")})),(function(e,r){return(0,l.includes)(t,r)?e&&"(redacted)":e}));return"".concat(_.MODULE_NAME," ").concat(p.default.inspect(e))}));var j={configurable:!0,writable:!0};Object.defineProperties(w.prototype,(0,l.mapValues)(d,(function(t){return a({value:t},j)}))),_.HTTP_VERBS.forEach((function(t){Object.defineProperty(w.prototype,"_".concat(t),a({value(e){return this._promiseWrap(this.oauthRequest(a({},e,{method:t})))}},j))})),w.objects=(0,l.mapValues)(y,(function(t){return t})),(0,l.forOwn)(_.KINDS,(function(t){w.objects[t]=w.objects[t]||class extends y.RedditContent{},Object.defineProperty(w.objects[t],"_name",{value:t,configurable:!0})})),(0,l.values)(w.objects).concat(w).map((function(t){return t.prototype})).forEach((function(t){Object.getOwnPropertyNames(t).filter((function(e){return!e.startsWith("_")&&e!==(0,l.snakeCase)(e)&&"function"==typeof t[e]})).forEach((function(e){return Object.defineProperty(t,(0,l.snakeCase)(e),a({value:t[e]},j))}))})),w.errors=m,w.version=_.VERSION,!e.parent&&v.isBrowser&&(w._previousSnoowrap=r[_.MODULE_NAME],r[_.MODULE_NAME]=w),e.exports=w}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Promise.js":1,"./constants.js":2,"./create_config.js":3,"./errors.js":4,"./helpers.js":5,"./objects/index.js":21,"./request_handler.js":22,lodash:36,"promise-chains":39,util:27}],24:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){}function o(t){try{return JSON.parse(t)}catch(e){return t}}function s(t){return t.split("\r\n").filter((function(t){return t})).reduce((function(t,e){var r=e.indexOf(": ");return t[e.slice(0,r)]=e.slice(r+2),t}),{})}var a=n(t("./Promise.js")),u=n(t("url")),c=t("querystring"),l=t("./errors.js");e.exports=function(t){var e=u.default.parse(t.url||u.default.resolve(t.baseUrl,t.uri),!0);e.search=(0,c.stringify)(Object.assign({},e.query,t.qs));var r,n=u.default.parse(e.format()),f=new XMLHttpRequest,h=t.method?t.method.toUpperCase():"GET";return f.open(h,n.href),Object.keys(t.headers).filter((function(t){return"user-agent"!==t.toLowerCase()})).forEach((function(e){return f.setRequestHeader(e,t.headers[e])})),t.auth&&f.setRequestHeader("Authorization",t.auth.bearer?"bearer ".concat(t.auth.bearer):"basic "+btoa("".concat(t.auth.user,":").concat(t.auth.pass))),t.formData?(r=new FormData,Object.keys(t.formData).forEach((function(e){return r.append(e,t.formData[e])})),t.form&&Object.keys(t.form).forEach((function(e){return r.append(e,t.form[e])})),f.setRequestHeader("Content-Type","multipart/form-data")):t.form?(r=(0,c.stringify)(t.form),f.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):t.json?(r=JSON.stringify(t.body),f.setRequestHeader("Content-Type","application/json")):r=t.body,new a.default((function(e,a,u){u((function(){return f.abort()})),f.onload=function(){var r=this,u=this.status>=200&&this.status<300,c=u?e:function(t){return a(Object.assign(new l.StatusCodeError(r.status+""),t))},p={statusCode:this.status,body:(t.json?o:i)(f.response),headers:s(f.getAllResponseHeaders()),request:{method:h,uri:n}};c("function"==typeof t.transform?t.transform(p.body,p):!u||t.resolveWithFullResponse?p:p.body)},f.onerror=function(t){return a(Object.assign(new l.RequestError,t))},f.send(r)})).timeout(t.timeout||Math.pow(2,31)-1,"Error: ETIMEDOUT").catch(a.default.TimeoutError,(function(t){throw f.abort(),t}))}},{"./Promise.js":1,"./errors.js":4,querystring:42,url:60}],25:[function(t,e,r){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function i(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function o(t,e,r){for(var n,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(i(n));return o.join("")}r.byteLength=function(t){var e=n(t),r=e[0],i=e[1];return 3*(r+i)/4-i},r.toByteArray=function(t){for(var e,r=n(t),i=r[0],o=r[1],s=new u(function(t,e,r){return 3*(e+r)/4-r}(0,i,o)),c=0,l=o>0?i-4:i,f=0;f<l;f+=4)e=a[t.charCodeAt(f)]<<18|a[t.charCodeAt(f+1)]<<12|a[t.charCodeAt(f+2)]<<6|a[t.charCodeAt(f+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===o&&(e=a[t.charCodeAt(f)]<<2|a[t.charCodeAt(f+1)]>>4,s[c++]=255&e),1===o&&(e=a[t.charCodeAt(f)]<<10|a[t.charCodeAt(f+1)]<<4|a[t.charCodeAt(f+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e),s},r.fromByteArray=function(t){for(var e,r=t.length,n=r%3,i=[],a=16383,u=0,c=r-n;u<c;u+=a)i.push(o(t,u,u+a>c?c:u+a));return 1===n?(e=t[r-1],i.push(s[e>>2]+s[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],i.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"=")),i.join("")};for(var s=[],a=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,f=c.length;l<f;++l)s[l]=c[l],a[c.charCodeAt(l)]=l;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],26:[function(t,e,r){(function(t,n,i){!function(t){if("object"==typeof r&&void 0!==e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;"undefined"!=typeof window?i=window:void 0!==n?i=n:"undefined"!=typeof self&&(i=self),i.Promise=t()}}((function(){return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};e[s][0].call(l.exports,(function(t){var r=e[s][1][t];return i(r||t)}),l,l.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";e.exports=function(t){function e(t){var e=new r(t),n=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),n}var r=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(e,r,n){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new h(16),this._normalQueue=new h(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=f}function o(t,e,r){this._lateQueue.push(t,e,r),this._queueTick()}function s(t,e,r){this._normalQueue.push(t,e,r),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}function u(t){for(;t.length()>0;)c(t)}function c(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var r=t.shift(),n=t.shift();e.call(r,n)}}var l;try{throw new Error}catch(t){l=t}var f=e("./schedule"),h=e("./queue"),p=e("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(e,r){r?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout((function(){t(e)}),0);else try{this._schedule((function(){t(e)}))}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},p.hasDevTools?(i.prototype.invokeLater=function(t,e,r){this._trampolineEnabled?o.call(this,t,e,r):this._schedule((function(){setTimeout((function(){t.call(e,r)}),100)}))},i.prototype.invoke=function(t,e,r){this._trampolineEnabled?s.call(this,t,e,r):this._schedule((function(){t.call(e,r)}))},i.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule((function(){t._settlePromises()}))}):(i.prototype.invokeLater=o,i.prototype.invoke=s,i.prototype.settlePromises=a),i.prototype._drainQueues=function(){u(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,u(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},r.exports=i,r.exports.firstLineError=l},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=n.propagateFromFunction(),t.prototype._boundValue=n.boundValueFunction());var c=r(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof t){var h={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(e,s,void 0,l,h),c._then(a,u,void 0,l,h),l._setOnCancel(c)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,r){return t.resolve(r).bind(e)}}},{}],4:[function(t,e,r){"use strict";var n;"undefined"!=typeof Promise&&(n=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=n)}catch(t){}return i},e.exports=i},{"./promise":22}],5:[function(t,e,r){"use strict";var n=Object.create;if(n){var i=n(null),o=n(null);i[" size"]=o[" size"]=0}e.exports=function(e){function r(t,r){var n;if(null!=t&&(n=t[r]),"function"!=typeof n){var i="Object "+s.classString(t)+" has no method '"+s.toString(r)+"'";throw new e.TypeError(i)}return n}function n(t){return r(t,this.pop()).apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var s=t("./util"),a=s.canEvaluate;s.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(n,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e;if("number"==typeof t)e=o;else if(a){var r=undefined(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var r=t._cancellationParent;if(null==r||!r._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=r}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var r=0;r<t.length;++r)this._doInvokeOnCancel(t[r],e);else if(void 0!==t)if("function"==typeof t){if(!e){var n=s(t).call(this._boundValue());n===a&&(this._attachExtraTrace(n.e),u.throwLater(n.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,r){"use strict";e.exports=function(e){var r=t("./util"),n=t("./es5").keys,i=r.tryCatch,o=r.errorObj;return function(t,s,a){return function(u){var c=a._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return i(s).call(c,u)}else if("function"==typeof f){var h=i(f).call(c,u);if(h===o)return h;if(h)return i(s).call(c,u)}else if(r.isObject(u)){for(var p=n(f),d=0;d<p.length;++d){var _=p[d];if(f[_]!=u[_])continue t}return i(s).call(c,u)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e,r){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function r(){var t=i.length-1;if(t>=0)return i[t]}var n=!1,i=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,i.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=i.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=function(){if(n)return new e},e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var i=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=i,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,n=!1},n=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(e,r,n){"use strict";r.exports=function(r,n){function i(t,e){return{promise:e}}function o(){return!1}function s(t,e,r){var n=this;try{t(e,r,(function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+T.toString(t));n._attachCancellationCallback(t)}))}catch(t){return t}}function a(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?T.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!=(1&e)){this._cancellationParent=t;var r=t._branchesRemainingToCancel;void 0===r&&(r=0),t._branchesRemainingToCancel=r+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(){var t=this._boundTo;return void 0!==t&&t instanceof r?t.isFulfilled()?t.value():void 0:t}function p(){this._trace=new k(this._peekContext())}function d(t,e){if(F(t)){var r=this._trace;if(void 0!==r&&e&&(r=r._parent),void 0!==r)r.attachExtraTrace(t);else if(!t.__stackCleaned__){var n=g(t);T.notEnumerableProp(t,"stack",n.message+"\n"+n.stack.join("\n")),T.notEnumerableProp(t,"__stackCleaned__",!0)}}}function _(){this._trace=void 0}function m(t,e,n){if(Z.warnings){var i,o=new P(t);if(e)n._attachExtraTrace(o);else if(Z.longStackTraces&&(i=r._peekContext()))i.attachExtraTrace(o);else{var s=g(o);o.stack=s.message+"\n"+s.stack.join("\n")}G("warning",o)||y(o,"",!0)}}function v(t){for(var e=[],r=0;r<t.length;++r){var n=t[r],i="    (No stack trace)"===n||U.test(n),o=i&&K(n);i&&!o&&(D&&" "!==n.charAt(0)&&(n="    "+n),e.push(n))}return e}function g(t){var e=t.stack,r=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),r=0;r<e.length;++r){var n=e[r];if("    (No stack trace)"===n||U.test(n))break}return r>0&&"SyntaxError"!=t.name&&(e=e.slice(r)),e}(t):["    (No stack trace)"],{message:r,stack:"SyntaxError"==t.name?e:v(e)}}function y(t,e,r){if("undefined"!=typeof console){var n;if(T.isObject(t)){var i=t.stack;n=e+N(i,t)}else n=e+String(t);"function"==typeof S?S(n,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n)}}function b(t,e,r,n){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(n):e(r,n))}catch(t){R.throwLater(t)}"unhandledRejection"===t?G(t,r,n)||i||y(r,"Unhandled rejection "):G(t,n)}function w(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():T.toString(t);if(/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}(e)+">, no stack trace)"}function j(){return"function"==typeof Q}function E(t){var e=t.match(X);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function k(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);Q(this,k),e>32&&this.uncycle()}var x,O,S,C=r._getDomain,R=r._async,P=e("./errors").Warning,T=e("./util"),A=e("./es5"),F=T.canAttachTrace,L=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,M=/\((?:timers\.js):\d+:\d+\)/,I=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,U=null,N=null,D=!1,q=!(0==T.env("BLUEBIRD_DEBUG")),B=!(0==T.env("BLUEBIRD_WARNINGS")||!q&&!T.env("BLUEBIRD_WARNINGS")),W=!(0==T.env("BLUEBIRD_LONG_STACK_TRACES")||!q&&!T.env("BLUEBIRD_LONG_STACK_TRACES")),V=0!=T.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(B||!!T.env("BLUEBIRD_W_FORGOTTEN_RETURN"));r.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},r.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout((function(){t._notifyUnhandledRejection()}),1)}},r.prototype._notifyUnhandledRejectionIsHandled=function(){b("rejectionHandled",x,void 0,this)},r.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},r.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},r.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),b("unhandledRejection",O,t,this)}},r.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},r.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},r.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},r.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},r.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},r.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},r.prototype._warn=function(t,e,r){return m(t,e,r||this)},r.onPossiblyUnhandledRejection=function(t){var e=C();O="function"==typeof t?null===e?t:T.domainBind(e,t):void 0},r.onUnhandledRejectionHandled=function(t){var e=C();x="function"==typeof t?null===e?t:T.domainBind(e,t):void 0};var H=function(){};r.longStackTraces=function(){if(R.haveItemsQueued()&&!Z.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Z.longStackTraces&&j()){var t=r.prototype._captureStackTrace,e=r.prototype._attachExtraTrace,i=r.prototype._dereferenceTrace;Z.longStackTraces=!0,H=function(){if(R.haveItemsQueued()&&!Z.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");r.prototype._captureStackTrace=t,r.prototype._attachExtraTrace=e,r.prototype._dereferenceTrace=i,n.deactivateLongStackTraces(),R.enableTrampoline(),Z.longStackTraces=!1},r.prototype._captureStackTrace=p,r.prototype._attachExtraTrace=d,r.prototype._dereferenceTrace=_,n.activateLongStackTraces(),R.disableTrampolineIfNecessary()}},r.hasLongStackTraces=function(){return Z.longStackTraces&&j()};var z=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return T.global.dispatchEvent(t),function(t,e){var r={detail:e,cancelable:!0};A.defineProperty(r,"promise",{value:e.promise}),A.defineProperty(r,"reason",{value:e.reason});var n=new CustomEvent(t.toLowerCase(),r);return!T.global.dispatchEvent(n)}}if("function"==typeof Event){t=new Event("CustomEvent");return T.global.dispatchEvent(t),function(t,e){var r=new Event(t.toLowerCase(),{cancelable:!0});return r.detail=e,A.defineProperty(r,"promise",{value:e.promise}),A.defineProperty(r,"reason",{value:e.reason}),!T.global.dispatchEvent(r)}}return(t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),T.global.dispatchEvent(t),function(t,e){var r=document.createEvent("CustomEvent");return r.initCustomEvent(t.toLowerCase(),!1,!0,e),!T.global.dispatchEvent(r)}}catch(t){}return function(){return!1}}(),$=T.isNode?function(){return t.emit.apply(t,arguments)}:T.global?function(t){var e="on"+t.toLowerCase(),r=T.global[e];return!!r&&(r.apply(T.global,[].slice.call(arguments,1)),!0)}:function(){return!1},Y={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,r){return{promise:e,child:r}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,r){return{reason:e,promise:r}},rejectionHandled:i},G=function(t){var e=!1;try{e=$.apply(null,arguments)}catch(t){R.throwLater(t),e=!0}var r=!1;try{r=z(t,Y[t].apply(null,arguments))}catch(t){R.throwLater(t),r=!0}return r||e};r.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?r.longStackTraces():!t.longStackTraces&&r.hasLongStackTraces()&&H()),"warnings"in t){var e=t.warnings;Z.warnings=!!e,V=Z.warnings,T.isObject(e)&&"wForgottenReturn"in e&&(V=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!Z.cancellation){if(R.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");r.prototype._clearCancellationData=l,r.prototype._propagateFrom=f,r.prototype._onCancel=u,r.prototype._setOnCancel=c,r.prototype._attachCancellationCallback=a,r.prototype._execute=s,J=f,Z.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!Z.monitoring?(Z.monitoring=!0,r.prototype._fireEvent=G):!t.monitoring&&Z.monitoring&&(Z.monitoring=!1,r.prototype._fireEvent=o)),r},r.prototype._fireEvent=o,r.prototype._execute=function(t,e,r){try{t(e,r)}catch(t){return t}},r.prototype._onCancel=function(){},r.prototype._setOnCancel=function(t){},r.prototype._attachCancellationCallback=function(t){},r.prototype._captureStackTrace=function(){},r.prototype._attachExtraTrace=function(){},r.prototype._dereferenceTrace=function(){},r.prototype._clearCancellationData=function(){},r.prototype._propagateFrom=function(t,e){};var J=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)},K=function(){return!1},X=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;T.inherits(k,Error),n.CapturedTrace=k,k.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],r={},n=0,i=this;void 0!==i;++n)e.push(i),i=i._parent;for(n=(t=this._length=n)-1;n>=0;--n){var o=e[n].stack;void 0===r[o]&&(r[o]=n)}for(n=0;n<t;++n){var s=r[e[n].stack];if(void 0!==s&&s!==n){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[n]._parent=void 0,e[n]._length=1;var a=n>0?e[n-1]:this;s<t-1?(a._parent=e[s+1],a._parent.uncycle(),a._length=a._parent._length+1):(a._parent=void 0,a._length=1);for(var u=a._length+1,c=n-2;c>=0;--c)e[c]._length=u,u++;return}}}},k.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=g(t),r=e.message,n=[e.stack],i=this;void 0!==i;)n.push(v(i.stack.split("\n"))),i=i._parent;(function(t){for(var e=t[0],r=1;r<t.length;++r){for(var n=t[r],i=e.length-1,o=e[i],s=-1,a=n.length-1;a>=0;--a)if(n[a]===o){s=a;break}for(a=s;a>=0;--a){var u=n[a];if(e[i]!==u)break;e.pop(),i--}e=n}})(n),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(n),T.notEnumerableProp(t,"stack",function(t,e){for(var r=0;r<e.length-1;++r)e[r].push("From previous event:"),e[r]=e[r].join("\n");return r<e.length&&(e[r]=e[r].join("\n")),t+"\n"+e.join("\n")}(r,n)),T.notEnumerableProp(t,"__stackCleaned__",!0)}};var Q=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():w(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,U=t,N=e;var r=Error.captureStackTrace;return K=function(t){return L.test(t)},function(t,e){Error.stackTraceLimit+=6,r(t,e),Error.stackTraceLimit-=6}}var n,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return U=/@/,N=e,D=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){n="stack"in t}return"stack"in i||!n||"number"!=typeof Error.stackTraceLimit?(N=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?w(e):e.toString()},null):(U=t,N=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(S=function(t){console.warn(t)},T.isNode&&t.stderr.isTTY?S=function(t,e){var r=e?"[33m":"[31m";console.warn(r+t+"[0m\n")}:T.isNode||"string"!=typeof(new Error).stack||(S=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var Z={warnings:B,longStackTraces:!1,cancellation:!1,monitoring:!1};return W&&r.longStackTraces(),{longStackTraces:function(){return Z.longStackTraces},warnings:function(){return Z.warnings},cancellation:function(){return Z.cancellation},monitoring:function(){return Z.monitoring},propagateFromFunction:function(){return J},boundValueFunction:function(){return h},checkForgottenReturns:function(t,e,r,n,i){if(void 0===t&&null!==e&&V){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&n._bitField))return;r&&(r+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=v(a),c=u.length-1;c>=0;--c){var l=u[c];if(!M.test(l)){var f=l.match(I);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0){var h=u[0];for(c=0;c<a.length;++c)if(a[c]===h){c>0&&(s="\n"+a[c-1]);break}}}var p="a promise was created in a "+r+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;n._warn(p,!0,e)}},setBounds:function(t,e){if(j()){for(var r,n,i=(t.stack||"").split("\n"),o=(e.stack||"").split("\n"),s=-1,a=-1,u=0;u<i.length;++u){if(c=E(i[u])){r=c.fileName,s=c.line;break}}for(u=0;u<o.length;++u){var c;if(c=E(o[u])){n=c.fileName,a=c.line;break}}s<0||a<0||!r||!n||r!==n||s>=a||(K=function(t){if(L.test(t))return!0;var e=E(t);return!!(e&&e.fileName===r&&s<=e.line&&e.line<=a)})}},warn:m,deprecated:function(t,e){var r=t+" is deprecated and will be removed in a future version.";return e&&(r+=" Use "+e+" instead."),m(r)},CapturedTrace:k,fireDomEvent:z,fireGlobalEvent:$}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,r){"use strict";e.exports=function(t){function e(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(r,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:t},void 0);var e=arguments[1],n=function(){throw e};return this.caught(t,n)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var n=arguments[1];n instanceof t&&n.suppressUnhandledRejections();var i=function(){return n};return this.caught(r,i)}}},{}],11:[function(t,e,r){"use strict";e.exports=function(t,e){function r(){return i(this)}var n=t.reduce,i=t.all;t.prototype.each=function(t){return n(this,t,e,0)._then(r,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return n(this,t,e,e)},t.each=function(t,i){return n(t,i,e,0)._then(r,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return n(t,r,e,e)}}},{}],12:[function(t,e,r){"use strict";function n(t,e){function r(n){return this instanceof r?(f(this,"message","string"==typeof n?n:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new r(n)}return l(r,Error),r}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,s,a=t("./es5"),u=a.freeze,c=t("./util"),l=c.inherits,f=c.notEnumerableProp,h=n("Warning","warning"),p=n("CancellationError","cancellation error"),d=n("TimeoutError","timeout error"),_=n("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(t){o=n("TypeError","type error"),s=n("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<m.length;++v)"function"==typeof Array.prototype[m[v]]&&(_.prototype[m[v]]=Array.prototype[m[v]]);a.defineProperty(_.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),_.prototype.isOperational=!0;var g=0;_.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",i=n.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];e+=(n=i.join("\n"))+"\n"}return g--,e},l(i,Error);var y=Error.__BluebirdErrorTypes__;y||(y=u({CancellationError:p,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:_}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,e,r){var n=function(){"use strict";return void 0===this}();if(n)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!(r&&!r.writable&&!r.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var r in t)i.call(t,r)&&e.push(r);return e};e.exports={isArray:function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}},keys:a,names:a,defineProperty:function(t,e,r){return t[e]=r.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return s}},isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,r){"use strict";e.exports=function(t,e){var r=t.map;t.prototype.filter=function(t,n){return r(this,t,n,e)},t.filter=function(t,n,i){return r(t,n,i,e)}}},{}],15:[function(t,e,r){"use strict";e.exports=function(e,r,n){function i(t,e,r){this.promise=t,this.type=e,this.handler=r,this.called=!1,this.cancelPromise=null}function o(t){this.finallyHandler=t}function s(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function a(){return c.call(this,this.promise._target()._settledValue())}function u(t){if(!s(this,t))return h.e=t,h}function c(t){var i=this.promise,c=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?c.call(i._boundValue()):c.call(i._boundValue(),t);if(l===n)return l;if(void 0!==l){i._setReturnedNonUndefined();var p=r(l,i);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var d=new f("late cancellation observer");return i._attachExtraTrace(d),h.e=d,h}p.isPending()&&p._attachCancellationCallback(new o(this))}return p._then(a,u,void 0,this,void 0)}}}return i.isRejected()?(s(this),h.e=t,h):(s(this),t)}var l=t("./util"),f=e.CancellationError,h=l.errorObj,p=t("./catch_filter")(n);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){s(this.finallyHandler)},e.prototype._passThrough=function(t,e,r,n){return"function"!=typeof t?this.then():this._then(r,n,void 0,new i(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,c,c)},e.prototype.tap=function(t){return this._passThrough(t,1,c)},e.prototype.tapCatch=function(t){var r=arguments.length;if(1===r)return this._passThrough(t,1,void 0,c);var n,i=new Array(r-1),o=0;for(n=0;n<r-1;++n){var s=arguments[n];if(!l.isObject(s))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(s)));i[o++]=s}i.length=o;var a=arguments[n];return this._passThrough(p(i,a,this),1,void 0,c)},i}},{"./catch_filter":7,"./util":36}],16:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o,s){function a(t,r,i,o){if(s.cancellation()){var a=new e(n),u=this._finallyPromise=new e(n);this._promise=a.lastly((function(){return u})),a._captureStackTrace(),a._setOnCancel(this)}else{(this._promise=new e(n))._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var u=t("./errors").TypeError,c=t("./util"),l=c.errorObj,f=c.tryCatch,h=[];c.inherits(a,o),a.prototype._isResolved=function(){return null===this._promise},a.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},a.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=f(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},a.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=f(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},a.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=f(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},a.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},a.prototype.promise=function(){return this._promise},a.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},a.prototype._continue=function(t){var r=this._promise;if(t===l)return this._cleanup(),this._cancellationPhase?r.cancel():r._rejectCallback(t.e,!1);var n=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?r.cancel():r._resolveCallback(n);var o=i(n,this._promise);if(o instanceof e||(o=function(t,r,n){for(var o=0;o<r.length;++o){n._pushContext();var s=f(r[o])(t);if(n._popContext(),s===l){n._pushContext();var a=e.reject(l.e);return n._popContext(),a}var u=i(s,n);if(u instanceof e)return u}return null}(o,this._yieldHandlers,this._promise),null!==o)){var s=(o=o._target())._bitField;0==(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(e).yieldHandler,n=a,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new n(void 0,void 0,r,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new u("expecting a function but got "+c.classString(t));h.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=new a(t,this),i=n.promise();return n._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj,e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var n=[].slice.call(arguments);t&&n.pop();var i=new r(n).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o,s){function a(t,e,r,n){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:l.domainBind(i,e),this._preservedValues=n===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function u(t,r,i,o){if("function"!=typeof r)return n("expecting a function but got "+l.classString(r));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));s=i.concurrency}return new a(t,r,s="number"==typeof s&&isFinite(s)&&s>=1?s:0,o).promise()}var c=e._getDomain,l=t("./util"),f=l.tryCatch,h=l.errorObj,p=e._async;l.inherits(a,r),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,r){var n=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(r<0){if(n[r=-1*r-1]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return n[r]=t,this._queue.push(r),!1;null!==a&&(a[r]=t);var c=this._promise,l=this._callback,p=c._boundValue();c._pushContext();var d=f(l).call(p,t,r,o),_=c._popContext();if(s.checkForgottenReturns(d,_,null!==a?"Promise.filter":"Promise.map",c),d===h)return this._reject(d.e),!0;var m=i(d,this._promise);if(m instanceof e){var v=(m=m._target())._bitField;if(0==(50397184&v))return u>=1&&this._inFlight++,n[r]=m,m._proxy(this,-1*(r+1)),!1;if(0==(33554432&v))return 0!=(16777216&v)?(this._reject(m._reason()),!0):(this._cancel(),!0);d=m._value()}n[r]=d}return++this._totalResolved>=o&&(null!==a?this._filter(n,a):this._resolve(n),!0)},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,r=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var n=t.pop();this._promiseFulfilled(r[n],n)}},a.prototype._filter=function(t,e){for(var r=e.length,n=new Array(r),i=0,o=0;o<r;++o)t[o]&&(n[i++]=e[o]);n.length=i,this._resolve(n)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,r,n){return u(t,e,r,n)}}},{"./util":36}],19:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var n=new e(r);n._captureStackTrace(),n._pushContext();var i=a(t).apply(this,arguments),s=n._popContext();return o.checkForgottenReturns(i,s,"Promise.method",n),n._resolveFromSyncValue(i),n}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var n,u=new e(r);if(u._captureStackTrace(),u._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];n=s.isArray(c)?a(t).apply(l,c):a(t).call(l,c)}else n=a(t)();var f=u._popContext();return o.checkForgottenReturns(n,f,"Promise.try",u),u._resolveFromSyncValue(n),u},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,r){"use strict";function n(t){var e;if(function(t){return t instanceof Error&&a.getPrototypeOf(t)===Error.prototype}(t)){(e=new s(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var r=a.keys(t),n=0;n<r.length;++n){var o=r[n];u.test(o)||(e[o]=t[o])}return e}return i.markAsOriginatingFromRejection(t),t}var i=t("./util"),o=i.maybeWrapAsError,s=t("./errors").OperationalError,a=t("./es5"),u=/^(?:name|message|stack|cause)$/;e.exports=function(t,e){return function(r,i){if(null!==t){if(r){var s=n(o(r));t._attachExtraTrace(s),t._reject(s)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(i);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,r){"use strict";e.exports=function(e){function r(t,e){if(!o.isArray(t))return n.call(this,t,e);var r=a(e).apply(this._boundValue(),[null].concat(t));r===u&&s.throwLater(r.e)}function n(t,e){var r=this._boundValue(),n=void 0===t?a(e).call(r,null):a(e).call(r,null,t);n===u&&s.throwLater(n.e)}function i(t,e){if(!t){var r=new Error(t+"");r.cause=t,t=r}var n=a(e).call(this._boundValue(),t);n===u&&s.throwLater(n.e)}var o=t("./util"),s=e._async,a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=n;void 0!==e&&Object(e).spread&&(o=r),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(e,r,n){"use strict";r.exports=function(){function n(){}function i(t){t!==b&&function(t,e){if(null==t||t.constructor!==i)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new g("expecting a function but got "+p.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(t){this.promise._resolveCallback(t)}function s(t){this.promise._rejectCallback(t,!1)}function a(t){var e=new i(b);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var u,c=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},l=function(){return new i.PromiseInspection(this._target())},f=function(t){return i.reject(new g(t))},h={},p=e("./util");u=p.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},p.notEnumerableProp(i,"_getDomain",u);var d=e("./es5"),_=e("./async"),m=new _;d.defineProperty(i,"_async",{value:m});var v=e("./errors"),g=i.TypeError=v.TypeError;i.RangeError=v.RangeError;var y=i.CancellationError=v.CancellationError;i.TimeoutError=v.TimeoutError,i.OperationalError=v.OperationalError,i.RejectionError=v.OperationalError,i.AggregateError=v.AggregateError;var b=function(){},w={},j={},E=e("./thenables")(i,b),k=e("./promise_array")(i,b,E,f,n),x=e("./context")(i),O=x.create,S=e("./debuggability")(i,x),C=(S.CapturedTrace,e("./finally")(i,E,j)),R=e("./catch_filter")(j),P=e("./nodeback"),T=p.errorObj,A=p.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype.catch=function(t){var e=arguments.length;if(e>1){var r,n=new Array(e-1),i=0;for(r=0;r<e-1;++r){var o=arguments[r];if(!p.isObject(o))return f("Catch statement predicate: expecting an object but got "+p.classString(o));n[i++]=o}if(n.length=i,"function"!=typeof(t=arguments[r]))throw new g("The last argument to .catch() must be a function, got "+p.toString(t));return this.then(void 0,R(n,t,this))}return this.then(void 0,t)},i.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},i.prototype.then=function(t,e){if(S.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var r=".then() only accepts functions but was passed: "+p.classString(t);arguments.length>1&&(r+=", "+p.classString(e)),this._warn(r)}return this._then(t,e,void 0,void 0,void 0)},i.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},i.prototype.spread=function(t){return"function"!=typeof t?f("expecting a function but got "+p.classString(t)):this.all()._then(t,void 0,void 0,w,void 0)},i.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},i.prototype.error=function(t){return this.caught(p.originatesFromRejection,t)},i.getNewLibraryCopy=r.exports,i.is=function(t){return t instanceof i},i.fromNode=i.fromCallback=function(t){var e=new i(b);e._captureStackTrace();var r=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=A(t)(P(e,r));return n===T&&e._rejectCallback(n.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},i.all=function(t){return new k(t).promise()},i.cast=function(t){var e=E(t);return e instanceof i||((e=new i(b))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(t){var e=new i(b);return e._captureStackTrace(),e._rejectCallback(t,!0),e},i.setScheduler=function(t){if("function"!=typeof t)throw new g("expecting a function but got "+p.classString(t));return m.setScheduler(t)},i.prototype._then=function(t,e,r,n,o){var s=void 0!==o,a=s?o:new i(b),c=this._target(),l=c._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var f=u();if(0!=(50397184&l)){var h,d,_=c._settlePromiseCtx;0!=(33554432&l)?(d=c._rejectionHandler0,h=t):0!=(16777216&l)?(d=c._fulfillmentHandler0,h=e,c._unsetRejectionIsUnhandled()):(_=c._settlePromiseLateCancellationObserver,d=new y("late cancellation observer"),c._attachExtraTrace(d),h=e),m.invoke(_,c,{handler:null===f?h:"function"==typeof h&&p.domainBind(f,h),promise:a,receiver:n,value:d})}else c._addCallbacks(t,e,a,n,f);return a},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},i.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){m.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},i.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==h)return void 0===e&&this._isBound()?this._boundValue():e},i.prototype._promiseAt=function(t){return this[4*t-4+2]},i.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},i.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),r=t._rejectionHandler0,n=t._promise0,i=t._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(e,r,n,i,null)},i.prototype._migrateCallbackAt=function(t,e){var r=t._fulfillmentHandlerAt(e),n=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=h),this._addCallbacks(r,n,i,o,null)},i.prototype._addCallbacks=function(t,e,r,n,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=r,this._receiver0=n,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:p.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:p.domainBind(i,e));else{var s=4*o-4;this[s+2]=r,this[s+3]=n,"function"==typeof t&&(this[s+0]=null===i?t:p.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:p.domainBind(i,e))}return this._setLength(o+1),o},i.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},i.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(c(),!1);var r=E(t,this);if(!(r instanceof i))return this._fulfill(t);e&&this._propagateFrom(r,2);var n=r._target();if(n===this)return void this._reject(c());var o=n._bitField;if(0==(50397184&o)){var s=this._length();s>0&&n._migrateCallback0(this);for(var a=1;a<s;++a)n._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&o))this._fulfill(n._value());else if(0!=(16777216&o))this._reject(n._reason());else{var u=new y("late cancellation observer");n._attachExtraTrace(u),this._reject(u)}}},i.prototype._rejectCallback=function(t,e,r){var n=p.ensureErrorObject(t),i=n===t;if(!i&&!r&&S.warnings()){var o="a promise was rejected with a non-error: "+p.classString(t);this._warn(o,!0)}this._attachExtraTrace(n,!!e&&i),this._reject(t)},i.prototype._resolveFromExecutor=function(t){if(t!==b){var e=this;this._captureStackTrace(),this._pushContext();var r=!0,n=this._execute(t,(function(t){e._resolveCallback(t)}),(function(t){e._rejectCallback(t,r)}));r=!1,this._popContext(),void 0!==n&&e._rejectCallback(n,!0)}},i.prototype._settlePromiseFromHandler=function(t,e,r,n){var i=n._bitField;if(0==(65536&i)){var o;n._pushContext(),e===w?r&&"number"==typeof r.length?o=A(t).apply(this._boundValue(),r):(o=T).e=new g("cannot .spread() a non-array: "+p.classString(r)):o=A(t).call(e,r);var s=n._popContext();0==(65536&(i=n._bitField))&&(o===j?n._reject(r):o===T?n._rejectCallback(o.e,!1):(S.checkForgottenReturns(o,s,"",n,this),n._resolveCallback(o)))}},i.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(t){this._rejectionHandler0=t},i.prototype._settlePromise=function(t,e,r,o){var s=t instanceof i,a=this._bitField,u=0!=(134217728&a);0!=(65536&a)?(s&&t._invokeInternalOnCancel(),r instanceof C&&r.isFinallyHandler()?(r.cancelPromise=t,A(e).call(r,o)===T&&t._reject(T.e)):e===l?t._fulfill(l.call(r)):r instanceof n?r._promiseCancelled(t):s||t instanceof k?t._cancel():r.cancel()):"function"==typeof e?s?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,r,o,t)):e.call(r,o,t):r instanceof n?r._isResolved()||(0!=(33554432&a)?r._promiseFulfilled(o,t):r._promiseRejected(o,t)):s&&(u&&t._setAsyncGuaranteed(),0!=(33554432&a)?t._fulfill(o):t._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,r=t.promise,n=t.receiver,o=t.value;"function"==typeof e?r instanceof i?this._settlePromiseFromHandler(e,n,o,r):e.call(n,o,r):r instanceof i&&r._reject(o)},i.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},i.prototype._settlePromise0=function(t,e,r){var n=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,t,i,e)},i.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},i.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var r=c();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():m.settlePromises(this),this._dereferenceTrace())}},i.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?m.fatalError(t,p.isNode):void((65535&e)>0?m.settlePromises(this):this._ensurePossibleRejectionHandled())},i.prototype._fulfillPromises=function(t,e){for(var r=1;r<t;r++){var n=this._fulfillmentHandlerAt(r),i=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(i,n,o,e)}},i.prototype._rejectPromises=function(t,e){for(var r=1;r<t;r++){var n=this._rejectionHandlerAt(r),i=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(i,n,o,e)}},i.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var r=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,r,t),this._rejectPromises(e,r)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,t),this._fulfillPromises(e,n)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&d.defineProperty(i.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),i.defer=i.pending=function(){return S.deprecated("Promise.defer","new Promise"),{promise:new i(b),resolve:o,reject:s}},p.notEnumerableProp(i,"_makeSelfResolutionError",c),e("./method")(i,b,E,f,S),e("./bind")(i,b,E,S),e("./cancel")(i,k,f,S),e("./direct_resolve")(i),e("./synchronous_inspection")(i),e("./join")(i,k,E,b,m,u),i.Promise=i,i.version="3.5.5",e("./call_get.js")(i),e("./generators.js")(i,f,b,E,n,S),e("./map.js")(i,k,f,E,b,S),e("./nodeify.js")(i),e("./promisify.js")(i,b),e("./props.js")(i,k,E,f),e("./race.js")(i,b,E,f),e("./reduce.js")(i,k,f,E,b,S),e("./settle.js")(i,k,S),e("./some.js")(i,k,f),e("./timers.js")(i,b,S),e("./using.js")(i,f,E,O,b,S),e("./any.js")(i),e("./each.js")(i,b),e("./filter.js")(i,b),p.toFastProperties(i),p.toFastProperties(i.prototype),a({a:1}),a({b:2}),a({c:3}),a(1),a((function(){})),a(void 0),a(!1),a(new i(b)),S.setBounds(_.firstLineError,p.lastLineError),i}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o){function s(t){var n=this._promise=new e(r);t instanceof e&&n._propagateFrom(t,3),n._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var a=t("./util");return a.isArray,a.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(r,o){var s=n(this._values,this._promise);if(s instanceof e){var u=(s=s._target())._bitField;if(this._values=s,0==(50397184&u))return this._promise._setAsyncGuaranteed(),s._then(t,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))return 0===s.length?void(-5===o?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(o))):void this._iterate(s);var c=i("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(c,!1)},s.prototype._iterate=function(t){var r=this.getActualLength(t.length);this._length=r,this._values=this.shouldCopyValues()?new Array(r):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<r;++a){var u=n(t[a],i);u instanceof e?s=(u=u._target())._bitField:s=null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0==(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!=(33554432&s)?this._promiseFulfilled(u._value(),a):0!=(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var r=0;r<t.length;++r)t[r]instanceof e&&t[r].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,e,r){"use strict";e.exports=function(e,r){function n(t){return!m.test(t)}function i(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function o(t,e,r){var n=c.getDataPropertyOrDefault(t,e+r,_);return!!n&&i(n)}function s(t,e,r,n){for(var s=c.inheritedDataKeys(t),a=[],u=0;u<s.length;++u){var l=s[u],f=t[l],h=n===v||v(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!n(l,f,t,h)||a.push(l,f)}return function(t,e,r){for(var n=0;n<t.length;n+=2){var i=t[n];if(r.test(i))for(var o=i.replace(r,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new d("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(a,e,r),a}function a(t,e,r,n,i){for(var o=new RegExp(g(e)+"$"),a=s(t,e,o,r),l=0,f=a.length;l<f;l+=2){var h=a[l],p=a[l+1],d=h+e;if(n===y)t[d]=y(h,u,h,p,e,i);else{var _=n(p,(function(){return y(h,u,h,p,e,i)}));c.notEnumerableProp(_,"__isPromisified__",!0),t[d]=_}}return c.toFastProperties(t),t}var u={},c=t("./util"),l=t("./nodeback"),f=c.withAppended,h=c.maybeWrapAsError,p=c.canEvaluate,d=t("./errors").TypeError,_={__isPromisified__:!0},m=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),v=function(t){return c.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},g=function(t){return t.replace(/([$])/,"\\$")},y=p?undefined:function(t,n,i,o,s,a){function p(){var i=n;n===u&&(i=this);var o=new e(r);o._captureStackTrace();var s="string"==typeof _&&this!==d?this[_]:t,c=l(o,a);try{s.apply(i,f(arguments,c))}catch(t){o._rejectCallback(h(t),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var d=function(){return this}(),_=t;return"string"==typeof _&&(t=o),c.notEnumerableProp(p,"__isPromisified__",!0),p};e.promisify=function(t,e){if("function"!=typeof t)throw new d("expecting a function but got "+c.classString(t));if(i(t))return t;var r=function(t,e,r){return y(t,e,void 0,t,null,r)}(t,void 0===(e=Object(e)).context?u:e.context,!!e.multiArgs);return c.copyDescriptors(t,r,n),r},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new d("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(e=Object(e)).multiArgs,n=e.suffix;"string"!=typeof n&&(n="Async");var i=e.filter;"function"!=typeof i&&(i=v);var o=e.promisifier;if("function"!=typeof o&&(o=y),!c.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=c.inheritedDataKeys(t),u=0;u<s.length;++u){var l=t[s[u]];"constructor"!==s[u]&&c.isClass(l)&&(a(l.prototype,n,i,o,r),a(l,n,i,o,r))}return a(t,n,i,o,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){function o(t){var e,r=!1;if(void 0!==a&&t instanceof a)e=f(t),r=!0;else{var n=l.keys(t),i=n.length;e=new Array(2*i);for(var o=0;o<i;++o){var s=n[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=r,this._init$(void 0,r?-6:-3)}function s(t){var r,s=n(t);return c(s)?(r=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&r._propagateFrom(s,2),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,u=t("./util"),c=u.isObject,l=t("./es5");"function"==typeof Map&&(a=Map);var f=function(){function t(t,n){this[e]=t,this[e+r]=n,e++}var e=0,r=0;return function(n){r=n.size,e=0;var i=new Array(2*n.size);return n.forEach(t,i),i}}();u.inherits(o,r),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var r;if(this._isMap)r=function(t){for(var e=new a,r=t.length/2|0,n=0;n<r;++n){var i=t[r+n],o=t[n];e.set(i,o)}return e}(this._values);else{r={};for(var n=this.length(),i=0,o=this.length();i<o;++i)r[this._values[i+n]]=this._values[i]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,r){"use strict";function n(t){this._capacity=t,this._length=0,this._front=0}n.prototype._willBeOverCapacity=function(t){return this._capacity<t},n.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},n.prototype.push=function(t,e,r){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(t),this._pushOne(e),void this._pushOne(r);var i=this._front+n-3;this._checkCapacity(n);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=r,this._length=n},n.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},n.prototype.length=function(){return this._length},n.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},n.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,r,n,i){for(var o=0;o<i;++o)r[o+n]=t[o+e],t[o+e]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=n},{}],27:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){function o(t,o){var u=n(t);if(u instanceof e)return a(u);if(null===(t=s.asArray(t)))return i("expecting an array or an iterable object but got "+s.classString(t));var c=new e(r);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,h=0,p=t.length;h<p;++h){var d=t[h];(void 0!==d||h in t)&&e.cast(d)._then(l,f,void 0,c,null)}return c}var s=t("./util"),a=function(t){return t.then((function(e){return o(e,t)}))};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o,s){function a(t,r,n,i){this.constructor$(t);var s=h();this._fn=null===s?r:p.domainBind(s,r),void 0!==n&&(n=e.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,r,i){return"function"!=typeof e?n("expecting a function but got "+p.classString(e)):new a(t,e,r,i).promise()}function l(t){this.accum=t,this.array._gotAccum(t);var r=i(this.value,this.array._promise);return r instanceof e?(this.array._currentCancellable=r,r._then(f,void 0,void 0,this,void 0)):f.call(this,r)}function f(t){var r,n=this.array,i=n._promise,o=d(n._fn);i._pushContext(),(r=void 0!==n._eachValues?o.call(i._boundValue(),t,this.index,this.length):o.call(i._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(n._currentCancellable=r);var a=i._popContext();return s.checkForgottenReturns(r,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",i),r}var h=e._getDomain,p=t("./util"),d=p.tryCatch;p.inherits(a,r),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var r,n,i=t.length;if(void 0!==this._initialValue?(r=this._initialValue,n=0):(r=e.resolve(t[0]),n=1),this._currentCancellable=r,!r.isRejected())for(;n<i;++n){var o={accum:null,value:t[n],index:n,length:i,array:this};r=r._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(r=r._then(this._eachComplete,void 0,void 0,this,void 0)),r._then(u,u,void 0,r,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,r,n){return c(t,e,r,n)}}},{"./util":36}],29:[function(e,r,o){"use strict";var s,a=e("./util"),u=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var c=n.setImmediate,l=t.nextTick;s=a.isRecentNode?function(t){c.call(n,t)}:function(e){l.call(t,e)}}else if("function"==typeof u&&"function"==typeof u.resolve){var f=u.resolve();s=function(t){f.then(t)}}else s="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)||!("classList"in document.documentElement)?void 0!==i?function(t){i(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var t=document.createElement("div"),e={attributes:!0},r=!1,n=document.createElement("div");new MutationObserver((function(){t.classList.toggle("foo"),r=!1})).observe(n,e);var i=function(){r||(r=!0,n.classList.toggle("foo"))};return function(r){var n=new MutationObserver((function(){n.disconnect(),r()}));n.observe(t,e),i()}}();r.exports=s},{"./util":36}],30:[function(t,e,r){"use strict";e.exports=function(e,r,n){function i(t){this.constructor$(t)}var o=e.PromiseInspection;t("./util").inherits(i,r),i.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var r=new o;return r._bitField=33554432,r._settledValueField=t,this._promiseResolved(e,r)},i.prototype._promiseRejected=function(t,e){var r=new o;return r._bitField=16777216,r._settledValueField=t,this._promiseResolved(e,r)},e.settle=function(t){return n.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,r){"use strict";e.exports=function(e,r,n){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new i(t),o=r.promise();return r.setHowMany(e),r.init(),o}var s=t("./util"),a=t("./errors").RangeError,u=t("./errors").AggregateError,c=s.isArray,l={};s.inherits(i,r),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,r){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var r=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return r.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),n.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,r){"use strict";e.exports=function(e,r){function n(t){try{return function(t){return t.then}(t)}catch(t){return s.e=t,s}}function i(t,n,i){var a=new e(r),u=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var c=!0,l=o.tryCatch(n).call(t,(function(t){a&&(a._resolveCallback(t),a=null)}),(function(t){a&&(a._rejectCallback(t,c,!0),a=null)}));return c=!1,a&&l===s&&(a._rejectCallback(l.e,!0,!0),a=null),u}var o=t("./util"),s=o.errorObj,a=o.isObject,u={}.hasOwnProperty;return function(t,o){if(a(t)){if(t instanceof e)return t;var c=n(t);if(c===s){o&&o._pushContext();var l=e.reject(c.e);return o&&o._popContext(),l}if("function"==typeof c){if(function(t){try{return u.call(t,"_promise0")}catch(t){return!1}}(t)){l=new e(r);return t._then(l._fulfill,l._reject,void 0,l,null),l}return i(t,c,o)}}return t}}},{"./util":36}],34:[function(t,e,r){"use strict";e.exports=function(e,r,n){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(c,null,null,t,void 0),n.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(r),a=setTimeout((function(){s._fulfill()}),+t),n.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return l(t,this)};var f=function(t,e,r){var n;n="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),a.markAsOriginatingFromRejection(n),t._attachExtraTrace(n),t._reject(n),null!=r&&r.cancel()};e.prototype.timeout=function(t,e){t=+t;var r,a,u=new i(setTimeout((function(){r.isPending()&&f(r,e,a)}),t));return n.cancellation()?(a=this.then(),(r=a._then(o,s,void 0,u,void 0))._setOnCancel(u)):r=this._then(o,s,void 0,u,void 0),r}}},{"./util":36}],35:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o,s){function a(t){setTimeout((function(){throw t}),0)}function u(t,r){var i=0,s=t.length,u=new e(o);return function o(){if(i>=s)return u._fulfill();var c=function(t){var e=n(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[i++]);if(c instanceof e&&c._isDisposable()){try{c=n(c._getDisposer().tryDispose(r),t.promise)}catch(t){return a(t)}if(c instanceof e)return c._then(o,a,null,null,null)}o()}(),u}function c(t,e,r){this._data=t,this._promise=e,this._context=r}function l(t,e,r){this.constructor$(t,e,r)}function f(t){return c.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function h(t){this.length=t,this.promise=null,this[t-1]=null}var p=t("./util"),d=t("./errors").TypeError,_=t("./util").inherits,m=p.errorObj,v=p.tryCatch,g={};c.prototype.data=function(){return this._data},c.prototype.promise=function(){return this._promise},c.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},c.prototype.tryDispose=function(t){var e=this.resource(),r=this._context;void 0!==r&&r._pushContext();var n=e!==g?this.doDispose(e,t):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,n},c.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},_(l,c),l.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},h.prototype._resultCancelled=function(){for(var t=this.length,r=0;r<t;++r){var n=this[r];n instanceof e&&n.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return r("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return r("expecting a function but got "+p.classString(i));var o,a=!0;2===t&&Array.isArray(arguments[0])?(t=(o=arguments[0]).length,a=!1):(o=arguments,t--);for(var l=new h(t),d=0;d<t;++d){var _=o[d];if(c.isDisposer(_)){var g=_;(_=_.promise())._setDisposable(g)}else{var y=n(_);y instanceof e&&(_=y._then(f,null,null,{resources:l,index:d},void 0))}l[d]=_}var b=new Array(l.length);for(d=0;d<b.length;++d)b[d]=e.resolve(l[d]).reflect();var w=e.all(b).then((function(t){for(var e=0;e<t.length;++e){var r=t[e];if(r.isRejected())return m.e=r.error(),m;if(!r.isFulfilled())return void w.cancel();t[e]=r.value()}j._pushContext(),i=v(i);var n=a?i.apply(void 0,t):i(t),o=j._popContext();return s.checkForgottenReturns(n,o,"Promise.using",j),n})),j=w.lastly((function(){var t=new e.PromiseInspection(w);return u(l,t)}));return l.promise=j,j._setOnCancel(l),j},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new l(t,this,i());throw new d}}},{"./errors":12,"./util":36}],36:[function(e,r,i){"use strict";function o(){try{var t=h;return h=null,t.apply(this,arguments)}catch(t){return _.e=t,_}}function s(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function a(t,e,r){if(s(t))return t;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return p.defineProperty(t,e,n),t}function u(t){try{return t+""}catch(t){return"[no string representation]"}}function c(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function l(t){return c(t)&&p.propertyIsWritable(t,"stack")}function f(t){return{}.toString.call(t)}var h,p=e("./es5"),d="undefined"==typeof navigator,_={e:{}},m="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:void 0!==this?this:null,v=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1};if(p.isES5){var r=Object.getOwnPropertyNames;return function(t){for(var n=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=r(t)}catch(t){return n}for(var s=0;s<o.length;++s){var a=o[s];if(!i[a]){i[a]=!0;var u=Object.getOwnPropertyDescriptor(t,a);null!=u&&null==u.get&&null==u.set&&n.push(a)}}t=p.getPrototypeOf(t)}return n}}var n={}.hasOwnProperty;return function(r){if(e(r))return[];var i=[];t:for(var o in r)if(n.call(r,o))i.push(o);else{for(var s=0;s<t.length;++s)if(n.call(t[s],o))continue t;i.push(o)}return i}}(),g=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i,b="stack"in new Error?function(t){return l(t)?t:new Error(u(t))}:function(t){if(l(t))return t;try{throw new Error(u(t))}catch(t){return t}},w=function(t){return p.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var j="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,r=[],n=t[Symbol.iterator]();!(e=n.next()).done;)r.push(e.value);return r};w=function(t){return p.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?j(t):null}}var E=void 0!==t&&"[object process]"===f(t).toLowerCase(),k=void 0!==t&&void 0!==t.env,x={isClass:function(t){try{if("function"==typeof t){var e=p.names(t.prototype),r=p.isES5&&e.length>1,n=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=g.test(t+"")&&p.names(t).length>0;if(r||n||i)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:v,getDataPropertyOrDefault:function(t,e,r){if(!p.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var n=Object.getOwnPropertyDescriptor(t,e);return null!=n?null==n.get&&null==n.set?n.value:r:void 0},thrower:function(t){throw t},isArray:p.isArray,asArray:w,notEnumerableProp:a,isPrimitive:s,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:c,canEvaluate:d,errorObj:_,tryCatch:function(t){return h=t,o},inherits:function(t,e){function r(){for(var r in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}var n={}.hasOwnProperty;return r.prototype=e.prototype,t.prototype=new r,t.prototype},withAppended:function(t,e){var r,n=t.length,i=new Array(n+1);for(r=0;r<n;++r)i[r]=t[r];return i[r]=e,i},maybeWrapAsError:function(t){return s(t)?new Error(u(t)):t},toFastProperties:function(t){function e(){}function r(){return typeof n.foo}e.prototype=t;var n=new e;return r(),r(),t},filledRange:function(t,e,r){for(var n=new Array(t),i=0;i<t;++i)n[i]=e+i+r;return n},toString:u,canAttachTrace:l,ensureErrorObject:b,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{a(t,"isOperational",!0)}catch(t){}},classString:f,copyDescriptors:function(t,e,r){for(var n=p.names(t),i=0;i<n.length;++i){var o=n[i];if(r(o))try{p.defineProperty(e,o,p.getDescriptor(t,o))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:E,hasEnvVariables:k,env:function(e){return k?t.env[e]:void 0},global:m,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise((function(){}));if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,e){return t.bind(e)}};x.isRecentNode=x.isNode&&function(){var e;return t.versions&&t.versions.node?e=t.versions.node.split(".").map(Number):t.version&&(e=t.version.split(".").map(Number)),0===e[0]&&e[1]>10||e[0]>0}(),x.isNode&&x.toFastProperties(t);try{throw new Error}catch(t){x.lastLineError=t}r.exports=x},{"./es5":13}]},{},[4])(4)})),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{_process:38,timers:59}],27:[function(t,e,r){},{}],28:[function(t,e,r){(function(t){!function(n){function i(t){throw new RangeError(T[t])}function o(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function s(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+o((t=t.replace(P,".")).split("."),e).join(".")}function a(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function u(t){return o(t,(function(t){var e="";return t>65535&&(e+=L((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+L(t)})).join("")}function c(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:b}function l(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function f(t,e,r){var n=0;for(t=r?F(t/k):t>>1,t+=F(t/e);t>A*j>>1;n+=b)t=F(t/A);return F(n+(A+1)*t/(t+E))}function h(t){var e,r,n,o,s,a,l,h,p,d,_=[],m=t.length,v=0,g=O,E=x;for((r=t.lastIndexOf(S))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&i("not-basic"),_.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<m;){for(s=v,a=1,l=b;o>=m&&i("invalid-input"),((h=c(t.charCodeAt(o++)))>=b||h>F((y-v)/a))&&i("overflow"),v+=h*a,!(h<(p=l<=E?w:l>=E+j?j:l-E));l+=b)a>F(y/(d=b-p))&&i("overflow"),a*=d;E=f(v-s,e=_.length+1,0==s),F(v/e)>y-g&&i("overflow"),g+=F(v/e),v%=e,_.splice(v++,0,g)}return u(_)}function p(t){var e,r,n,o,s,u,c,h,p,d,_,m,v,g,E,k=[];for(m=(t=a(t)).length,e=O,r=0,s=x,u=0;u<m;++u)(_=t[u])<128&&k.push(L(_));for(n=o=k.length,o&&k.push(S);n<m;){for(c=y,u=0;u<m;++u)(_=t[u])>=e&&_<c&&(c=_);for(c-e>F((y-r)/(v=n+1))&&i("overflow"),r+=(c-e)*v,e=c,u=0;u<m;++u)if((_=t[u])<e&&++r>y&&i("overflow"),_==e){for(h=r,p=b;!(h<(d=p<=s?w:p>=s+j?j:p-s));p+=b)E=h-d,g=b-d,k.push(L(l(d+E%g,0))),h=F(E/g);k.push(L(l(h,0))),s=f(r,v,n==o),r=0,++n}++r,++e}return k.join("")}var d="object"==typeof r&&r&&!r.nodeType&&r,_="object"==typeof e&&e&&!e.nodeType&&e,m="object"==typeof t&&t;m.global!==m&&m.window!==m&&m.self!==m||(n=m);var v,g,y=2147483647,b=36,w=1,j=26,E=38,k=700,x=72,O=128,S="-",C=/^xn--/,R=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=b-w,F=Math.floor,L=String.fromCharCode;if(v={version:"1.4.1",ucs2:{decode:a,encode:u},decode:h,encode:p,toASCII:function(t){return s(t,(function(t){return R.test(t)?"xn--"+p(t):t}))},toUnicode:function(t){return s(t,(function(t){return C.test(t)?h(t.slice(4).toLowerCase()):t}))}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return v}));else if(d&&_)if(e.exports==d)_.exports=v;else for(g in v)v.hasOwnProperty(g)&&(d[g]=v[g]);else n.punycode=v}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(t,e,r){(function(e,n){"use strict";function i(){return n.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return n.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=n.prototype:(null===t&&(t=new n(e)),t.length=e),t}function n(t,e,r){if(!(n.TYPED_ARRAY_SUPPORT||this instanceof n))return new n(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return s(this,t,e,r)}function s(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,r,n):"string"==typeof e?c(t,e,r):h(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(a(e),t=o(t,e<0?0:0|p(e)),!n.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function c(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!n.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,r),s=(t=o(t,i)).write(e,r);return s!==i&&(t=t.slice(0,s)),t}function l(t,e){var r=e.length<0?0:0|p(e.length);t=o(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function f(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i),n.TYPED_ARRAY_SUPPORT?(t=e).__proto__=n.prototype:t=l(t,e),t}function h(t,e){if(n.isBuffer(e)){var r=0|p(e.length);return 0===(t=o(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?o(t,0):l(t,e);if("Buffer"===e.type&&H(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function d(t,e){if(n.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(t).length;default:if(i)return D(t).length;e=(""+e).toLowerCase(),i=!0}}function _(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return O(this,e,r);case"ascii":return S(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,i,o){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=n.from(e,i)),n.isBuffer(e))return 0===e.length?-1:g(t,e,r,i,o);if("number"==typeof e)return e&=255,n.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):g(t,[e],r,i,o);throw new TypeError("val must be string, number or Buffer")}function g(t,e,r,n,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var s,a=1,u=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,u/=2,c/=2,r/=2}if(i){var l=-1;for(s=r;s<u;s++)if(o(t,s)===o(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*a}else-1!==l&&(s-=s-l),l=-1}else for(r+c>u&&(r=u-c),s=r;s>=0;s--){for(var f=!0,h=0;h<c;h++)if(o(t,s+h)!==o(e,h)){f=!1;break}if(f)return s}return-1}function y(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function b(t,e,r,n){return B(D(e,t.length-r),t,r,n)}function w(t,e,r,n){return B(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function j(t,e,r,n){return w(t,e,r,n)}function E(t,e,r,n){return B(q(e),t,r,n)}function k(t,e,r,n){return B(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?W.fromByteArray(t):W.fromByteArray(t.slice(e,r))}function O(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&((u=(31&c)<<6|63&o)>127&&(l=u));break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&((u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u));break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&((u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u))}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(t){var e=t.length;if(e<=z)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=z));return r}(n)}function S(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function C(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=N(t[o]);return i}function P(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function T(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,r,i,o,s){if(!n.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function F(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function M(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function I(t,e,r,n,i){return i||M(t,0,r,4),V.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,i){return i||M(t,0,r,8),V.write(t,e,r,n,52,8),r+8}function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function D(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(t){return W.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace($,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}var W=t("base64-js"),V=t("ieee754"),H=t("isarray");r.Buffer=n,r.SlowBuffer=function(t){return+t!=t&&(t=0),n.alloc(+t)},r.INSPECT_MAX_BYTES=50,n.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),r.kMaxLength=i(),n.poolSize=8192,n._augment=function(t){return t.__proto__=n.prototype,t},n.from=function(t,e,r){return s(null,t,e,r)},n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0})),n.alloc=function(t,e,r){return function(t,e,r,n){return a(e),e<=0?o(t,e):void 0!==r?"string"==typeof n?o(t,e).fill(r,n):o(t,e).fill(r):o(t,e)}(null,t,e,r)},n.allocUnsafe=function(t){return u(null,t)},n.allocUnsafeSlow=function(t){return u(null,t)},n.isBuffer=function(t){return!(null==t||!t._isBuffer)},n.compare=function(t,e){if(!n.isBuffer(t)||!n.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,o=0,s=Math.min(r,i);o<s;++o)if(t[o]!==e[o]){r=t[o],i=e[o];break}return r<i?-1:i<r?1:0},n.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(t,e){if(!H(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return n.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=n.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var s=t[r];if(!n.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},n.byteLength=d,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},n.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},n.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},n.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):_.apply(this,arguments)},n.prototype.equals=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===n.compare(this,t)},n.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},n.prototype.compare=function(t,e,r,i,o){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=r)return 0;if(i>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(o>>>=0)-(i>>>=0),a=(r>>>=0)-(e>>>=0),u=Math.min(s,a),c=this.slice(i,o),l=t.slice(e,r),f=0;f<u;++f)if(c[f]!==l[f]){s=c[f],a=l[f];break}return s<a?-1:a<s?1:0},n.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},n.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},n.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},n.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return j(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var z=4096;n.prototype.slice=function(t,e){var r,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),n.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=n.prototype;else{var o=e-t;r=new n(o,void 0);for(var s=0;s<o;++s)r[s]=this[s+t]}return r},n.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},n.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},n.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},n.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},n.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),V.read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),V.read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),V.read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),V.read(this,t,!1,52,8)},n.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||A(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},n.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||A(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},n.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,1,255,0),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},n.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},n.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},n.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},n.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},n.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);A(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},n.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);A(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},n.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,1,127,-128),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},n.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},n.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},n.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},n.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},n.prototype.writeFloatLE=function(t,e,r){return I(this,t,e,!0,r)},n.prototype.writeFloatBE=function(t,e,r){return I(this,t,e,!1,r)},n.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},n.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},n.prototype.copy=function(t,e,r,i){if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var o,s=i-r;if(this===t&&r<e&&e<i)for(o=s-1;o>=0;--o)t[o+e]=this[o+r];else if(s<1e3||!n.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},n.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!n.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var a=n.isBuffer(t)?t:D(new n(t,i).toString()),u=a.length;for(s=0;s<r-e;++s)this[s+e]=a[s%u]}return this};var $=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"base64-js":25,buffer:29,ieee754:32,isarray:35}],30:[function(t,e,r){(function(t){function e(t){return Object.prototype.toString.call(t)}r.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},r.isBoolean=function(t){return"boolean"==typeof t},r.isNull=function(t){return null===t},r.isNullOrUndefined=function(t){return null==t},r.isNumber=function(t){return"number"==typeof t},r.isString=function(t){return"string"==typeof t},r.isSymbol=function(t){return"symbol"==typeof t},r.isUndefined=function(t){return void 0===t},r.isRegExp=function(t){return"[object RegExp]"===e(t)},r.isObject=function(t){return"object"==typeof t&&null!==t},r.isDate=function(t){return"[object Date]"===e(t)},r.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},r.isFunction=function(t){return"function"==typeof t},r.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},r.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":34}],31:[function(t,e,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,r,n,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(s(r=this._events[t]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(o(r))for(a=Array.prototype.slice.call(arguments,1),n=(c=r.slice()).length,u=0;u<n;u++)c[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var r;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&((r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var n=!1;return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var r,n,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(r=this._events[t]).length,n=-1,r===e||i(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(a=s;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],32:[function(t,e,r){r.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*_}},{}],33:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],34:[function(t,e,r){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],35:[function(t,e,r){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],36:[function(t,e,r){(function(t){(function(){function n(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function i(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function o(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function s(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function a(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function u(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function c(t,e){return!!(null==t?0:t.length)&&y(t,e,0)>-1}function l(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function f(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function h(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function p(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function d(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function _(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function m(t){return t.match(Zt)||[]}function v(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function g(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function y(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):g(t,w,r)}function b(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function w(t){return t!=t}function j(t,e){var r=null==t?0:t.length;return r?O(t,e)/r:nt}function E(t){return function(e){return null==e?$:e[t]}}function k(t){return function(e){return null==t?$:t[e]}}function x(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function O(t,e){for(var r,n=-1,i=t.length;++n<i;){var o=e(t[n]);o!==$&&(r=r===$?o:r+o)}return r}function S(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function C(t){return t?t.slice(0,H(t)+1).replace(Gt,""):t}function R(t){return function(e){return t(e)}}function P(t,e){return f(e,(function(e){return t[e]}))}function T(t,e){return t.has(e)}function A(t,e){for(var r=-1,n=t.length;++r<n&&y(e,t[r],0)>-1;);return r}function F(t,e){for(var r=t.length;r--&&y(e,t[r],0)>-1;);return r}function L(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}function M(t){return"\\"+Qe[t]}function I(t){return $e.test(t)}function U(t){return Ye.test(t)}function N(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function D(t,e){return function(r){return t(e(r))}}function q(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r];s!==e&&s!==J||(t[r]=J,o[i++]=r)}return o}function B(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function W(t){return I(t)?function(t){for(var e=He.lastIndex=0;He.test(t);)++e;return e}(t):_r(t)}function V(t){return I(t)?function(t){return t.match(He)||[]}(t):function(t){return t.split("")}(t)}function H(t){for(var e=t.length;e--&&Jt.test(t.charAt(e)););return e}function z(t){return t.match(ze)||[]}var $,Y="Expected a function",G="__lodash_hash_undefined__",J="__lodash_placeholder__",K=16,X=32,Q=64,Z=128,tt=256,et=1/0,rt=9007199254740991,nt=NaN,it=4294967295,ot=[["ary",Z],["bind",1],["bindKey",2],["curry",8],["curryRight",K],["flip",512],["partial",X],["partialRight",Q],["rearg",tt]],st="[object Arguments]",at="[object Array]",ut="[object Boolean]",ct="[object Date]",lt="[object Error]",ft="[object Function]",ht="[object GeneratorFunction]",pt="[object Map]",dt="[object Number]",_t="[object Object]",mt="[object Promise]",vt="[object RegExp]",gt="[object Set]",yt="[object String]",bt="[object Symbol]",wt="[object WeakMap]",jt="[object ArrayBuffer]",Et="[object DataView]",kt="[object Float32Array]",xt="[object Float64Array]",Ot="[object Int8Array]",St="[object Int16Array]",Ct="[object Int32Array]",Rt="[object Uint8Array]",Pt="[object Uint8ClampedArray]",Tt="[object Uint16Array]",At="[object Uint32Array]",Ft=/\b__p \+= '';/g,Lt=/\b(__p \+=) '' \+/g,Mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,It=/&(?:amp|lt|gt|quot|#39);/g,Ut=/[&<>"']/g,Nt=RegExp(It.source),Dt=RegExp(Ut.source),qt=/<%-([\s\S]+?)%>/g,Bt=/<%([\s\S]+?)%>/g,Wt=/<%=([\s\S]+?)%>/g,Vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ht=/^\w*$/,zt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$t=/[\\^$.*+?()[\]{}|]/g,Yt=RegExp($t.source),Gt=/^\s+/,Jt=/\s/,Kt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xt=/\{\n\/\* \[wrapped with (.+)\] \*/,Qt=/,? & /,Zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/[()=,{}\[\]\/\s]/,ee=/\\(\\)?/g,re=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,se=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,he="\\ud800-\\udfff",pe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\u2700-\\u27bf",_e="a-z\\xdf-\\xf6\\xf8-\\xff",me="A-Z\\xc0-\\xd6\\xd8-\\xde",ve="\\ufe0e\\ufe0f",ge="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ye="['’]",be="["+he+"]",we="["+ge+"]",je="["+pe+"]",Ee="\\d+",ke="["+de+"]",xe="["+_e+"]",Oe="[^"+he+ge+Ee+de+_e+me+"]",Se="\\ud83c[\\udffb-\\udfff]",Ce="[^"+he+"]",Re="(?:\\ud83c[\\udde6-\\uddff]){2}",Pe="[\\ud800-\\udbff][\\udc00-\\udfff]",Te="["+me+"]",Ae="\\u200d",Fe="(?:"+xe+"|"+Oe+")",Le="(?:"+Te+"|"+Oe+")",Me="(?:['’](?:d|ll|m|re|s|t|ve))?",Ie="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ue="(?:"+je+"|"+Se+")"+"?",Ne="["+ve+"]?",De=Ne+Ue+("(?:\\u200d(?:"+[Ce,Re,Pe].join("|")+")"+Ne+Ue+")*"),qe="(?:"+[ke,Re,Pe].join("|")+")"+De,Be="(?:"+[Ce+je+"?",je,Re,Pe,be].join("|")+")",We=RegExp(ye,"g"),Ve=RegExp(je,"g"),He=RegExp(Se+"(?="+Se+")|"+Be+De,"g"),ze=RegExp([Te+"?"+xe+"+"+Me+"(?="+[we,Te,"$"].join("|")+")",Le+"+"+Ie+"(?="+[we,Te+Fe,"$"].join("|")+")",Te+"?"+Fe+"+"+Me,Te+"+"+Ie,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ee,qe].join("|"),"g"),$e=RegExp("["+Ae+he+pe+ve+"]"),Ye=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ge=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Je=-1,Ke={};Ke[kt]=Ke[xt]=Ke[Ot]=Ke[St]=Ke[Ct]=Ke[Rt]=Ke[Pt]=Ke[Tt]=Ke[At]=!0,Ke[st]=Ke[at]=Ke[jt]=Ke[ut]=Ke[Et]=Ke[ct]=Ke[lt]=Ke[ft]=Ke[pt]=Ke[dt]=Ke[_t]=Ke[vt]=Ke[gt]=Ke[yt]=Ke[wt]=!1;var Xe={};Xe[st]=Xe[at]=Xe[jt]=Xe[Et]=Xe[ut]=Xe[ct]=Xe[kt]=Xe[xt]=Xe[Ot]=Xe[St]=Xe[Ct]=Xe[pt]=Xe[dt]=Xe[_t]=Xe[vt]=Xe[gt]=Xe[yt]=Xe[bt]=Xe[Rt]=Xe[Pt]=Xe[Tt]=Xe[At]=!0,Xe[lt]=Xe[ft]=Xe[wt]=!1;var Qe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ze=parseFloat,tr=parseInt,er="object"==typeof t&&t&&t.Object===Object&&t,rr="object"==typeof self&&self&&self.Object===Object&&self,nr=er||rr||Function("return this")(),ir="object"==typeof r&&r&&!r.nodeType&&r,or=ir&&"object"==typeof e&&e&&!e.nodeType&&e,sr=or&&or.exports===ir,ar=sr&&er.process,ur=function(){try{var t=or&&or.require&&or.require("util").types;return t||ar&&ar.binding&&ar.binding("util")}catch(t){}}(),cr=ur&&ur.isArrayBuffer,lr=ur&&ur.isDate,fr=ur&&ur.isMap,hr=ur&&ur.isRegExp,pr=ur&&ur.isSet,dr=ur&&ur.isTypedArray,_r=E("length"),mr=k({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),vr=k({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),gr=k({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),yr=function t(e){function r(t){if(Di(t)&&!Ra(t)&&!(t instanceof Zt)){if(t instanceof Jt)return t;if(Ro.call(t,"__wrapped__"))return fi(t)}return new Jt(t)}function k(){}function Jt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=$}function Zt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}function he(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function pe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function de(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _e(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new de;++e<r;)this.add(t[e])}function me(t){var e=this.__data__=new pe(t);this.size=e.size}function ve(t,e){var r=Ra(t),n=!r&&Ca(t),i=!r&&!n&&Ta(t),o=!r&&!n&&!i&&Ia(t),s=r||n||i||o,a=s?S(t.length,jo):[],u=a.length;for(var c in t)!e&&!Ro.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Jn(c,u))||a.push(c);return a}function ge(t){var e=t.length;return e?t[Tr(0,e-1)]:$}function ye(t,e){return ui(cn(t),Ce(e,0,t.length))}function be(t){return ui(cn(t))}function we(t,e,r){(r===$||Ti(t[e],r))&&(r!==$||e in t)||Oe(t,e,r)}function je(t,e,r){var n=t[e];Ro.call(t,e)&&Ti(n,r)&&(r!==$||e in t)||Oe(t,e,r)}function Ee(t,e){for(var r=t.length;r--;)if(Ti(t[r][0],e))return r;return-1}function ke(t,e,r,n){return Ss(t,(function(t,i,o){e(n,t,r(t),o)})),n}function xe(t,e){return t&&ln(e,Zi(e),t)}function Oe(t,e,r){"__proto__"==e&&Yo?Yo(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Se(t,e){for(var r=-1,n=e.length,i=_o(n),o=null==t;++r<n;)i[r]=o?$:Xi(t,e[r]);return i}function Ce(t,e,r){return t==t&&(r!==$&&(t=t<=r?t:r),e!==$&&(t=t>=e?t:e)),t}function Re(t,e,r,n,i,s){var a,u=1&e,c=2&e,l=4&e;if(r&&(a=i?r(t,n,i,s):r(t)),a!==$)return a;if(!Ni(t))return t;var f=Ra(t);if(f){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Ro.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!u)return cn(t,a)}else{var h=Ds(t),p=h==ft||h==ht;if(Ta(t))return rn(t,u);if(h==_t||h==st||p&&!i){if(a=c||p?{}:Yn(t),!u)return c?function(t,e){return ln(t,Ns(t),e)}(t,function(t,e){return t&&ln(e,to(e),t)}(a,t)):function(t,e){return ln(t,Us(t),e)}(t,xe(a,t))}else{if(!Xe[h])return i?t:{};a=function(t,e,r){var n=t.constructor;switch(e){case jt:return nn(t);case ut:case ct:return new n(+t);case Et:return function(t,e){var r=e?nn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case kt:case xt:case Ot:case St:case Ct:case Rt:case Pt:case Tt:case At:return on(t,r);case pt:return new n;case dt:case yt:return new n(t);case vt:return function(t){var e=new t.constructor(t.source,ne.exec(t));return e.lastIndex=t.lastIndex,e}(t);case gt:return new n;case bt:return function(t){return ks?bo(ks.call(t)):{}}(t)}}(t,h,u)}}s||(s=new me);var d=s.get(t);if(d)return d;s.set(t,a),Ma(t)?t.forEach((function(n){a.add(Re(n,e,r,n,t,s))})):Fa(t)&&t.forEach((function(n,i){a.set(i,Re(n,e,r,i,t,s))}));var _=f?$:(l?c?Dn:Nn:c?to:Zi)(t);return o(_||t,(function(n,i){_&&(n=t[i=n]),je(a,i,Re(n,e,r,i,t,s))})),a}function Pe(t,e,r){var n=r.length;if(null==t)return!n;for(t=bo(t);n--;){var i=r[n],o=e[i],s=t[i];if(s===$&&!(i in t)||!o(s))return!1}return!0}function Te(t,e,r){if("function"!=typeof t)throw new Eo(Y);return Ws((function(){t.apply($,r)}),e)}function Ae(t,e,r,n){var i=-1,o=c,s=!0,a=t.length,u=[],h=e.length;if(!a)return u;r&&(e=f(e,R(r))),n?(o=l,s=!1):e.length>=200&&(o=T,s=!1,e=new _e(e));t:for(;++i<a;){var p=t[i],d=null==r?p:r(p);if(p=n||0!==p?p:0,s&&d==d){for(var _=h;_--;)if(e[_]===d)continue t;u.push(p)}else o(e,d,n)||u.push(p)}return u}function Fe(t,e){var r=!0;return Ss(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function Le(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],s=e(o);if(null!=s&&(a===$?s==s&&!Vi(s):r(s,a)))var a=s,u=o}return u}function Me(t,e){var r=[];return Ss(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function Ie(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=Gn),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?Ie(a,e-1,r,n,i):h(i,a):n||(i[i.length]=a)}return i}function Ue(t,e){return t&&Rs(t,e,Zi)}function Ne(t,e){return t&&Ps(t,e,Zi)}function De(t,e){return u(e,(function(e){return Mi(t[e])}))}function qe(t,e){for(var r=0,n=(e=tn(e,t)).length;null!=t&&r<n;)t=t[ci(e[r++])];return r&&r==n?t:$}function Be(t,e,r){var n=e(t);return Ra(t)?n:h(n,r(t))}function He(t){return null==t?t===$?"[object Undefined]":"[object Null]":$o&&$o in bo(t)?function(t){var e=Ro.call(t,$o),r=t[$o];try{t[$o]=$;var n=!0}catch(t){}var i=Ao.call(t);return n&&(e?t[$o]=r:delete t[$o]),i}(t):function(t){return Ao.call(t)}(t)}function ze(t,e){return t>e}function $e(t,e){return null!=t&&Ro.call(t,e)}function Ye(t,e){return null!=t&&e in bo(t)}function Qe(t,e,r){for(var n=r?l:c,i=t[0].length,o=t.length,s=o,a=_o(o),u=1/0,h=[];s--;){var p=t[s];s&&e&&(p=f(p,R(e))),u=os(p.length,u),a[s]=!r&&(e||i>=120&&p.length>=120)?new _e(s&&p):$}p=t[0];var d=-1,_=a[0];t:for(;++d<i&&h.length<u;){var m=p[d],v=e?e(m):m;if(m=r||0!==m?m:0,!(_?T(_,v):n(h,v,r))){for(s=o;--s;){var g=a[s];if(!(g?T(g,v):n(t[s],v,r)))continue t}_&&_.push(v),h.push(m)}}return h}function er(t,e,r){var i=null==(t=ni(t,e=tn(e,t)))?t:t[ci(mi(e))];return null==i?$:n(i,t,r)}function rr(t){return Di(t)&&He(t)==st}function ir(t,e,r,n,i){return t===e||(null==t||null==e||!Di(t)&&!Di(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var s=Ra(t),a=Ra(e),u=s?at:Ds(t),c=a?at:Ds(e),l=(u=u==st?_t:u)==_t,f=(c=c==st?_t:c)==_t,h=u==c;if(h&&Ta(t)){if(!Ta(e))return!1;s=!0,l=!1}if(h&&!l)return o||(o=new me),s||Ia(t)?In(t,e,r,n,i,o):function(t,e,r,n,i,o,s){switch(r){case Et:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case jt:return!(t.byteLength!=e.byteLength||!o(new No(t),new No(e)));case ut:case ct:case dt:return Ti(+t,+e);case lt:return t.name==e.name&&t.message==e.message;case vt:case yt:return t==e+"";case pt:var a=N;case gt:var u=1&n;if(a||(a=B),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;n|=2,s.set(t,e);var l=In(a(t),a(e),n,i,o,s);return s.delete(t),l;case bt:if(ks)return ks.call(t)==ks.call(e)}return!1}(t,e,u,r,n,i,o);if(!(1&r)){var p=l&&Ro.call(t,"__wrapped__"),d=f&&Ro.call(e,"__wrapped__");if(p||d){var _=p?t.value():t,m=d?e.value():e;return o||(o=new me),i(_,m,r,n,o)}}return!!h&&(o||(o=new me),function(t,e,r,n,i,o){var s=1&r,a=Nn(t),u=a.length,c=Nn(e).length;if(u!=c&&!s)return!1;for(var l=u;l--;){var f=a[l];if(!(s?f in e:Ro.call(e,f)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var d=!0;o.set(t,e),o.set(e,t);for(var _=s;++l<u;){var m=t[f=a[l]],v=e[f];if(n)var g=s?n(v,m,f,e,t,o):n(m,v,f,t,e,o);if(!(g===$?m===v||i(m,v,r,n,o):g)){d=!1;break}_||(_="constructor"==f)}if(d&&!_){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o))}(t,e,r,n,ir,i))}function or(t,e,r,n){var i=r.length,o=i,s=!n;if(null==t)return!o;for(t=bo(t);i--;){var a=r[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var u=(a=r[i])[0],c=t[u],l=a[1];if(s&&a[2]){if(c===$&&!(u in t))return!1}else{var f=new me;if(n)var h=n(c,l,u,t,e,f);if(!(h===$?ir(l,c,3,n,f):h))return!1}}return!0}function ar(t){return!(!Ni(t)||function(t){return!!To&&To in t}(t))&&(Mi(t)?Mo:se).test(li(t))}function ur(t){return"function"==typeof t?t:null==t?ao:"object"==typeof t?Ra(t)?kr(t[0],t[1]):Er(t):fo(t)}function _r(t){if(!Zn(t))return ns(t);var e=[];for(var r in bo(t))Ro.call(t,r)&&"constructor"!=r&&e.push(r);return e}function br(t){if(!Ni(t))return function(t){var e=[];if(null!=t)for(var r in bo(t))e.push(r);return e}(t);var e=Zn(t),r=[];for(var n in t)("constructor"!=n||!e&&Ro.call(t,n))&&r.push(n);return r}function wr(t,e){return t<e}function jr(t,e){var r=-1,n=Ai(t)?_o(t.length):[];return Ss(t,(function(t,i,o){n[++r]=e(t,i,o)})),n}function Er(t){var e=Hn(t);return 1==e.length&&e[0][2]?ei(e[0][0],e[0][1]):function(r){return r===t||or(r,t,e)}}function kr(t,e){return Xn(t)&&ti(e)?ei(ci(t),e):function(r){var n=Xi(r,t);return n===$&&n===e?Qi(r,t):ir(e,n,3)}}function xr(t,e,r,n,i){t!==e&&Rs(e,(function(o,s){if(i||(i=new me),Ni(o))!function(t,e,r,n,i,o,s){var a=oi(t,r),u=oi(e,r),c=s.get(u);if(c)return void we(t,r,c);var l=o?o(a,u,r+"",t,e,s):$,f=l===$;if(f){var h=Ra(u),p=!h&&Ta(u),d=!h&&!p&&Ia(u);l=u,h||p||d?Ra(a)?l=a:Fi(a)?l=cn(a):p?(f=!1,l=rn(u,!0)):d?(f=!1,l=on(u,!0)):l=[]:Bi(u)||Ca(u)?(l=a,Ca(a)?l=Ji(a):Ni(a)&&!Mi(a)||(l=Yn(u))):f=!1}f&&(s.set(u,l),i(l,u,n,o,s),s.delete(u)),we(t,r,l)}(t,e,s,r,xr,n,i);else{var a=n?n(oi(t,s),o,s+"",t,e,i):$;a===$&&(a=o),we(t,s,a)}}),to)}function Or(t,e){var r=t.length;if(r)return Jn(e+=e<0?r:0,r)?t[e]:$}function Sr(t,e,r){e=e.length?f(e,(function(t){return Ra(t)?function(e){return qe(e,1===t.length?t[0]:t)}:t})):[ao];var n=-1;e=f(e,R(Wn()));var i=jr(t,(function(t,r,i){var o=f(e,(function(e){return e(t)}));return{criteria:o,index:++n,value:t}}));return function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(i,(function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var u=sn(i[n],o[n]);if(u)return n>=a?u:u*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function Cr(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=qe(t,s);r(a,s)&&Ir(o,tn(s,t),a)}return o}function Rr(t,e,r,n){var i=n?b:y,o=-1,s=e.length,a=t;for(t===e&&(e=cn(e)),r&&(a=f(t,R(r)));++o<s;)for(var u=0,c=e[o],l=r?r(c):c;(u=i(a,l,u,n))>-1;)a!==t&&Vo.call(a,u,1),Vo.call(t,u,1);return t}function Pr(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;Jn(i)?Vo.call(t,i,1):$r(t,i)}}return t}function Tr(t,e){return t+Qo(us()*(e-t+1))}function Ar(t,e){var r="";if(!t||e<1||e>rt)return r;do{e%2&&(r+=t),(e=Qo(e/2))&&(t+=t)}while(e);return r}function Fr(t,e){return Vs(ri(t,e,ao),t+"")}function Lr(t){return ge(ro(t))}function Mr(t,e){var r=ro(t);return ui(r,Ce(e,0,r.length))}function Ir(t,e,r,n){if(!Ni(t))return t;for(var i=-1,o=(e=tn(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var u=ci(e[i]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=s){var l=a[u];(c=n?n(l,u,a):$)===$&&(c=Ni(l)?l:Jn(e[i+1])?[]:{})}je(a,u,c),a=a[u]}return t}function Ur(t){return ui(ro(t))}function Nr(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=_o(i);++n<i;)o[n]=t[n+e];return o}function Dr(t,e){var r;return Ss(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function qr(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!Vi(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return Br(t,e,ao,r)}function Br(t,e,r,n){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(e=r(e))!=e,a=null===e,u=Vi(e),c=e===$;i<o;){var l=Qo((i+o)/2),f=r(t[l]),h=f!==$,p=null===f,d=f==f,_=Vi(f);if(s)var m=n||d;else m=c?d&&(n||h):a?d&&h&&(n||!p):u?d&&h&&!p&&(n||!_):!p&&!_&&(n?f<=e:f<e);m?i=l+1:o=l}return os(o,4294967294)}function Wr(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!Ti(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Vr(t){return"number"==typeof t?t:Vi(t)?nt:+t}function Hr(t){if("string"==typeof t)return t;if(Ra(t))return f(t,Hr)+"";if(Vi(t))return xs?xs.call(t):"";var e=t+"";return"0"==e&&1/t==-et?"-0":e}function zr(t,e,r){var n=-1,i=c,o=t.length,s=!0,a=[],u=a;if(r)s=!1,i=l;else if(o>=200){var f=e?null:Ms(t);if(f)return B(f);s=!1,i=T,u=new _e}else u=e?[]:a;t:for(;++n<o;){var h=t[n],p=e?e(h):h;if(h=r||0!==h?h:0,s&&p==p){for(var d=u.length;d--;)if(u[d]===p)continue t;e&&u.push(p),a.push(h)}else i(u,p,r)||(u!==a&&u.push(p),a.push(h))}return a}function $r(t,e){return null==(t=ni(t,e=tn(e,t)))||delete t[ci(mi(e))]}function Yr(t,e,r,n){return Ir(t,e,r(qe(t,e)),n)}function Gr(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Nr(t,n?0:o,n?o+1:i):Nr(t,n?o+1:0,n?i:o)}function Jr(t,e){var r=t;return r instanceof Zt&&(r=r.value()),p(e,(function(t,e){return e.func.apply(e.thisArg,h([t],e.args))}),r)}function Kr(t,e,r){var n=t.length;if(n<2)return n?zr(t[0]):[];for(var i=-1,o=_o(n);++i<n;)for(var s=t[i],a=-1;++a<n;)a!=i&&(o[i]=Ae(o[i]||s,t[a],e,r));return zr(Ie(o,1),e,r)}function Xr(t,e,r){for(var n=-1,i=t.length,o=e.length,s={};++n<i;){var a=n<o?e[n]:$;r(s,t[n],a)}return s}function Qr(t){return Fi(t)?t:[]}function Zr(t){return"function"==typeof t?t:ao}function tn(t,e){return Ra(t)?t:Xn(t,e)?[t]:Hs(Ki(t))}function en(t,e,r){var n=t.length;return r=r===$?n:r,!e&&r>=n?t:Nr(t,e,r)}function rn(t,e){if(e)return t.slice();var r=t.length,n=Do?Do(r):new t.constructor(r);return t.copy(n),n}function nn(t){var e=new t.constructor(t.byteLength);return new No(e).set(new No(t)),e}function on(t,e){var r=e?nn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function sn(t,e){if(t!==e){var r=t!==$,n=null===t,i=t==t,o=Vi(t),s=e!==$,a=null===e,u=e==e,c=Vi(e);if(!a&&!c&&!o&&t>e||o&&s&&u&&!a&&!c||n&&s&&u||!r&&u||!i)return 1;if(!n&&!o&&!c&&t<e||c&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!u)return-1}return 0}function an(t,e,r,n){for(var i=-1,o=t.length,s=r.length,a=-1,u=e.length,c=is(o-s,0),l=_o(u+c),f=!n;++a<u;)l[a]=e[a];for(;++i<s;)(f||i<o)&&(l[r[i]]=t[i]);for(;c--;)l[a++]=t[i++];return l}function un(t,e,r,n){for(var i=-1,o=t.length,s=-1,a=r.length,u=-1,c=e.length,l=is(o-a,0),f=_o(l+c),h=!n;++i<l;)f[i]=t[i];for(var p=i;++u<c;)f[p+u]=e[u];for(;++s<a;)(h||i<o)&&(f[p+r[s]]=t[i++]);return f}function cn(t,e){var r=-1,n=t.length;for(e||(e=_o(n));++r<n;)e[r]=t[r];return e}function ln(t,e,r,n){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=n?n(r[a],t[a],a,r,t):$;u===$&&(u=t[a]),i?Oe(r,a,u):je(r,a,u)}return r}function fn(t,e){return function(r,n){var o=Ra(r)?i:ke,s=e?e():{};return o(r,t,Wn(n,2),s)}}function hn(t){return Fr((function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:$,s=i>2?r[2]:$;for(o=t.length>3&&"function"==typeof o?(i--,o):$,s&&Kn(r[0],r[1],s)&&(o=i<3?$:o,i=1),e=bo(e);++n<i;){var a=r[n];a&&t(e,a,n,o)}return e}))}function pn(t,e){return function(r,n){if(null==r)return r;if(!Ai(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=bo(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function dn(t){return function(e,r,n){for(var i=-1,o=bo(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}function _n(t){return function(e){var r=I(e=Ki(e))?V(e):$,n=r?r[0]:e.charAt(0),i=r?en(r,1).join(""):e.slice(1);return n[t]()+i}}function mn(t){return function(e){return p(oo(io(e).replace(We,"")),t,"")}}function vn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Os(t.prototype),n=t.apply(r,e);return Ni(n)?n:r}}function gn(t,e,r){var i=vn(t);return function o(){for(var s=arguments.length,a=_o(s),u=s,c=Bn(o);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:q(a,c);if((s-=l.length)<r)return Rn(t,e,wn,o.placeholder,$,a,l,$,$,r-s);var f=this&&this!==nr&&this instanceof o?i:t;return n(f,this,a)}}function yn(t){return function(e,r,n){var i=bo(e);if(!Ai(e)){var o=Wn(r,3);e=Zi(e),r=function(t){return o(i[t],t,i)}}var s=t(e,r,n);return s>-1?i[o?e[s]:s]:$}}function bn(t){return Un((function(e){var r=e.length,n=r,i=Jt.prototype.thru;for(t&&e.reverse();n--;){var o=e[n];if("function"!=typeof o)throw new Eo(Y);if(i&&!s&&"wrapper"==qn(o))var s=new Jt([],!0)}for(n=s?n:r;++n<r;){var a=qn(o=e[n]),u="wrapper"==a?Is(o):$;s=u&&Qn(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[qn(u[0])].apply(s,u[3]):1==o.length&&Qn(o)?s[a]():s.thru(o)}return function(){var t=arguments,n=t[0];if(s&&1==t.length&&Ra(n))return s.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}function wn(t,e,r,n,i,o,s,a,u,c){var l=e&Z,f=1&e,h=2&e,p=24&e,d=512&e,_=h?$:vn(t);return function m(){for(var v=arguments.length,g=_o(v),y=v;y--;)g[y]=arguments[y];if(p)var b=Bn(m),w=L(g,b);if(n&&(g=an(g,n,i,p)),o&&(g=un(g,o,s,p)),v-=w,p&&v<c){var j=q(g,b);return Rn(t,e,wn,m.placeholder,r,g,j,a,u,c-v)}var E=f?r:this,k=h?E[t]:t;return v=g.length,a?g=ii(g,a):d&&v>1&&g.reverse(),l&&u<v&&(g.length=u),this&&this!==nr&&this instanceof m&&(k=_||vn(k)),k.apply(E,g)}}function jn(t,e){return function(r,n){return function(t,e,r,n){return Ue(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function En(t,e){return function(r,n){var i;if(r===$&&n===$)return e;if(r!==$&&(i=r),n!==$){if(i===$)return n;"string"==typeof r||"string"==typeof n?(r=Hr(r),n=Hr(n)):(r=Vr(r),n=Vr(n)),i=t(r,n)}return i}}function kn(t){return Un((function(e){return e=f(e,R(Wn())),Fr((function(r){var i=this;return t(e,(function(t){return n(t,i,r)}))}))}))}function xn(t,e){var r=(e=e===$?" ":Hr(e)).length;if(r<2)return r?Ar(e,t):e;var n=Ar(e,Xo(t/W(e)));return I(e)?en(V(n),0,t).join(""):n.slice(0,t)}function On(t,e,r,i){var o=1&e,s=vn(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=i.length,f=_o(l+u),h=this&&this!==nr&&this instanceof e?s:t;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++a];return n(h,o?r:this,f)}}function Sn(t){return function(e,r,n){return n&&"number"!=typeof n&&Kn(e,r,n)&&(r=n=$),e=zi(e),r===$?(r=e,e=0):r=zi(r),function(t,e,r,n){for(var i=-1,o=is(Xo((e-t)/(r||1)),0),s=_o(o);o--;)s[n?o:++i]=t,t+=r;return s}(e,r,n=n===$?e<r?1:-1:zi(n),t)}}function Cn(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=Gi(e),r=Gi(r)),t(e,r)}}function Rn(t,e,r,n,i,o,s,a,u,c){var l=8&e;e|=l?X:Q,4&(e&=~(l?Q:X))||(e&=-4);var f=[t,e,i,l?o:$,l?s:$,l?$:o,l?$:s,a,u,c],h=r.apply($,f);return Qn(t)&&Bs(h,f),h.placeholder=n,si(h,t,e)}function Pn(t){var e=yo[t];return function(t,r){if(t=Gi(t),(r=null==r?0:os($i(r),292))&&es(t)){var n=(Ki(t)+"e").split("e");return+((n=(Ki(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}function Tn(t){return function(e){var r=Ds(e);return r==pt?N(e):r==gt?function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}(e):function(t,e){return f(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function An(t,e,r,n,i,o,s,a){var u=2&e;if(!u&&"function"!=typeof t)throw new Eo(Y);var c=n?n.length:0;if(c||(e&=-97,n=i=$),s=s===$?s:is($i(s),0),a=a===$?a:$i(a),c-=i?i.length:0,e&Q){var l=n,f=i;n=i=$}var h=u?$:Is(t),p=[t,e,r,n,i,l,f,o,s,a];if(h&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,s=n==Z&&8==r||n==Z&&r==tt&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!s)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var a=e[3];if(a){var u=t[3];t[3]=u?an(u,a,e[4]):a,t[4]=u?q(t[3],J):e[4]}(a=e[5])&&(u=t[5],t[5]=u?un(u,a,e[6]):a,t[6]=u?q(t[5],J):e[6]),(a=e[7])&&(t[7]=a),n&Z&&(t[8]=null==t[8]?e[8]:os(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(p,h),t=p[0],e=p[1],r=p[2],n=p[3],i=p[4],!(a=p[9]=p[9]===$?u?0:t.length:is(p[9]-c,0))&&24&e&&(e&=-25),e&&1!=e)d=8==e||e==K?gn(t,e,a):e!=X&&33!=e||i.length?wn.apply($,p):On(t,e,r,n);else var d=function(t,e,r){var n=1&e,i=vn(t);return function e(){return(this&&this!==nr&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return si((h?Ts:Bs)(d,p),t,e)}function Fn(t,e,r,n){return t===$||Ti(t,Oo[r])&&!Ro.call(n,r)?e:t}function Ln(t,e,r,n,i,o){return Ni(t)&&Ni(e)&&(o.set(e,t),xr(t,e,$,Ln,o),o.delete(e)),t}function Mn(t){return Bi(t)?$:t}function In(t,e,r,n,i,o){var s=1&r,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var f=-1,h=!0,p=2&r?new _e:$;for(o.set(t,e),o.set(e,t);++f<a;){var d=t[f],m=e[f];if(n)var v=s?n(m,d,f,e,t,o):n(d,m,f,t,e,o);if(v!==$){if(v)continue;h=!1;break}if(p){if(!_(e,(function(t,e){if(!T(p,e)&&(d===t||i(d,t,r,n,o)))return p.push(e)}))){h=!1;break}}else if(d!==m&&!i(d,m,r,n,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Un(t){return Vs(ri(t,$,di),t+"")}function Nn(t){return Be(t,Zi,Us)}function Dn(t){return Be(t,to,Ns)}function qn(t){for(var e=t.name+"",r=vs[e],n=Ro.call(vs,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function Bn(t){return(Ro.call(r,"placeholder")?r:t).placeholder}function Wn(){var t=r.iteratee||uo;return t=t===uo?ur:t,arguments.length?t(arguments[0],arguments[1]):t}function Vn(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function Hn(t){for(var e=Zi(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ti(i)]}return e}function zn(t,e){var r=function(t,e){return null==t?$:t[e]}(t,e);return ar(r)?r:$}function $n(t,e,r){for(var n=-1,i=(e=tn(e,t)).length,o=!1;++n<i;){var s=ci(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&Ui(i)&&Jn(s,i)&&(Ra(t)||Ca(t))}function Yn(t){return"function"!=typeof t.constructor||Zn(t)?{}:Os(qo(t))}function Gn(t){return Ra(t)||Ca(t)||!!(Ho&&t&&t[Ho])}function Jn(t,e){var r=typeof t;return!!(e=null==e?rt:e)&&("number"==r||"symbol"!=r&&ue.test(t))&&t>-1&&t%1==0&&t<e}function Kn(t,e,r){if(!Ni(r))return!1;var n=typeof e;return!!("number"==n?Ai(r)&&Jn(e,r.length):"string"==n&&e in r)&&Ti(r[e],t)}function Xn(t,e){if(Ra(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Vi(t))||Ht.test(t)||!Vt.test(t)||null!=e&&t in bo(e)}function Qn(t){var e=qn(t),n=r[e];if("function"!=typeof n||!(e in Zt.prototype))return!1;if(t===n)return!0;var i=Is(n);return!!i&&t===i[0]}function Zn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Oo)}function ti(t){return t==t&&!Ni(t)}function ei(t,e){return function(r){return null!=r&&r[t]===e&&(e!==$||t in bo(r))}}function ri(t,e,r){return e=is(e===$?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=is(i.length-e,0),a=_o(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=_o(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),n(t,this,u)}}function ni(t,e){return e.length<2?t:qe(t,Nr(e,0,-1))}function ii(t,e){for(var r=t.length,n=os(e.length,r),i=cn(t);n--;){var o=e[n];t[n]=Jn(o,r)?i[o]:$}return t}function oi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function si(t,e,r){var n=e+"";return Vs(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(Kt,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return o(ot,(function(r){var n="_."+r[0];e&r[1]&&!c(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(Xt);return e?e[1].split(Qt):[]}(n),r)))}function ai(t){var e=0,r=0;return function(){var n=ss(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply($,arguments)}}function ui(t,e){var r=-1,n=t.length,i=n-1;for(e=e===$?n:e;++r<e;){var o=Tr(r,i),s=t[o];t[o]=t[r],t[r]=s}return t.length=e,t}function ci(t){if("string"==typeof t||Vi(t))return t;var e=t+"";return"0"==e&&1/t==-et?"-0":e}function li(t){if(null!=t){try{return Co.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fi(t){if(t instanceof Zt)return t.clone();var e=new Jt(t.__wrapped__,t.__chain__);return e.__actions__=cn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function hi(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:$i(r);return i<0&&(i=is(n+i,0)),g(t,Wn(e,3),i)}function pi(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return r!==$&&(i=$i(r),i=r<0?is(n+i,0):os(i,n-1)),g(t,Wn(e,3),i,!0)}function di(t){return(null==t?0:t.length)?Ie(t,1):[]}function _i(t){return t&&t.length?t[0]:$}function mi(t){var e=null==t?0:t.length;return e?t[e-1]:$}function vi(t,e){return t&&t.length&&e&&e.length?Rr(t,e):t}function gi(t){return null==t?t:cs.call(t)}function yi(t){if(!t||!t.length)return[];var e=0;return t=u(t,(function(t){if(Fi(t))return e=is(t.length,e),!0})),S(e,(function(e){return f(t,E(e))}))}function bi(t,e){if(!t||!t.length)return[];var r=yi(t);return null==e?r:f(r,(function(t){return n(e,$,t)}))}function wi(t){var e=r(t);return e.__chain__=!0,e}function ji(t,e){return e(t)}function Ei(t,e){return(Ra(t)?o:Ss)(t,Wn(e,3))}function ki(t,e){return(Ra(t)?s:Cs)(t,Wn(e,3))}function xi(t,e){return(Ra(t)?f:jr)(t,Wn(e,3))}function Oi(t,e,r){return e=r?$:e,e=t&&null==e?t.length:e,An(t,Z,$,$,$,$,e)}function Si(t,e){var r;if("function"!=typeof e)throw new Eo(Y);return t=$i(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=$),r}}function Ci(t,e,r){function n(e){var r=c,n=l;return c=l=$,_=e,h=t.apply(n,r)}function i(t){return _=t,p=Ws(s,e),m?n(t):h}function o(t){var r=t-d;return d===$||r>=e||r<0||v&&t-_>=f}function s(){var t=va();return o(t)?a(t):void(p=Ws(s,function(t){var r=e-(t-d);return v?os(r,f-(t-_)):r}(t)))}function a(t){return p=$,g&&c?n(t):(c=l=$,h)}function u(){var t=va(),r=o(t);if(c=arguments,l=this,d=t,r){if(p===$)return i(d);if(v)return Ls(p),p=Ws(s,e),n(d)}return p===$&&(p=Ws(s,e)),h}var c,l,f,h,p,d,_=0,m=!1,v=!1,g=!0;if("function"!=typeof t)throw new Eo(Y);return e=Gi(e)||0,Ni(r)&&(m=!!r.leading,f=(v="maxWait"in r)?is(Gi(r.maxWait)||0,e):f,g="trailing"in r?!!r.trailing:g),u.cancel=function(){p!==$&&Ls(p),_=0,c=d=l=p=$},u.flush=function(){return p===$?h:a(va())},u}function Ri(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Eo(Y);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Ri.Cache||de),r}function Pi(t){if("function"!=typeof t)throw new Eo(Y);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ti(t,e){return t===e||t!=t&&e!=e}function Ai(t){return null!=t&&Ui(t.length)&&!Mi(t)}function Fi(t){return Di(t)&&Ai(t)}function Li(t){if(!Di(t))return!1;var e=He(t);return e==lt||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Bi(t)}function Mi(t){if(!Ni(t))return!1;var e=He(t);return e==ft||e==ht||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ii(t){return"number"==typeof t&&t==$i(t)}function Ui(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=rt}function Ni(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Di(t){return null!=t&&"object"==typeof t}function qi(t){return"number"==typeof t||Di(t)&&He(t)==dt}function Bi(t){if(!Di(t)||He(t)!=_t)return!1;var e=qo(t);if(null===e)return!0;var r=Ro.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Co.call(r)==Fo}function Wi(t){return"string"==typeof t||!Ra(t)&&Di(t)&&He(t)==yt}function Vi(t){return"symbol"==typeof t||Di(t)&&He(t)==bt}function Hi(t){if(!t)return[];if(Ai(t))return Wi(t)?V(t):cn(t);if(zo&&t[zo])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[zo]());var e=Ds(t);return(e==pt?N:e==gt?B:ro)(t)}function zi(t){return t?(t=Gi(t))===et||t===-et?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function $i(t){var e=zi(t),r=e%1;return e==e?r?e-r:e:0}function Yi(t){return t?Ce($i(t),0,it):0}function Gi(t){if("number"==typeof t)return t;if(Vi(t))return nt;if(Ni(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ni(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=C(t);var r=oe.test(t);return r||ae.test(t)?tr(t.slice(2),r?2:8):ie.test(t)?nt:+t}function Ji(t){return ln(t,to(t))}function Ki(t){return null==t?"":Hr(t)}function Xi(t,e,r){var n=null==t?$:qe(t,e);return n===$?r:n}function Qi(t,e){return null!=t&&$n(t,e,Ye)}function Zi(t){return Ai(t)?ve(t):_r(t)}function to(t){return Ai(t)?ve(t,!0):br(t)}function eo(t,e){if(null==t)return{};var r=f(Dn(t),(function(t){return[t]}));return e=Wn(e),Cr(t,r,(function(t,r){return e(t,r[0])}))}function ro(t){return null==t?[]:P(t,Zi(t))}function no(t){return uu(Ki(t).toLowerCase())}function io(t){return(t=Ki(t))&&t.replace(ce,mr).replace(Ve,"")}function oo(t,e,r){return t=Ki(t),(e=r?$:e)===$?U(t)?z(t):m(t):t.match(e)||[]}function so(t){return function(){return t}}function ao(t){return t}function uo(t){return ur("function"==typeof t?t:Re(t,1))}function co(t,e,r){var n=Zi(e),i=De(e,n);null!=r||Ni(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=De(e,Zi(e)));var s=!(Ni(r)&&"chain"in r&&!r.chain),a=Mi(t);return o(i,(function(r){var n=e[r];t[r]=n,a&&(t.prototype[r]=function(){var e=this.__chain__;if(s||e){var r=t(this.__wrapped__),i=r.__actions__=cn(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,h([this.value()],arguments))})})),t}function lo(){}function fo(t){return Xn(t)?E(ci(t)):function(t){return function(e){return qe(e,t)}}(t)}function ho(){return[]}function po(){return!1}var _o=(e=null==e?nr:yr.defaults(nr.Object(),e,yr.pick(nr,Ge))).Array,mo=e.Date,vo=e.Error,go=e.Function,yo=e.Math,bo=e.Object,wo=e.RegExp,jo=e.String,Eo=e.TypeError,ko=_o.prototype,xo=go.prototype,Oo=bo.prototype,So=e["__core-js_shared__"],Co=xo.toString,Ro=Oo.hasOwnProperty,Po=0,To=function(){var t=/[^.]+$/.exec(So&&So.keys&&So.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ao=Oo.toString,Fo=Co.call(bo),Lo=nr._,Mo=wo("^"+Co.call(Ro).replace($t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Io=sr?e.Buffer:$,Uo=e.Symbol,No=e.Uint8Array,Do=Io?Io.allocUnsafe:$,qo=D(bo.getPrototypeOf,bo),Bo=bo.create,Wo=Oo.propertyIsEnumerable,Vo=ko.splice,Ho=Uo?Uo.isConcatSpreadable:$,zo=Uo?Uo.iterator:$,$o=Uo?Uo.toStringTag:$,Yo=function(){try{var t=zn(bo,"defineProperty");return t({},"",{}),t}catch(t){}}(),Go=e.clearTimeout!==nr.clearTimeout&&e.clearTimeout,Jo=mo&&mo.now!==nr.Date.now&&mo.now,Ko=e.setTimeout!==nr.setTimeout&&e.setTimeout,Xo=yo.ceil,Qo=yo.floor,Zo=bo.getOwnPropertySymbols,ts=Io?Io.isBuffer:$,es=e.isFinite,rs=ko.join,ns=D(bo.keys,bo),is=yo.max,os=yo.min,ss=mo.now,as=e.parseInt,us=yo.random,cs=ko.reverse,ls=zn(e,"DataView"),fs=zn(e,"Map"),hs=zn(e,"Promise"),ps=zn(e,"Set"),ds=zn(e,"WeakMap"),_s=zn(bo,"create"),ms=ds&&new ds,vs={},gs=li(ls),ys=li(fs),bs=li(hs),ws=li(ps),js=li(ds),Es=Uo?Uo.prototype:$,ks=Es?Es.valueOf:$,xs=Es?Es.toString:$,Os=function(){function t(){}return function(e){if(!Ni(e))return{};if(Bo)return Bo(e);t.prototype=e;var r=new t;return t.prototype=$,r}}();r.templateSettings={escape:qt,evaluate:Bt,interpolate:Wt,variable:"",imports:{_:r}},r.prototype=k.prototype,r.prototype.constructor=r,Jt.prototype=Os(k.prototype),Jt.prototype.constructor=Jt,Zt.prototype=Os(k.prototype),Zt.prototype.constructor=Zt,he.prototype.clear=function(){this.__data__=_s?_s(null):{},this.size=0},he.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},he.prototype.get=function(t){var e=this.__data__;if(_s){var r=e[t];return r===G?$:r}return Ro.call(e,t)?e[t]:$},he.prototype.has=function(t){var e=this.__data__;return _s?e[t]!==$:Ro.call(e,t)},he.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=_s&&e===$?G:e,this},pe.prototype.clear=function(){this.__data__=[],this.size=0},pe.prototype.delete=function(t){var e=this.__data__,r=Ee(e,t);return!(r<0)&&(r==e.length-1?e.pop():Vo.call(e,r,1),--this.size,!0)},pe.prototype.get=function(t){var e=this.__data__,r=Ee(e,t);return r<0?$:e[r][1]},pe.prototype.has=function(t){return Ee(this.__data__,t)>-1},pe.prototype.set=function(t,e){var r=this.__data__,n=Ee(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},de.prototype.clear=function(){this.size=0,this.__data__={hash:new he,map:new(fs||pe),string:new he}},de.prototype.delete=function(t){var e=Vn(this,t).delete(t);return this.size-=e?1:0,e},de.prototype.get=function(t){return Vn(this,t).get(t)},de.prototype.has=function(t){return Vn(this,t).has(t)},de.prototype.set=function(t,e){var r=Vn(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},_e.prototype.add=_e.prototype.push=function(t){return this.__data__.set(t,G),this},_e.prototype.has=function(t){return this.__data__.has(t)},me.prototype.clear=function(){this.__data__=new pe,this.size=0},me.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},me.prototype.get=function(t){return this.__data__.get(t)},me.prototype.has=function(t){return this.__data__.has(t)},me.prototype.set=function(t,e){var r=this.__data__;if(r instanceof pe){var n=r.__data__;if(!fs||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new de(n)}return r.set(t,e),this.size=r.size,this};var Ss=pn(Ue),Cs=pn(Ne,!0),Rs=dn(),Ps=dn(!0),Ts=ms?function(t,e){return ms.set(t,e),t}:ao,As=Yo?function(t,e){return Yo(t,"toString",{configurable:!0,enumerable:!1,value:so(e),writable:!0})}:ao,Fs=Fr,Ls=Go||function(t){return nr.clearTimeout(t)},Ms=ps&&1/B(new ps([,-0]))[1]==et?function(t){return new ps(t)}:lo,Is=ms?function(t){return ms.get(t)}:lo,Us=Zo?function(t){return null==t?[]:(t=bo(t),u(Zo(t),(function(e){return Wo.call(t,e)})))}:ho,Ns=Zo?function(t){for(var e=[];t;)h(e,Us(t)),t=qo(t);return e}:ho,Ds=He;(ls&&Ds(new ls(new ArrayBuffer(1)))!=Et||fs&&Ds(new fs)!=pt||hs&&Ds(hs.resolve())!=mt||ps&&Ds(new ps)!=gt||ds&&Ds(new ds)!=wt)&&(Ds=function(t){var e=He(t),r=e==_t?t.constructor:$,n=r?li(r):"";if(n)switch(n){case gs:return Et;case ys:return pt;case bs:return mt;case ws:return gt;case js:return wt}return e});var qs=So?Mi:po,Bs=ai(Ts),Ws=Ko||function(t,e){return nr.setTimeout(t,e)},Vs=ai(As),Hs=function(t){var e=Ri(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(zt,(function(t,r,n,i){e.push(n?i.replace(ee,"$1"):r||t)})),e})),zs=Fr((function(t,e){return Fi(t)?Ae(t,Ie(e,1,Fi,!0)):[]})),$s=Fr((function(t,e){var r=mi(e);return Fi(r)&&(r=$),Fi(t)?Ae(t,Ie(e,1,Fi,!0),Wn(r,2)):[]})),Ys=Fr((function(t,e){var r=mi(e);return Fi(r)&&(r=$),Fi(t)?Ae(t,Ie(e,1,Fi,!0),$,r):[]})),Gs=Fr((function(t){var e=f(t,Qr);return e.length&&e[0]===t[0]?Qe(e):[]})),Js=Fr((function(t){var e=mi(t),r=f(t,Qr);return e===mi(r)?e=$:r.pop(),r.length&&r[0]===t[0]?Qe(r,Wn(e,2)):[]})),Ks=Fr((function(t){var e=mi(t),r=f(t,Qr);return(e="function"==typeof e?e:$)&&r.pop(),r.length&&r[0]===t[0]?Qe(r,$,e):[]})),Xs=Fr(vi),Qs=Un((function(t,e){var r=null==t?0:t.length,n=Se(t,e);return Pr(t,f(e,(function(t){return Jn(t,r)?+t:t})).sort(sn)),n})),Zs=Fr((function(t){return zr(Ie(t,1,Fi,!0))})),ta=Fr((function(t){var e=mi(t);return Fi(e)&&(e=$),zr(Ie(t,1,Fi,!0),Wn(e,2))})),ea=Fr((function(t){var e=mi(t);return e="function"==typeof e?e:$,zr(Ie(t,1,Fi,!0),$,e)})),ra=Fr((function(t,e){return Fi(t)?Ae(t,e):[]})),na=Fr((function(t){return Kr(u(t,Fi))})),ia=Fr((function(t){var e=mi(t);return Fi(e)&&(e=$),Kr(u(t,Fi),Wn(e,2))})),oa=Fr((function(t){var e=mi(t);return e="function"==typeof e?e:$,Kr(u(t,Fi),$,e)})),sa=Fr(yi),aa=Fr((function(t){var e=t.length,r=e>1?t[e-1]:$;return r="function"==typeof r?(t.pop(),r):$,bi(t,r)})),ua=Un((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,i=function(e){return Se(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Zt&&Jn(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:ji,args:[i],thisArg:$}),new Jt(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push($),t}))):this.thru(i)})),ca=fn((function(t,e,r){Ro.call(t,r)?++t[r]:Oe(t,r,1)})),la=yn(hi),fa=yn(pi),ha=fn((function(t,e,r){Ro.call(t,r)?t[r].push(e):Oe(t,r,[e])})),pa=Fr((function(t,e,r){var i=-1,o="function"==typeof e,s=Ai(t)?_o(t.length):[];return Ss(t,(function(t){s[++i]=o?n(e,t,r):er(t,e,r)})),s})),da=fn((function(t,e,r){Oe(t,r,e)})),_a=fn((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]})),ma=Fr((function(t,e){if(null==t)return[];var r=e.length;return r>1&&Kn(t,e[0],e[1])?e=[]:r>2&&Kn(e[0],e[1],e[2])&&(e=[e[0]]),Sr(t,Ie(e,1),[])})),va=Jo||function(){return nr.Date.now()},ga=Fr((function(t,e,r){var n=1;if(r.length){var i=q(r,Bn(ga));n|=X}return An(t,n,e,r,i)})),ya=Fr((function(t,e,r){var n=3;if(r.length){var i=q(r,Bn(ya));n|=X}return An(e,n,t,r,i)})),ba=Fr((function(t,e){return Te(t,1,e)})),wa=Fr((function(t,e,r){return Te(t,Gi(e)||0,r)}));Ri.Cache=de;var ja=Fs((function(t,e){var r=(e=1==e.length&&Ra(e[0])?f(e[0],R(Wn())):f(Ie(e,1),R(Wn()))).length;return Fr((function(i){for(var o=-1,s=os(i.length,r);++o<s;)i[o]=e[o].call(this,i[o]);return n(t,this,i)}))})),Ea=Fr((function(t,e){var r=q(e,Bn(Ea));return An(t,X,$,e,r)})),ka=Fr((function(t,e){var r=q(e,Bn(ka));return An(t,Q,$,e,r)})),xa=Un((function(t,e){return An(t,tt,$,$,$,e)})),Oa=Cn(ze),Sa=Cn((function(t,e){return t>=e})),Ca=rr(function(){return arguments}())?rr:function(t){return Di(t)&&Ro.call(t,"callee")&&!Wo.call(t,"callee")},Ra=_o.isArray,Pa=cr?R(cr):function(t){return Di(t)&&He(t)==jt},Ta=ts||po,Aa=lr?R(lr):function(t){return Di(t)&&He(t)==ct},Fa=fr?R(fr):function(t){return Di(t)&&Ds(t)==pt},La=hr?R(hr):function(t){return Di(t)&&He(t)==vt},Ma=pr?R(pr):function(t){return Di(t)&&Ds(t)==gt},Ia=dr?R(dr):function(t){return Di(t)&&Ui(t.length)&&!!Ke[He(t)]},Ua=Cn(wr),Na=Cn((function(t,e){return t<=e})),Da=hn((function(t,e){if(Zn(e)||Ai(e))ln(e,Zi(e),t);else for(var r in e)Ro.call(e,r)&&je(t,r,e[r])})),qa=hn((function(t,e){ln(e,to(e),t)})),Ba=hn((function(t,e,r,n){ln(e,to(e),t,n)})),Wa=hn((function(t,e,r,n){ln(e,Zi(e),t,n)})),Va=Un(Se),Ha=Fr((function(t,e){t=bo(t);var r=-1,n=e.length,i=n>2?e[2]:$;for(i&&Kn(e[0],e[1],i)&&(n=1);++r<n;)for(var o=e[r],s=to(o),a=-1,u=s.length;++a<u;){var c=s[a],l=t[c];(l===$||Ti(l,Oo[c])&&!Ro.call(t,c))&&(t[c]=o[c])}return t})),za=Fr((function(t){return t.push($,Ln),n(Ka,$,t)})),$a=jn((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Ao.call(e)),t[e]=r}),so(ao)),Ya=jn((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Ao.call(e)),Ro.call(t,e)?t[e].push(r):t[e]=[r]}),Wn),Ga=Fr(er),Ja=hn((function(t,e,r){xr(t,e,r)})),Ka=hn((function(t,e,r,n){xr(t,e,r,n)})),Xa=Un((function(t,e){var r={};if(null==t)return r;var n=!1;e=f(e,(function(e){return e=tn(e,t),n||(n=e.length>1),e})),ln(t,Dn(t),r),n&&(r=Re(r,7,Mn));for(var i=e.length;i--;)$r(r,e[i]);return r})),Qa=Un((function(t,e){return null==t?{}:function(t,e){return Cr(t,e,(function(e,r){return Qi(t,r)}))}(t,e)})),Za=Tn(Zi),tu=Tn(to),eu=mn((function(t,e,r){return e=e.toLowerCase(),t+(r?no(e):e)})),ru=mn((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),nu=mn((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),iu=_n("toLowerCase"),ou=mn((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()})),su=mn((function(t,e,r){return t+(r?" ":"")+uu(e)})),au=mn((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),uu=_n("toUpperCase"),cu=Fr((function(t,e){try{return n(t,$,e)}catch(t){return Li(t)?t:new vo(t)}})),lu=Un((function(t,e){return o(e,(function(e){e=ci(e),Oe(t,e,ga(t[e],t))})),t})),fu=bn(),hu=bn(!0),pu=Fr((function(t,e){return function(r){return er(r,t,e)}})),du=Fr((function(t,e){return function(r){return er(t,r,e)}})),_u=kn(f),mu=kn(a),vu=kn(_),gu=Sn(),yu=Sn(!0),bu=En((function(t,e){return t+e}),0),wu=Pn("ceil"),ju=En((function(t,e){return t/e}),1),Eu=Pn("floor"),ku=En((function(t,e){return t*e}),1),xu=Pn("round"),Ou=En((function(t,e){return t-e}),0);return r.after=function(t,e){if("function"!=typeof e)throw new Eo(Y);return t=$i(t),function(){if(--t<1)return e.apply(this,arguments)}},r.ary=Oi,r.assign=Da,r.assignIn=qa,r.assignInWith=Ba,r.assignWith=Wa,r.at=Va,r.before=Si,r.bind=ga,r.bindAll=lu,r.bindKey=ya,r.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ra(t)?t:[t]},r.chain=wi,r.chunk=function(t,e,r){e=(r?Kn(t,e,r):e===$)?1:is($i(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var i=0,o=0,s=_o(Xo(n/e));i<n;)s[o++]=Nr(t,i,i+=e);return s},r.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},r.concat=function(){var t=arguments.length;if(!t)return[];for(var e=_o(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return h(Ra(r)?cn(r):[r],Ie(e,1))},r.cond=function(t){var e=null==t?0:t.length,r=Wn();return t=e?f(t,(function(t){if("function"!=typeof t[1])throw new Eo(Y);return[r(t[0]),t[1]]})):[],Fr((function(r){for(var i=-1;++i<e;){var o=t[i];if(n(o[0],this,r))return n(o[1],this,r)}}))},r.conforms=function(t){return function(t){var e=Zi(t);return function(r){return Pe(r,t,e)}}(Re(t,1))},r.constant=so,r.countBy=ca,r.create=function(t,e){var r=Os(t);return null==e?r:xe(r,e)},r.curry=function t(e,r,n){var i=An(e,8,$,$,$,$,$,r=n?$:r);return i.placeholder=t.placeholder,i},r.curryRight=function t(e,r,n){var i=An(e,K,$,$,$,$,$,r=n?$:r);return i.placeholder=t.placeholder,i},r.debounce=Ci,r.defaults=Ha,r.defaultsDeep=za,r.defer=ba,r.delay=wa,r.difference=zs,r.differenceBy=$s,r.differenceWith=Ys,r.drop=function(t,e,r){var n=null==t?0:t.length;return n?Nr(t,(e=r||e===$?1:$i(e))<0?0:e,n):[]},r.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?Nr(t,0,(e=n-(e=r||e===$?1:$i(e)))<0?0:e):[]},r.dropRightWhile=function(t,e){return t&&t.length?Gr(t,Wn(e,3),!0,!0):[]},r.dropWhile=function(t,e){return t&&t.length?Gr(t,Wn(e,3),!0):[]},r.fill=function(t,e,r,n){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Kn(t,e,r)&&(r=0,n=i),function(t,e,r,n){var i=t.length;for((r=$i(r))<0&&(r=-r>i?0:i+r),(n=n===$||n>i?i:$i(n))<0&&(n+=i),n=r>n?0:Yi(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},r.filter=function(t,e){return(Ra(t)?u:Me)(t,Wn(e,3))},r.flatMap=function(t,e){return Ie(xi(t,e),1)},r.flatMapDeep=function(t,e){return Ie(xi(t,e),et)},r.flatMapDepth=function(t,e,r){return r=r===$?1:$i(r),Ie(xi(t,e),r)},r.flatten=di,r.flattenDeep=function(t){return(null==t?0:t.length)?Ie(t,et):[]},r.flattenDepth=function(t,e){return(null==t?0:t.length)?Ie(t,e=e===$?1:$i(e)):[]},r.flip=function(t){return An(t,512)},r.flow=fu,r.flowRight=hu,r.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},r.functions=function(t){return null==t?[]:De(t,Zi(t))},r.functionsIn=function(t){return null==t?[]:De(t,to(t))},r.groupBy=ha,r.initial=function(t){return(null==t?0:t.length)?Nr(t,0,-1):[]},r.intersection=Gs,r.intersectionBy=Js,r.intersectionWith=Ks,r.invert=$a,r.invertBy=Ya,r.invokeMap=pa,r.iteratee=uo,r.keyBy=da,r.keys=Zi,r.keysIn=to,r.map=xi,r.mapKeys=function(t,e){var r={};return e=Wn(e,3),Ue(t,(function(t,n,i){Oe(r,e(t,n,i),t)})),r},r.mapValues=function(t,e){var r={};return e=Wn(e,3),Ue(t,(function(t,n,i){Oe(r,n,e(t,n,i))})),r},r.matches=function(t){return Er(Re(t,1))},r.matchesProperty=function(t,e){return kr(t,Re(e,1))},r.memoize=Ri,r.merge=Ja,r.mergeWith=Ka,r.method=pu,r.methodOf=du,r.mixin=co,r.negate=Pi,r.nthArg=function(t){return t=$i(t),Fr((function(e){return Or(e,t)}))},r.omit=Xa,r.omitBy=function(t,e){return eo(t,Pi(Wn(e)))},r.once=function(t){return Si(2,t)},r.orderBy=function(t,e,r,n){return null==t?[]:(Ra(e)||(e=null==e?[]:[e]),Ra(r=n?$:r)||(r=null==r?[]:[r]),Sr(t,e,r))},r.over=_u,r.overArgs=ja,r.overEvery=mu,r.overSome=vu,r.partial=Ea,r.partialRight=ka,r.partition=_a,r.pick=Qa,r.pickBy=eo,r.property=fo,r.propertyOf=function(t){return function(e){return null==t?$:qe(t,e)}},r.pull=Xs,r.pullAll=vi,r.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Rr(t,e,Wn(r,2)):t},r.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Rr(t,e,$,r):t},r.pullAt=Qs,r.range=gu,r.rangeRight=yu,r.rearg=xa,r.reject=function(t,e){return(Ra(t)?u:Me)(t,Pi(Wn(e,3)))},r.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=Wn(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return Pr(t,i),r},r.rest=function(t,e){if("function"!=typeof t)throw new Eo(Y);return Fr(t,e=e===$?e:$i(e))},r.reverse=gi,r.sampleSize=function(t,e,r){return e=(r?Kn(t,e,r):e===$)?1:$i(e),(Ra(t)?ye:Mr)(t,e)},r.set=function(t,e,r){return null==t?t:Ir(t,e,r)},r.setWith=function(t,e,r,n){return n="function"==typeof n?n:$,null==t?t:Ir(t,e,r,n)},r.shuffle=function(t){return(Ra(t)?be:Ur)(t)},r.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&Kn(t,e,r)?(e=0,r=n):(e=null==e?0:$i(e),r=r===$?n:$i(r)),Nr(t,e,r)):[]},r.sortBy=ma,r.sortedUniq=function(t){return t&&t.length?Wr(t):[]},r.sortedUniqBy=function(t,e){return t&&t.length?Wr(t,Wn(e,2)):[]},r.split=function(t,e,r){return r&&"number"!=typeof r&&Kn(t,e,r)&&(e=r=$),(r=r===$?it:r>>>0)?(t=Ki(t))&&("string"==typeof e||null!=e&&!La(e))&&(!(e=Hr(e))&&I(t))?en(V(t),0,r):t.split(e,r):[]},r.spread=function(t,e){if("function"!=typeof t)throw new Eo(Y);return e=null==e?0:is($i(e),0),Fr((function(r){var i=r[e],o=en(r,0,e);return i&&h(o,i),n(t,this,o)}))},r.tail=function(t){var e=null==t?0:t.length;return e?Nr(t,1,e):[]},r.take=function(t,e,r){return t&&t.length?Nr(t,0,(e=r||e===$?1:$i(e))<0?0:e):[]},r.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?Nr(t,(e=n-(e=r||e===$?1:$i(e)))<0?0:e,n):[]},r.takeRightWhile=function(t,e){return t&&t.length?Gr(t,Wn(e,3),!1,!0):[]},r.takeWhile=function(t,e){return t&&t.length?Gr(t,Wn(e,3)):[]},r.tap=function(t,e){return e(t),t},r.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new Eo(Y);return Ni(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ci(t,e,{leading:n,maxWait:e,trailing:i})},r.thru=ji,r.toArray=Hi,r.toPairs=Za,r.toPairsIn=tu,r.toPath=function(t){return Ra(t)?f(t,ci):Vi(t)?[t]:cn(Hs(Ki(t)))},r.toPlainObject=Ji,r.transform=function(t,e,r){var n=Ra(t),i=n||Ta(t)||Ia(t);if(e=Wn(e,4),null==r){var s=t&&t.constructor;r=i?n?new s:[]:Ni(t)&&Mi(s)?Os(qo(t)):{}}return(i?o:Ue)(t,(function(t,n,i){return e(r,t,n,i)})),r},r.unary=function(t){return Oi(t,1)},r.union=Zs,r.unionBy=ta,r.unionWith=ea,r.uniq=function(t){return t&&t.length?zr(t):[]},r.uniqBy=function(t,e){return t&&t.length?zr(t,Wn(e,2)):[]},r.uniqWith=function(t,e){return e="function"==typeof e?e:$,t&&t.length?zr(t,$,e):[]},r.unset=function(t,e){return null==t||$r(t,e)},r.unzip=yi,r.unzipWith=bi,r.update=function(t,e,r){return null==t?t:Yr(t,e,Zr(r))},r.updateWith=function(t,e,r,n){return n="function"==typeof n?n:$,null==t?t:Yr(t,e,Zr(r),n)},r.values=ro,r.valuesIn=function(t){return null==t?[]:P(t,to(t))},r.without=ra,r.words=oo,r.wrap=function(t,e){return Ea(Zr(e),t)},r.xor=na,r.xorBy=ia,r.xorWith=oa,r.zip=sa,r.zipObject=function(t,e){return Xr(t||[],e||[],je)},r.zipObjectDeep=function(t,e){return Xr(t||[],e||[],Ir)},r.zipWith=aa,r.entries=Za,r.entriesIn=tu,r.extend=qa,r.extendWith=Ba,co(r,r),r.add=bu,r.attempt=cu,r.camelCase=eu,r.capitalize=no,r.ceil=wu,r.clamp=function(t,e,r){return r===$&&(r=e,e=$),r!==$&&(r=(r=Gi(r))==r?r:0),e!==$&&(e=(e=Gi(e))==e?e:0),Ce(Gi(t),e,r)},r.clone=function(t){return Re(t,4)},r.cloneDeep=function(t){return Re(t,5)},r.cloneDeepWith=function(t,e){return Re(t,5,e="function"==typeof e?e:$)},r.cloneWith=function(t,e){return Re(t,4,e="function"==typeof e?e:$)},r.conformsTo=function(t,e){return null==e||Pe(t,e,Zi(e))},r.deburr=io,r.defaultTo=function(t,e){return null==t||t!=t?e:t},r.divide=ju,r.endsWith=function(t,e,r){t=Ki(t),e=Hr(e);var n=t.length,i=r=r===$?n:Ce($i(r),0,n);return(r-=e.length)>=0&&t.slice(r,i)==e},r.eq=Ti,r.escape=function(t){return(t=Ki(t))&&Dt.test(t)?t.replace(Ut,vr):t},r.escapeRegExp=function(t){return(t=Ki(t))&&Yt.test(t)?t.replace($t,"\\$&"):t},r.every=function(t,e,r){var n=Ra(t)?a:Fe;return r&&Kn(t,e,r)&&(e=$),n(t,Wn(e,3))},r.find=la,r.findIndex=hi,r.findKey=function(t,e){return v(t,Wn(e,3),Ue)},r.findLast=fa,r.findLastIndex=pi,r.findLastKey=function(t,e){return v(t,Wn(e,3),Ne)},r.floor=Eu,r.forEach=Ei,r.forEachRight=ki,r.forIn=function(t,e){return null==t?t:Rs(t,Wn(e,3),to)},r.forInRight=function(t,e){return null==t?t:Ps(t,Wn(e,3),to)},r.forOwn=function(t,e){return t&&Ue(t,Wn(e,3))},r.forOwnRight=function(t,e){return t&&Ne(t,Wn(e,3))},r.get=Xi,r.gt=Oa,r.gte=Sa,r.has=function(t,e){return null!=t&&$n(t,e,$e)},r.hasIn=Qi,r.head=_i,r.identity=ao,r.includes=function(t,e,r,n){t=Ai(t)?t:ro(t),r=r&&!n?$i(r):0;var i=t.length;return r<0&&(r=is(i+r,0)),Wi(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&y(t,e,r)>-1},r.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:$i(r);return i<0&&(i=is(n+i,0)),y(t,e,i)},r.inRange=function(t,e,r){return e=zi(e),r===$?(r=e,e=0):r=zi(r),function(t,e,r){return t>=os(e,r)&&t<is(e,r)}(t=Gi(t),e,r)},r.invoke=Ga,r.isArguments=Ca,r.isArray=Ra,r.isArrayBuffer=Pa,r.isArrayLike=Ai,r.isArrayLikeObject=Fi,r.isBoolean=function(t){return!0===t||!1===t||Di(t)&&He(t)==ut},r.isBuffer=Ta,r.isDate=Aa,r.isElement=function(t){return Di(t)&&1===t.nodeType&&!Bi(t)},r.isEmpty=function(t){if(null==t)return!0;if(Ai(t)&&(Ra(t)||"string"==typeof t||"function"==typeof t.splice||Ta(t)||Ia(t)||Ca(t)))return!t.length;var e=Ds(t);if(e==pt||e==gt)return!t.size;if(Zn(t))return!_r(t).length;for(var r in t)if(Ro.call(t,r))return!1;return!0},r.isEqual=function(t,e){return ir(t,e)},r.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:$)?r(t,e):$;return n===$?ir(t,e,$,r):!!n},r.isError=Li,r.isFinite=function(t){return"number"==typeof t&&es(t)},r.isFunction=Mi,r.isInteger=Ii,r.isLength=Ui,r.isMap=Fa,r.isMatch=function(t,e){return t===e||or(t,e,Hn(e))},r.isMatchWith=function(t,e,r){return r="function"==typeof r?r:$,or(t,e,Hn(e),r)},r.isNaN=function(t){return qi(t)&&t!=+t},r.isNative=function(t){if(qs(t))throw new vo("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ar(t)},r.isNil=function(t){return null==t},r.isNull=function(t){return null===t},r.isNumber=qi,r.isObject=Ni,r.isObjectLike=Di,r.isPlainObject=Bi,r.isRegExp=La,r.isSafeInteger=function(t){return Ii(t)&&t>=-rt&&t<=rt},r.isSet=Ma,r.isString=Wi,r.isSymbol=Vi,r.isTypedArray=Ia,r.isUndefined=function(t){return t===$},r.isWeakMap=function(t){return Di(t)&&Ds(t)==wt},r.isWeakSet=function(t){return Di(t)&&"[object WeakSet]"==He(t)},r.join=function(t,e){return null==t?"":rs.call(t,e)},r.kebabCase=ru,r.last=mi,r.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n;return r!==$&&(i=(i=$i(r))<0?is(n+i,0):os(i,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,i):g(t,w,i,!0)},r.lowerCase=nu,r.lowerFirst=iu,r.lt=Ua,r.lte=Na,r.max=function(t){return t&&t.length?Le(t,ao,ze):$},r.maxBy=function(t,e){return t&&t.length?Le(t,Wn(e,2),ze):$},r.mean=function(t){return j(t,ao)},r.meanBy=function(t,e){return j(t,Wn(e,2))},r.min=function(t){return t&&t.length?Le(t,ao,wr):$},r.minBy=function(t,e){return t&&t.length?Le(t,Wn(e,2),wr):$},r.stubArray=ho,r.stubFalse=po,r.stubObject=function(){return{}},r.stubString=function(){return""},r.stubTrue=function(){return!0},r.multiply=ku,r.nth=function(t,e){return t&&t.length?Or(t,$i(e)):$},r.noConflict=function(){return nr._===this&&(nr._=Lo),this},r.noop=lo,r.now=va,r.pad=function(t,e,r){t=Ki(t);var n=(e=$i(e))?W(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return xn(Qo(i),r)+t+xn(Xo(i),r)},r.padEnd=function(t,e,r){t=Ki(t);var n=(e=$i(e))?W(t):0;return e&&n<e?t+xn(e-n,r):t},r.padStart=function(t,e,r){t=Ki(t);var n=(e=$i(e))?W(t):0;return e&&n<e?xn(e-n,r)+t:t},r.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),as(Ki(t).replace(Gt,""),e||0)},r.random=function(t,e,r){if(r&&"boolean"!=typeof r&&Kn(t,e,r)&&(e=r=$),r===$&&("boolean"==typeof e?(r=e,e=$):"boolean"==typeof t&&(r=t,t=$)),t===$&&e===$?(t=0,e=1):(t=zi(t),e===$?(e=t,t=0):e=zi(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var i=us();return os(t+i*(e-t+Ze("1e-"+((i+"").length-1))),e)}return Tr(t,e)},r.reduce=function(t,e,r){var n=Ra(t)?p:x,i=arguments.length<3;return n(t,Wn(e,4),r,i,Ss)},r.reduceRight=function(t,e,r){var n=Ra(t)?d:x,i=arguments.length<3;return n(t,Wn(e,4),r,i,Cs)},r.repeat=function(t,e,r){return e=(r?Kn(t,e,r):e===$)?1:$i(e),Ar(Ki(t),e)},r.replace=function(){var t=arguments,e=Ki(t[0]);return t.length<3?e:e.replace(t[1],t[2])},r.result=function(t,e,r){var n=-1,i=(e=tn(e,t)).length;for(i||(i=1,t=$);++n<i;){var o=null==t?$:t[ci(e[n])];o===$&&(n=i,o=r),t=Mi(o)?o.call(t):o}return t},r.round=xu,r.runInContext=t,r.sample=function(t){return(Ra(t)?ge:Lr)(t)},r.size=function(t){if(null==t)return 0;if(Ai(t))return Wi(t)?W(t):t.length;var e=Ds(t);return e==pt||e==gt?t.size:_r(t).length},r.snakeCase=ou,r.some=function(t,e,r){var n=Ra(t)?_:Dr;return r&&Kn(t,e,r)&&(e=$),n(t,Wn(e,3))},r.sortedIndex=function(t,e){return qr(t,e)},r.sortedIndexBy=function(t,e,r){return Br(t,e,Wn(r,2))},r.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=qr(t,e);if(n<r&&Ti(t[n],e))return n}return-1},r.sortedLastIndex=function(t,e){return qr(t,e,!0)},r.sortedLastIndexBy=function(t,e,r){return Br(t,e,Wn(r,2),!0)},r.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=qr(t,e,!0)-1;if(Ti(t[r],e))return r}return-1},r.startCase=su,r.startsWith=function(t,e,r){return t=Ki(t),r=null==r?0:Ce($i(r),0,t.length),e=Hr(e),t.slice(r,r+e.length)==e},r.subtract=Ou,r.sum=function(t){return t&&t.length?O(t,ao):0},r.sumBy=function(t,e){return t&&t.length?O(t,Wn(e,2)):0},r.template=function(t,e,n){var i=r.templateSettings;n&&Kn(t,e,n)&&(e=$),t=Ki(t),e=Ba({},e,i,Fn);var o,s,a=Ba({},e.imports,i.imports,Fn),u=Zi(a),c=P(a,u),l=0,f=e.interpolate||le,h="__p += '",p=wo((e.escape||le).source+"|"+f.source+"|"+(f===Wt?re:le).source+"|"+(e.evaluate||le).source+"|$","g"),d="//# sourceURL="+(Ro.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Je+"]")+"\n";t.replace(p,(function(e,r,n,i,a,u){return n||(n=i),h+=t.slice(l,u).replace(fe,M),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),h+="';\n";var _=Ro.call(e,"variable")&&e.variable;if(_){if(te.test(_))throw new vo("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(Ft,""):h).replace(Lt,"$1").replace(Mt,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=cu((function(){return go(u,d+"return "+h).apply($,c)}));if(m.source=h,Li(m))throw m;return m},r.times=function(t,e){if((t=$i(t))<1||t>rt)return[];var r=it,n=os(t,it);e=Wn(e),t-=it;for(var i=S(n,e);++r<t;)e(r);return i},r.toFinite=zi,r.toInteger=$i,r.toLength=Yi,r.toLower=function(t){return Ki(t).toLowerCase()},r.toNumber=Gi,r.toSafeInteger=function(t){return t?Ce($i(t),-rt,rt):0===t?t:0},r.toString=Ki,r.toUpper=function(t){return Ki(t).toUpperCase()},r.trim=function(t,e,r){if((t=Ki(t))&&(r||e===$))return C(t);if(!t||!(e=Hr(e)))return t;var n=V(t),i=V(e);return en(n,A(n,i),F(n,i)+1).join("")},r.trimEnd=function(t,e,r){if((t=Ki(t))&&(r||e===$))return t.slice(0,H(t)+1);if(!t||!(e=Hr(e)))return t;var n=V(t);return en(n,0,F(n,V(e))+1).join("")},r.trimStart=function(t,e,r){if((t=Ki(t))&&(r||e===$))return t.replace(Gt,"");if(!t||!(e=Hr(e)))return t;var n=V(t);return en(n,A(n,V(e))).join("")},r.truncate=function(t,e){var r=30,n="...";if(Ni(e)){var i="separator"in e?e.separator:i;r="length"in e?$i(e.length):r,n="omission"in e?Hr(e.omission):n}var o=(t=Ki(t)).length;if(I(t)){var s=V(t);o=s.length}if(r>=o)return t;var a=r-W(n);if(a<1)return n;var u=s?en(s,0,a).join(""):t.slice(0,a);if(i===$)return u+n;if(s&&(a+=u.length-a),La(i)){if(t.slice(a).search(i)){var c,l=u;for(i.global||(i=wo(i.source,Ki(ne.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,f===$?a:f)}}else if(t.indexOf(Hr(i),a)!=a){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+n},r.unescape=function(t){return(t=Ki(t))&&Nt.test(t)?t.replace(It,gr):t},r.uniqueId=function(t){var e=++Po;return Ki(t)+e},r.upperCase=au,r.upperFirst=uu,r.each=Ei,r.eachRight=ki,r.first=_i,co(r,function(){var t={};return Ue(r,(function(e,n){Ro.call(r.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),r.VERSION="4.17.21",o(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){r[t].placeholder=r})),o(["drop","take"],(function(t,e){Zt.prototype[t]=function(r){r=r===$?1:is($i(r),0);var n=this.__filtered__&&!e?new Zt(this):this.clone();return n.__filtered__?n.__takeCount__=os(r,n.__takeCount__):n.__views__.push({size:os(r,it),type:t+(n.__dir__<0?"Right":"")}),n},Zt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),o(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Zt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Wn(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),o(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Zt.prototype[t]=function(){return this[r](1).value()[0]}})),o(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Zt.prototype[t]=function(){return this.__filtered__?new Zt(this):this[r](1)}})),Zt.prototype.compact=function(){return this.filter(ao)},Zt.prototype.find=function(t){return this.filter(t).head()},Zt.prototype.findLast=function(t){return this.reverse().find(t)},Zt.prototype.invokeMap=Fr((function(t,e){return"function"==typeof t?new Zt(this):this.map((function(r){return er(r,t,e)}))})),Zt.prototype.reject=function(t){return this.filter(Pi(Wn(t)))},Zt.prototype.slice=function(t,e){t=$i(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Zt(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==$&&(r=(e=$i(e))<0?r.dropRight(-e):r.take(e-t)),r)},Zt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Zt.prototype.toArray=function(){return this.take(it)},Ue(Zt.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=r[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);o&&(r.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,u=e instanceof Zt,c=a[0],l=u||Ra(e),f=function(t){var e=o.apply(r,h([t],a));return i&&p?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var p=this.__chain__,d=!!this.__actions__.length,_=s&&!p,m=u&&!d;if(!s&&l){e=m?e:new Zt(this);var v=t.apply(e,a);return v.__actions__.push({func:ji,args:[f],thisArg:$}),new Jt(v,p)}return _&&m?t.apply(this,a):(v=this.thru(f),_?i?v.value()[0]:v.value():v)})})),o(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ko[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);r.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Ra(r)?r:[],t)}return this[n]((function(r){return e.apply(Ra(r)?r:[],t)}))}})),Ue(Zt.prototype,(function(t,e){var n=r[e];if(n){var i=n.name+"";Ro.call(vs,i)||(vs[i]=[]),vs[i].push({name:e,func:n})}})),vs[wn($,2).name]=[{name:"wrapper",func:$}],Zt.prototype.clone=function(){var t=new Zt(this.__wrapped__);return t.__actions__=cn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=cn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=cn(this.__views__),t},Zt.prototype.reverse=function(){if(this.__filtered__){var t=new Zt(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Zt.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Ra(t),n=e<0,i=r?t.length:0,o=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=os(e,t+s);break;case"takeRight":t=is(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=n?a:s-1,l=this.__iteratees__,f=l.length,h=0,p=os(u,this.__takeCount__);if(!r||!n&&i==u&&p==u)return Jr(t,this.__actions__);var d=[];t:for(;u--&&h<p;){for(var _=-1,m=t[c+=e];++_<f;){var v=l[_],g=v.iteratee,y=v.type,b=g(m);if(2==y)m=b;else if(!b){if(1==y)continue t;break t}}d[h++]=m}return d},r.prototype.at=ua,r.prototype.chain=function(){return wi(this)},r.prototype.commit=function(){return new Jt(this.value(),this.__chain__)},r.prototype.next=function(){this.__values__===$&&(this.__values__=Hi(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?$:this.__values__[this.__index__++]}},r.prototype.plant=function(t){for(var e,r=this;r instanceof k;){var n=fi(r);n.__index__=0,n.__values__=$,e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e},r.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Zt){var e=t;return this.__actions__.length&&(e=new Zt(this)),(e=e.reverse()).__actions__.push({func:ji,args:[gi],thisArg:$}),new Jt(e,this.__chain__)}return this.thru(gi)},r.prototype.toJSON=r.prototype.valueOf=r.prototype.value=function(){return Jr(this.__wrapped__,this.__actions__)},r.prototype.first=r.prototype.head,zo&&(r.prototype[zo]=function(){return this}),r}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nr._=yr,define((function(){return yr}))):or?((or.exports=yr)._=yr,ir._=yr):nr._=yr}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,r){(function(t){"use strict";!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,t("_process"))},{_process:38}],38:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(){_&&p&&(_=!1,p.length?d=p.concat(d):m=-1,d.length&&a())}function a(){if(!_){var t=o(s);_=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,_=!1,function(t){if(f===clearTimeout)return clearTimeout(t);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(t){f=i}}();var p,d=[],_=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new u(t,e)),1!==d.length||_||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],39:[function(t,e,r){"use strict";var n,i=function(t){if("object"==typeof t&&t&&"function"==typeof t.then&&"undefined"!=typeof Proxy){var e=function(){return t};return e._promise_chain_cache=Object.create(null),new Proxy(e,n)}return t};"undefined"!=typeof Proxy&&("undefined"==typeof Reflect&&t("harmony-reflect"),n={get:function(t,e){return"inspect"===e?function(){return"[chainable Promise]"}:"_raw"===e?t():"symbol"==typeof e?t()[e]:e in t()?"constructor"===e||e.startsWith("_")||"function"!=typeof t()[e]?t()[e]:function(){return i(t()[e].apply(t(),arguments))}:Object.prototype.hasOwnProperty.call(t._promise_chain_cache,e)?t._promise_chain_cache[e]:t().isFulfilled&&t().isFulfilled()&&"function"==typeof t().value?i(t().constructor.resolve(t().value()[e])):(t._promise_chain_cache[e]=i(t().then((function(t){if(t&&("object"==typeof t||"function"==typeof t))return i(t[e]);throw new TypeError("Promise chain rejection: Cannot read property '"+e+"' of "+t+".")}))),t._promise_chain_cache[e])},apply:function(t,e,r){return i(t().constructor.all([t(),e]).then((function(t){if("function"==typeof t[0])return i(Reflect.apply(t[0],t[1],r));throw new TypeError("Promise chain rejection: Attempted to call "+t[0]+" which is not a function.")})))},construct:function(t,e){return i(t().then((function(t){return i(Reflect.construct(t,e))})))}},Object.getOwnPropertyNames(Reflect).forEach((function(t){n[t]=n[t]||function(e,r,n,i){return Reflect[t](e(),r,n,i)}}))),e.exports=i},{"harmony-reflect":27}],40:[function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,h,p,d,_=t[l].replace(a,"%20"),m=_.indexOf(r);m>=0?(f=_.substr(0,m),h=_.substr(m+1)):(f=_,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),n(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],41:[function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(s(t),(function(s){var a=encodeURIComponent(i(s))+r;return o(t[s])?n(t[s],(function(t){return a+encodeURIComponent(i(t))})).join(e):a+encodeURIComponent(i(t[s]))})).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],42:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":40,"./encode":41}],43:[function(t,e,r){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":44}],44:[function(t,e,r){"use strict";function n(t){return this instanceof n?(c.call(this,t),l.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),void this.once("end",i)):new n(t)}function i(){this.allowHalfOpen||this._writableState.ended||s.nextTick(o,this)}function o(t){t.end()}var s=t("process-nextick-args"),a=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};e.exports=n;var u=t("core-util-is");u.inherits=t("inherits");var c=t("./_stream_readable"),l=t("./_stream_writable");u.inherits(n,c);for(var f=a(l.prototype),h=0;h<f.length;h++){var p=f[h];n.prototype[p]||(n.prototype[p]=l.prototype[p])}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),n.prototype._destroy=function(t,e){this.push(null),this.end(),s.nextTick(e,t)}},{"./_stream_readable":46,"./_stream_writable":48,"core-util-is":30,inherits:33,"process-nextick-args":37}],45:[function(t,e,r){"use strict";function n(t){return this instanceof n?void i.call(this,t):new n(t)}e.exports=n;var i=t("./_stream_transform"),o=t("core-util-is");o.inherits=t("inherits"),o.inherits(n,i),n.prototype._transform=function(t,e,r){r(null,t)}},{"./_stream_transform":47,"core-util-is":30,inherits:33}],46:[function(t,e,r){(function(r,n){"use strict";function i(e,r){e=e||{};var n=r instanceof(j=j||t("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(T||(T=t("string_decoder/").StringDecoder),this.decoder=new T(e.encoding),this.encoding=e.encoding)}function o(e){return j=j||t("./_stream_duplex"),this instanceof o?(this._readableState=new i(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),void x.call(this)):new o(e)}function s(t,e,r,n,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,l(t)}}(t,s)):(i||(o=u(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===O.prototype||(e=function(t){return O.from(t)}(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):a(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?a(t,s,e,!1):h(t,s)):a(t,s,e,!1))):n||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function a(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&l(t)),h(t,e)}function u(t,e){var r;return function(t){return O.isBuffer(t)||t instanceof S}(e)||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function c(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=M?t=M:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function l(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(P("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?w.nextTick(f,t):f(t))}function f(t){P("emit readable"),t.emit("readable"),m(t)}function h(t,e){e.readingMore||(e.readingMore=!0,w.nextTick(p,t,e))}function p(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(P("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function d(t){P("readable nexttick read 0"),t.read(0)}function _(t,e){e.reading||(P("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),m(t),e.flowing&&!e.reading&&t.read(0)}function m(t){var e=t._readableState;for(P("flow",e.flowing);e.flowing&&null!==t.read(););}function v(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(i+=s===o.length?o:o.slice(0,t),0===(t-=s)){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=O.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e),n}(t,e.buffer,e.decoder),r);var r}function g(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,w.nextTick(y,e,t))}function y(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function b(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var w=t("process-nextick-args");e.exports=o;var j,E=t("isarray");o.ReadableState=i;var k=(t("events").EventEmitter,function(t,e){return t.listeners(e).length}),x=t("./internal/streams/stream"),O=t("safe-buffer").Buffer,S=n.Uint8Array||function(){},C=t("core-util-is");C.inherits=t("inherits");var R=t("util"),P=void 0;P=R&&R.debuglog?R.debuglog("stream"):function(){};var T,A=t("./internal/streams/BufferList"),F=t("./internal/streams/destroy");C.inherits(o,x);var L=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),o.prototype.destroy=F.destroy,o.prototype._undestroy=F.undestroy,o.prototype._destroy=function(t,e){this.push(null),e(t)},o.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=O.from(t,e),e=""),r=!0),s(this,t,e,!1,r)},o.prototype.unshift=function(t){return s(this,t,null,!0,!1)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(e){return T||(T=t("string_decoder/").StringDecoder),this._readableState.decoder=new T(e),this._readableState.encoding=e,this};var M=8388608;o.prototype.read=function(t){P("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return P("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?g(this):l(this),null;if(0===(t=c(t,e))&&e.ended)return 0===e.length&&g(this),null;var n,i=e.needReadable;return P("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&P("length less than watermark",i=!0),e.ended||e.reading?P("reading or ended",i=!1):i&&(P("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=c(r,e))),null===(n=t>0?v(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&g(this)),null!==n&&this.emit("data",n),n},o.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(t,e){function n(t,e){P("onunpipe"),t===f&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,o())}function i(){P("onend"),t.end()}function o(){P("cleanup"),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("drain",d),t.removeListener("error",a),t.removeListener("unpipe",n),f.removeListener("end",i),f.removeListener("end",l),f.removeListener("data",s),_=!0,!h.awaitDrain||t._writableState&&!t._writableState.needDrain||d()}function s(e){P("ondata"),v=!1,!1!==t.write(e)||v||((1===h.pipesCount&&h.pipes===t||h.pipesCount>1&&-1!==b(h.pipes,t))&&!_&&(P("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,v=!0),f.pause())}function a(e){P("onerror",e),l(),t.removeListener("error",a),0===k(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",c),l()}function c(){P("onfinish"),t.removeListener("close",u),l()}function l(){P("unpipe"),f.unpipe(t)}var f=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1,P("pipe count=%d opts=%j",h.pipesCount,e);var p=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?i:l;h.endEmitted?w.nextTick(p):f.once("end",p),t.on("unpipe",n);var d=function(t){return function(){var e=t._readableState;P("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&k(t,"data")&&(e.flowing=!0,m(t))}}(f);t.on("drain",d);var _=!1,v=!1;return f.on("data",s),function(t,e,r){"function"==typeof t.prependListener?t.prependListener(e,r):t._events&&t._events[e]?E(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",a),t.once("close",u),t.once("finish",c),t.emit("pipe",f),h.flowing||(P("pipe resume"),f.resume()),t},o.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=b(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},o.prototype.on=function(t,e){var r=x.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&l(this):w.nextTick(d,this))}return r},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var t=this._readableState;return t.flowing||(P("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,w.nextTick(_,t,e))}(this,t)),this},o.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(P("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(P("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||!(r.objectMode||i&&i.length))||(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<L.length;o++)t.on(L[o],this.emit.bind(this,L[o]));return this._read=function(e){P("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),o._fromList=v}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":44,"./internal/streams/BufferList":49,"./internal/streams/destroy":50,"./internal/streams/stream":51,_process:38,"core-util-is":30,events:31,inherits:33,isarray:35,"process-nextick-args":37,"safe-buffer":56,"string_decoder/":58,util:27}],47:[function(t,e,r){"use strict";function n(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(t){return this instanceof i?(a.call(this,t),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),void this.on("prefinish",o)):new i(t)}function o(){var t=this;"function"==typeof this._flush?this._flush((function(e,r){s(t,e,r)})):s(this,null,null)}function s(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}e.exports=i;var a=t("./_stream_duplex"),u=t("core-util-is");u.inherits=t("inherits"),u.inherits(i,a),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(t,e){var r=this;a.prototype._destroy.call(this,t,(function(t){e(t),r.emit("close")}))}},{"./_stream_duplex":44,"core-util-is":30,inherits:33}],48:[function(t,e,r){(function(r,n,i){"use strict";function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}function s(){}function a(e,r){v=v||t("./_stream_duplex"),e=e||{};var n=r instanceof v;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,s=e.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(m.nextTick(i,n),m.nextTick(_,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),_(t,e))}(t,r,n,e,i);else{var o=p(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||h(t,r),n?g(f,t,r,o,i):f(t,r,o,i)}}(r,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function u(e){return v=v||t("./_stream_duplex"),b.call(u,this)||this instanceof v?(this._writableState=new a(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),void j.call(this)):new u(e)}function c(t,e,r,n,i,o){if(!r){var s=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=E.from(e,r)),e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else l(t,e,!1,a,n,i,o);return u}function l(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function f(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),_(t,e)}function h(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,l(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,h=r.callback;if(l(t,e,!1,e.objectMode?1:c.length,c,f,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function p(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function d(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),_(t,e)}))}function _(t,e){var r=p(e);return r&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,m.nextTick(d,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}var m=t("process-nextick-args");e.exports=u;var v,g=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?i:m.nextTick;u.WritableState=a;var y=t("core-util-is");y.inherits=t("inherits");var b,w={deprecate:t("util-deprecate")},j=t("./internal/streams/stream"),E=t("safe-buffer").Buffer,k=n.Uint8Array||function(){},x=t("./internal/streams/destroy");y.inherits(u,j),a.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(a.prototype,"buffer",{get:w.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(t){return!!b.call(this,t)||this===u&&t&&t._writableState instanceof a}})):b=function(t){return t instanceof this},u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},u.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&function(t){return E.isBuffer(t)||t instanceof k}(t);return o&&!E.isBuffer(t)&&(t=function(t){return E.from(t)}(t)),"function"==typeof e&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=s),n.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),m.nextTick(e,r)}(this,r):(o||function(t,e,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),m.nextTick(n,o),i=!1),i}(this,n,t,r))&&(n.pendingcb++,i=c(this,n,o,t,e,r)),i},u.prototype.cork=function(){this._writableState.corked++},u.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||h(this,t))},u.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),u.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},u.prototype._writev=null,u.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,_(t,e),r&&(e.finished?m.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),u.prototype.destroy=x.destroy,u.prototype._undestroy=x.undestroy,u.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{"./_stream_duplex":44,"./internal/streams/destroy":50,"./internal/streams/stream":51,_process:38,"core-util-is":30,inherits:33,"process-nextick-args":37,"safe-buffer":56,timers:59,"util-deprecate":62}],49:[function(t,e,r){"use strict";function n(t,e,r){t.copy(e,r)}var i=t("safe-buffer").Buffer,o=t("util");e.exports=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),r=this.head,o=0;r;)n(r.data,e,o),o+=r.data.length,r=r.next;return e},t}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":56,util:27}],50:[function(t,e,r){"use strict";function n(t,e){t.emit("error",e)}var i=t("process-nextick-args");e.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(n,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(i.nextTick(n,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":37}],51:[function(t,e,r){e.exports=t("events").EventEmitter},{events:31}],52:[function(t,e,r){e.exports=t("./readable").PassThrough},{"./readable":53}],53:[function(t,e,r){(r=e.exports=t("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=t("./lib/_stream_writable.js"),r.Duplex=t("./lib/_stream_duplex.js"),r.Transform=t("./lib/_stream_transform.js"),r.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":44,"./lib/_stream_passthrough.js":45,"./lib/_stream_readable.js":46,"./lib/_stream_transform.js":47,"./lib/_stream_writable.js":48}],54:[function(t,e,r){e.exports=t("./readable").Transform},{"./readable":53}],55:[function(t,e,r){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":48}],56:[function(t,e,r){function n(t,e){for(var r in t)e[r]=t[r]}function i(t,e,r){return s(t,e,r)}var o=t("buffer"),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=o:(n(o,r),r.Buffer=i),n(s,i),i.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,r)},i.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=s(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},{buffer:29}],57:[function(t,e,r){function n(){i.call(this)}e.exports=n;var i=t("events").EventEmitter;t("inherits")(n,i),n.Readable=t("readable-stream/readable.js"),n.Writable=t("readable-stream/writable.js"),n.Duplex=t("readable-stream/duplex.js"),n.Transform=t("readable-stream/transform.js"),n.PassThrough=t("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function n(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,t.end())}function s(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){c.removeListener("data",r),t.removeListener("drain",n),c.removeListener("end",o),c.removeListener("close",s),c.removeListener("error",a),t.removeListener("error",a),c.removeListener("end",u),c.removeListener("close",u),t.removeListener("close",u)}var c=this;c.on("data",r),t.on("drain",n),t._isStdio||e&&!1===e.end||(c.on("end",o),c.on("close",s));var l=!1;return c.on("error",a),t.on("error",a),c.on("end",u),c.on("close",u),t.on("close",u),t.emit("pipe",c),t}},{events:31,inherits:33,"readable-stream/duplex.js":43,"readable-stream/passthrough.js":52,"readable-stream/readable.js":53,"readable-stream/transform.js":54,"readable-stream/writable.js":55}],58:[function(t,e,r){"use strict";function n(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(h.isEncoding===p||!p(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=s,this.end=a,e=4;break;case"utf8":this.fillLast=o,e=4;break;case"base64":this.text=u,this.end=c,e=3;break;default:return this.write=l,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=h.allocUnsafe(e)}function i(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function o(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function a(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function u(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}var h=t("safe-buffer").Buffer,p=h.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};r.StringDecoder=n,n.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},n.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},n.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var o=i(e[n]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--n<r||-2===o?0:(o=i(e[n]))>=0?(o>0&&(t.lastNeed=o-2),o):--n<r||-2===o?0:(o=i(e[n]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},n.prototype.fillLast=function(t){return this.lastNeed<=t.length?(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),void(this.lastNeed-=t.length))}},{"safe-buffer":56}],59:[function(t,e,r){(function(e,n){function i(t,e){this._id=t,this._clearFn=e}var o=t("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;r.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r.setImmediate="function"==typeof e?e:function(t){var e=c++,n=!(arguments.length<2)&&a.call(arguments,1);return u[e]=!0,o((function(){u[e]&&(n?t.apply(null,n):t.call(null),r.clearImmediate(e))})),e},r.clearImmediate="function"==typeof n?n:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":38,timers:59}],60:[function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,r){if(t&&s.isObject(t)&&t instanceof n)return t;var i=new n;return i.parse(t,e,r),i}var o=t("punycode"),s=t("./util");r.parse=i,r.resolve=function(t,e){return i(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?i(t,!1,!0).resolveObject(e):e},r.format=function(t){return s.isString(t)&&(t=i(t)),t instanceof n?t.format():n.prototype.format.call(t)},r.Url=n;var a=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(l),h=["%","/","?",";","#"].concat(f),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=t("querystring");n.prototype.parse=function(t,e,r){if(!s.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=-1!==n&&n<t.indexOf("#")?"?":"#",u=t.split(i);u[0]=u[0].replace(/\\/g,"/");var l=t=u.join(i);if(l=l.trim(),!r&&1===t.split("#").length){var b=c.exec(l);if(b)return this.path=l,this.href=l,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(l);if(w){var j=(w=w[0]).toLowerCase();this.protocol=j,l=l.substr(w.length)}if(r||w||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===l.substr(0,2);!E||w&&v[w]||(l=l.substr(2),this.slashes=!0)}if(!v[w]&&(E||w&&!g[w])){for(var k=-1,x=0;x<p.length;x++){-1!==(C=l.indexOf(p[x]))&&(-1===k||C<k)&&(k=C)}var O,S;-1!==(S=-1===k?l.lastIndexOf("@"):l.lastIndexOf("@",k))&&(O=l.slice(0,S),l=l.slice(S+1),this.auth=decodeURIComponent(O)),k=-1;for(x=0;x<h.length;x++){var C;-1!==(C=l.indexOf(h[x]))&&(-1===k||C<k)&&(k=C)}-1===k&&(k=l.length),this.host=l.slice(0,k),l=l.slice(k),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var P=this.hostname.split(/\./),T=(x=0,P.length);x<T;x++){var A=P[x];if(A&&!A.match(d)){for(var F="",L=0,M=A.length;L<M;L++)F+=A.charCodeAt(L)>127?"x":A[L];if(!F.match(d)){var I=P.slice(0,x),U=P.slice(x+1),N=A.match(_);N&&(I.push(N[1]),U.unshift(N[2])),U.length&&(l="/"+U.join(".")+l),this.hostname=I.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=o.toASCII(this.hostname));var D=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+D,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==l[0]&&(l="/"+l))}if(!m[j])for(x=0,T=f.length;x<T;x++){var B=f[x];if(-1!==l.indexOf(B)){var W=encodeURIComponent(B);W===B&&(W=escape(B)),l=l.split(B).join(W)}}var V=l.indexOf("#");-1!==V&&(this.hash=l.substr(V),l=l.slice(0,V));var H=l.indexOf("?");if(-1!==H?(this.search=l.substr(H),this.query=l.substr(H+1),e&&(this.query=y.parse(this.query)),l=l.slice(0,H)):e&&(this.search="",this.query={}),l&&(this.pathname=l),g[j]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var z=this.search||"";this.path=D+z}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),e+i+r+(a=a.replace("#","%23"))+n},n.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(s.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=t[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var f=Object.keys(t),h=0;h<f.length;h++){var p=f[h];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var _=r.pathname||"",m=r.search||"";r.path=_+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=b||y||r.host&&t.pathname,j=w,E=r.pathname&&r.pathname.split("/")||[],k=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===E[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),r.search=t.search,r.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(k)r.hostname=r.host=E.shift(),(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift());return r.search=t.search,r.query=t.query,s.isNull(r.pathname)&&s.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=E.slice(-1)[0],O=(r.host||t.host||E.length>1)&&("."===x||".."===x)||""===x,S=0,C=E.length;C>=0;C--)"."===(x=E[C])?E.splice(C,1):".."===x?(E.splice(C,1),S++):S&&(E.splice(C,1),S--);if(!w&&!j)for(;S--;S)E.unshift("..");!w||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),O&&"/"!==E.join("/").substr(-1)&&E.push("");var R,P=""===E[0]||E[0]&&"/"===E[0].charAt(0);k&&(r.hostname=r.host=P?"":E.length?E.shift():"",(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift()));return(w=w||r.host&&E.length)&&!P&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),s.isNull(r.pathname)&&s.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":61,punycode:28,querystring:42}],61:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],62:[function(t,e,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(t){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[23]);const regex_1=/https:\/\/redd\.it\/([a-z0-9]*)$/,regex_2=/\/comments\/([a-z0-9]*)\//,regex_3=/^[a-z0-9]*$/;async function init_reddit(){r=await reddit(),$("#download-button").removeClass("disabled"),$("#download-button").removeAttr("disabled");var t=window.location.search;if(t){var e=t.split("?id=")[1];e&&download(e)}}async function reddit(){let t=await window.snoowrap.fromApplicationOnlyAuth({userAgent:"RedDown App",clientId:"v18uC9EUFIOVIbq7s0UO-Q",deviceId:random_id(),redirectUri:"https://red.buzl.uk"}).then((t=>t));return t}function extract_id(t){var e=t.match(regex_1);return e&&2==e.length||(e=t.match(regex_2))&&2==e.length?e[1]:(e=t.match(regex_3))&&1==e.length?e[0]:null}async function download(t=null){if($(".error").addClass("visually-hidden"),!t){var e=$("#post-url").val();if(!e.length)return void $("#post-url").focus();if(!(t=extract_id(e)))return void $("#url-error").removeClass("visually-hidden")}$("#progress-bar").removeClass("visually-hidden");var n=await r.getSubmission(t).fetch().then((t=>t));return console.log(n),"v.redd.it"==n.domain?(get_video_with_sound(n),void $("#success").removeClass("visually-hidden")):"i.redd.it"==n.domain?(get_image(n),void $("#success").removeClass("visually-hidden")):($("#post-url").val(""),void $("#type-error").removeClass("visually-hidden"))}async function get_image(t){window.location.href=t.url}async function get_video_with_sound(t){var e=t.media.reddit_video.fallback_url.match(/https:\/\/v\.redd\.it\/.*\//)[0],r=await download_xml(t.media.reddit_video.dash_url),n=$(r).find("AdaptationSet[contentType='audio']").find("BaseURL"),i=$(r).find("AdaptationSet[contentType='video']").find("BaseURL"),o=await download_file(e+i[i.length-1].textContent),s=await download_file(e+n[n.length-1].textContent),a=await mergeVideo(o,s),u=URL.createObjectURL(new Blob([a],{type:"video/mp4"}));$("#output").attr("href",u),$("#output").attr("download",t.id+".mp4"),document.getElementById("output").click()}async function mergeVideo(t,e){var{createFFmpeg:r,fetchFile:n}=FFmpeg,i=r();return await i.load(),i.FS("writeFile","video.mp4",await n(t)),i.FS("writeFile","audio.mp4",await n(e)),await i.run("-i","video.mp4","-i","audio.mp4","-c","copy","output.mp4"),(await i.FS("readFile","output.mp4")).buffer}async function get_video_without_sound(t){var e=await download_file(t.media.reddit_video.fallback_url),r=URL.createObjectURL(e);$("#output").attr("href",r),$("#output").attr("download",t.id+".mp4"),document.getElementById("output").click()}function download_xml(t){return fetch(t,{method:"GET"}).then((t=>!!t.ok&&t.text())).then((t=>(new window.DOMParser).parseFromString(t,"text/xml")))}function download_file(t){return fetch(t,{method:"GET"}).then((t=>!!t.ok&&t.blob()))}function random_id(){return(Math.random()+1).toString(16).substring(2)+(Math.random()+1).toString(16).substring(2)}init_reddit(),$("#post-url").on("keyup",(function(t){"Enter"==t.key&&download()}));